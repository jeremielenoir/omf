if(function(){var t=this,e=t._,i=Array.prototype,r=Object.prototype,n=Function.prototype,s=i.push,o=i.slice,a=r.toString,h=r.hasOwnProperty,l=Array.isArray,u=Object.keys,c=n.bind,p=Object.create,d=function(){},f=function(t){return t instanceof f?t:this instanceof f?void(this._wrapped=t):new f(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=f),exports._=f):t._=f,f.VERSION="1.8.3";var g=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,n){return t.call(e,i,r,n)};case 4:return function(i,r,n,s){return t.call(e,i,r,n,s)}}return function(){return t.apply(e,arguments)}},m=function(t,e,i){return null==t?f.identity:f.isFunction(t)?g(t,e,i):f.isObject(t)?f.matcher(t):f.property(t)};f.iteratee=function(t,e){return m(t,e,1/0)};var v=function(t,e){return function(i){var r=arguments.length;if(r<2||null==i)return i;for(var n=1;n<r;n++)for(var s=arguments[n],o=t(s),a=o.length,h=0;h<a;h++){var l=o[h];e&&void 0!==i[l]||(i[l]=s[l])}return i}},y=function(t){if(!f.isObject(t))return{};if(p)return p(t);d.prototype=t;var e=new d;return d.prototype=null,e},x=function(t){return function(e){return null==e?void 0:e[t]}},b=Math.pow(2,53)-1,_=x("length"),w=function(t){var e=_(t);return"number"==typeof e&&e>=0&&e<=b};f.each=f.forEach=function(t,e,i){e=g(e,i);var r,n;if(w(t))for(r=0,n=t.length;r<n;r++)e(t[r],r,t);else{var s=f.keys(t);for(r=0,n=s.length;r<n;r++)e(t[s[r]],s[r],t)}return t},f.map=f.collect=function(t,e,i){e=m(e,i);for(var r=!w(t)&&f.keys(t),n=(r||t).length,s=Array(n),o=0;o<n;o++){var a=r?r[o]:o;s[o]=e(t[a],a,t)}return s};function T(t){return function(e,i,r,n){i=g(i,n,4);var s=!w(e)&&f.keys(e),o=(s||e).length,a=t>0?0:o-1;return arguments.length<3&&(r=e[s?s[a]:a],a+=t),function(e,i,r,n,s,o){for(;s>=0&&s<o;s+=t){var a=n?n[s]:s;r=i(r,e[a],a,e)}return r}(e,i,r,s,a,o)}}f.reduce=f.foldl=f.inject=T(1),f.reduceRight=f.foldr=T(-1),f.find=f.detect=function(t,e,i){var r;if(void 0!==(r=w(t)?f.findIndex(t,e,i):f.findKey(t,e,i))&&-1!==r)return t[r]},f.filter=f.select=function(t,e,i){var r=[];return e=m(e,i),f.each(t,function(t,i,n){e(t,i,n)&&r.push(t)}),r},f.reject=function(t,e,i){return f.filter(t,f.negate(m(e)),i)},f.every=f.all=function(t,e,i){e=m(e,i);for(var r=!w(t)&&f.keys(t),n=(r||t).length,s=0;s<n;s++){var o=r?r[s]:s;if(!e(t[o],o,t))return!1}return!0},f.some=f.any=function(t,e,i){e=m(e,i);for(var r=!w(t)&&f.keys(t),n=(r||t).length,s=0;s<n;s++){var o=r?r[s]:s;if(e(t[o],o,t))return!0}return!1},f.contains=f.includes=f.include=function(t,e,i,r){return w(t)||(t=f.values(t)),("number"!=typeof i||r)&&(i=0),f.indexOf(t,e,i)>=0},f.invoke=function(t,e){var i=o.call(arguments,2),r=f.isFunction(e);return f.map(t,function(t){var n=r?e:t[e];return null==n?n:n.apply(t,i)})},f.pluck=function(t,e){return f.map(t,f.property(e))},f.where=function(t,e){return f.filter(t,f.matcher(e))},f.findWhere=function(t,e){return f.find(t,f.matcher(e))},f.max=function(t,e,i){var r,n,s=-1/0,o=-1/0;if(null==e&&null!=t)for(var a=0,h=(t=w(t)?t:f.values(t)).length;a<h;a++)(r=t[a])>s&&(s=r);else e=m(e,i),f.each(t,function(t,i,r){((n=e(t,i,r))>o||n===-1/0&&s===-1/0)&&(s=t,o=n)});return s},f.min=function(t,e,i){var r,n,s=1/0,o=1/0;if(null==e&&null!=t)for(var a=0,h=(t=w(t)?t:f.values(t)).length;a<h;a++)(r=t[a])<s&&(s=r);else e=m(e,i),f.each(t,function(t,i,r){((n=e(t,i,r))<o||n===1/0&&s===1/0)&&(s=t,o=n)});return s},f.shuffle=function(t){for(var e,i=w(t)?t:f.values(t),r=i.length,n=Array(r),s=0;s<r;s++)(e=f.random(0,s))!==s&&(n[s]=n[e]),n[e]=i[s];return n},f.sample=function(t,e,i){return null==e||i?(w(t)||(t=f.values(t)),t[f.random(t.length-1)]):f.shuffle(t).slice(0,Math.max(0,e))},f.sortBy=function(t,e,i){return e=m(e,i),f.pluck(f.map(t,function(t,i,r){return{value:t,index:i,criteria:e(t,i,r)}}).sort(function(t,e){var i=t.criteria,r=e.criteria;if(i!==r){if(i>r||void 0===i)return 1;if(i<r||void 0===r)return-1}return t.index-e.index}),"value")};var S=function(t){return function(e,i,r){var n={};return i=m(i,r),f.each(e,function(r,s){var o=i(r,s,e);t(n,r,o)}),n}};f.groupBy=S(function(t,e,i){f.has(t,i)?t[i].push(e):t[i]=[e]}),f.indexBy=S(function(t,e,i){t[i]=e}),f.countBy=S(function(t,e,i){f.has(t,i)?t[i]++:t[i]=1}),f.toArray=function(t){return t?f.isArray(t)?o.call(t):w(t)?f.map(t,f.identity):f.values(t):[]},f.size=function(t){return null==t?0:w(t)?t.length:f.keys(t).length},f.partition=function(t,e,i){e=m(e,i);var r=[],n=[];return f.each(t,function(t,i,s){(e(t,i,s)?r:n).push(t)}),[r,n]},f.first=f.head=f.take=function(t,e,i){if(null!=t)return null==e||i?t[0]:f.initial(t,t.length-e)},f.initial=function(t,e,i){return o.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},f.last=function(t,e,i){if(null!=t)return null==e||i?t[t.length-1]:f.rest(t,Math.max(0,t.length-e))},f.rest=f.tail=f.drop=function(t,e,i){return o.call(t,null==e||i?1:e)},f.compact=function(t){return f.filter(t,f.identity)};var C=function(t,e,i,r){for(var n=[],s=0,o=r||0,a=_(t);o<a;o++){var h=t[o];if(w(h)&&(f.isArray(h)||f.isArguments(h))){e||(h=C(h,e,i));var l=0,u=h.length;for(n.length+=u;l<u;)n[s++]=h[l++]}else i||(n[s++]=h)}return n};f.flatten=function(t,e){return C(t,e,!1)},f.without=function(t){return f.difference(t,o.call(arguments,1))},f.uniq=f.unique=function(t,e,i,r){f.isBoolean(e)||(r=i,i=e,e=!1),null!=i&&(i=m(i,r));for(var n=[],s=[],o=0,a=_(t);o<a;o++){var h=t[o],l=i?i(h,o,t):h;e?(o&&s===l||n.push(h),s=l):i?f.contains(s,l)||(s.push(l),n.push(h)):f.contains(n,h)||n.push(h)}return n},f.union=function(){return f.uniq(C(arguments,!0,!0))},f.intersection=function(t){for(var e=[],i=arguments.length,r=0,n=_(t);r<n;r++){var s=t[r];if(!f.contains(e,s)){for(var o=1;o<i&&f.contains(arguments[o],s);o++);o===i&&e.push(s)}}return e},f.difference=function(t){var e=C(arguments,!0,!0,1);return f.filter(t,function(t){return!f.contains(e,t)})},f.zip=function(){return f.unzip(arguments)},f.unzip=function(t){for(var e=t&&f.max(t,_).length||0,i=Array(e),r=0;r<e;r++)i[r]=f.pluck(t,r);return i},f.object=function(t,e){for(var i={},r=0,n=_(t);r<n;r++)e?i[t[r]]=e[r]:i[t[r][0]]=t[r][1];return i};function E(t){return function(e,i,r){i=m(i,r);for(var n=_(e),s=t>0?0:n-1;s>=0&&s<n;s+=t)if(i(e[s],s,e))return s;return-1}}f.findIndex=E(1),f.findLastIndex=E(-1),f.sortedIndex=function(t,e,i,r){for(var n=(i=m(i,r,1))(e),s=0,o=_(t);s<o;){var a=Math.floor((s+o)/2);i(t[a])<n?s=a+1:o=a}return s};function A(t,e,i){return function(r,n,s){var a=0,h=_(r);if("number"==typeof s)t>0?a=s>=0?s:Math.max(s+h,a):h=s>=0?Math.min(s+1,h):s+h+1;else if(i&&s&&h)return r[s=i(r,n)]===n?s:-1;if(n!=n)return(s=e(o.call(r,a,h),f.isNaN))>=0?s+a:-1;for(s=t>0?a:h-1;s>=0&&s<h;s+=t)if(r[s]===n)return s;return-1}}f.indexOf=A(1,f.findIndex,f.sortedIndex),f.lastIndexOf=A(-1,f.findLastIndex),f.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var r=Math.max(Math.ceil((e-t)/i),0),n=Array(r),s=0;s<r;s++,t+=i)n[s]=t;return n};var k=function(t,e,i,r,n){if(!(r instanceof e))return t.apply(i,n);var s=y(t.prototype),o=t.apply(s,n);return f.isObject(o)?o:s};f.bind=function(t,e){if(c&&t.bind===c)return c.apply(t,o.call(arguments,1));if(!f.isFunction(t))throw new TypeError("Bind must be called on a function");var i=o.call(arguments,2),r=function(){return k(t,r,e,this,i.concat(o.call(arguments)))};return r},f.partial=function(t){var e=o.call(arguments,1),i=function(){for(var r=0,n=e.length,s=Array(n),o=0;o<n;o++)s[o]=e[o]===f?arguments[r++]:e[o];for(;r<arguments.length;)s.push(arguments[r++]);return k(t,i,this,this,s)};return i},f.bindAll=function(t){var e,i,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(e=1;e<r;e++)t[i=arguments[e]]=f.bind(t[i],t);return t},f.memoize=function(t,e){var i=function(r){var n=i.cache,s=""+(e?e.apply(this,arguments):r);return f.has(n,s)||(n[s]=t.apply(this,arguments)),n[s]};return i.cache={},i},f.delay=function(t,e){var i=o.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},f.defer=f.partial(f.delay,f,1),f.throttle=function(t,e,i){var r,n,s,o=null,a=0;i||(i={});var h=function(){a=!1===i.leading?0:f.now(),o=null,s=t.apply(r,n),o||(r=n=null)};return function(){var l=f.now();a||!1!==i.leading||(a=l);var u=e-(l-a);return r=this,n=arguments,u<=0||u>e?(o&&(clearTimeout(o),o=null),a=l,s=t.apply(r,n),o||(r=n=null)):o||!1===i.trailing||(o=setTimeout(h,u)),s}},f.debounce=function(t,e,i){var r,n,s,o,a,h=function(){var l=f.now()-o;l<e&&l>=0?r=setTimeout(h,e-l):(r=null,i||(a=t.apply(s,n),r||(s=n=null)))};return function(){s=this,n=arguments,o=f.now();var l=i&&!r;return r||(r=setTimeout(h,e)),l&&(a=t.apply(s,n),s=n=null),a}},f.wrap=function(t,e){return f.partial(e,t)},f.negate=function(t){return function(){return!t.apply(this,arguments)}},f.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,r=t[e].apply(this,arguments);i--;)r=t[i].call(this,r);return r}},f.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},f.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},f.once=f.partial(f.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function P(t,e){var i=R.length,n=t.constructor,s=f.isFunction(n)&&n.prototype||r,o="constructor";for(f.has(t,o)&&!f.contains(e,o)&&e.push(o);i--;)(o=R[i])in t&&t[o]!==s[o]&&!f.contains(e,o)&&e.push(o)}f.keys=function(t){if(!f.isObject(t))return[];if(u)return u(t);var e=[];for(var i in t)f.has(t,i)&&e.push(i);return M&&P(t,e),e},f.allKeys=function(t){if(!f.isObject(t))return[];var e=[];for(var i in t)e.push(i);return M&&P(t,e),e},f.values=function(t){for(var e=f.keys(t),i=e.length,r=Array(i),n=0;n<i;n++)r[n]=t[e[n]];return r},f.mapObject=function(t,e,i){e=m(e,i);for(var r,n=f.keys(t),s=n.length,o={},a=0;a<s;a++)o[r=n[a]]=e(t[r],r,t);return o},f.pairs=function(t){for(var e=f.keys(t),i=e.length,r=Array(i),n=0;n<i;n++)r[n]=[e[n],t[e[n]]];return r},f.invert=function(t){for(var e={},i=f.keys(t),r=0,n=i.length;r<n;r++)e[t[i[r]]]=i[r];return e},f.functions=f.methods=function(t){var e=[];for(var i in t)f.isFunction(t[i])&&e.push(i);return e.sort()},f.extend=v(f.allKeys),f.extendOwn=f.assign=v(f.keys),f.findKey=function(t,e,i){e=m(e,i);for(var r,n=f.keys(t),s=0,o=n.length;s<o;s++)if(e(t[r=n[s]],r,t))return r},f.pick=function(t,e,i){var r,n,s={},o=t;if(null==o)return s;f.isFunction(e)?(n=f.allKeys(o),r=g(e,i)):(n=C(arguments,!1,!1,1),r=function(t,e,i){return e in i},o=Object(o));for(var a=0,h=n.length;a<h;a++){var l=n[a],u=o[l];r(u,l,o)&&(s[l]=u)}return s},f.omit=function(t,e,i){if(f.isFunction(e))e=f.negate(e);else{var r=f.map(C(arguments,!1,!1,1),String);e=function(t,e){return!f.contains(r,e)}}return f.pick(t,e,i)},f.defaults=v(f.allKeys,!0),f.create=function(t,e){var i=y(t);return e&&f.extendOwn(i,e),i},f.clone=function(t){return f.isObject(t)?f.isArray(t)?t.slice():f.extend({},t):t},f.tap=function(t,e){return e(t),t},f.isMatch=function(t,e){var i=f.keys(e),r=i.length;if(null==t)return!r;for(var n=Object(t),s=0;s<r;s++){var o=i[s];if(e[o]!==n[o]||!(o in n))return!1}return!0};var L=function(t,e,i,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof f&&(t=t._wrapped),e instanceof f&&(e=e._wrapped);var n=a.call(t);if(n!==a.call(e))return!1;switch(n){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var s="[object Array]"===n;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,h=e.constructor;if(o!==h&&!(f.isFunction(o)&&o instanceof o&&f.isFunction(h)&&h instanceof h)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],r=r||[];for(var l=i.length;l--;)if(i[l]===t)return r[l]===e;if(i.push(t),r.push(e),s){if((l=t.length)!==e.length)return!1;for(;l--;)if(!L(t[l],e[l],i,r))return!1}else{var u,c=f.keys(t);if(l=c.length,f.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!f.has(e,u)||!L(t[u],e[u],i,r))return!1}return i.pop(),r.pop(),!0};f.isEqual=function(t,e){return L(t,e)},f.isEmpty=function(t){return null==t||(w(t)&&(f.isArray(t)||f.isString(t)||f.isArguments(t))?0===t.length:0===f.keys(t).length)},f.isElement=function(t){return!(!t||1!==t.nodeType)},f.isArray=l||function(t){return"[object Array]"===a.call(t)},f.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},f.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){f["is"+t]=function(e){return a.call(e)==="[object "+t+"]"}}),f.isArguments(arguments)||(f.isArguments=function(t){return f.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(f.isFunction=function(t){return"function"==typeof t||!1}),f.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},f.isNaN=function(t){return f.isNumber(t)&&t!==+t},f.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===a.call(t)},f.isNull=function(t){return null===t},f.isUndefined=function(t){return void 0===t},f.has=function(t,e){return null!=t&&h.call(t,e)},f.noConflict=function(){return t._=e,this},f.identity=function(t){return t},f.constant=function(t){return function(){return t}},f.noop=function(){},f.property=x,f.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},f.matcher=f.matches=function(t){return t=f.extendOwn({},t),function(e){return f.isMatch(e,t)}},f.times=function(t,e,i){var r=Array(Math.max(0,t));e=g(e,i,1);for(var n=0;n<t;n++)r[n]=e(n);return r},f.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},f.now=Date.now||function(){return(new Date).getTime()};var O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},D=f.invert(O),I=function(t){var e=function(e){return t[e]},i="(?:"+f.keys(t).join("|")+")",r=RegExp(i),n=RegExp(i,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(n,e):t}};f.escape=I(O),f.unescape=I(D),f.result=function(t,e,i){var r=null==t?void 0:t[e];return void 0===r&&(r=i),f.isFunction(r)?r.call(t):r};var F=0;f.uniqueId=function(t){var e=++F+"";return t?t+e:e},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\u2028|\u2029/g,U=function(t){return"\\"+N[t]};f.template=function(t,e,i){!e&&i&&(e=i),e=f.defaults({},e,f.templateSettings);var r=RegExp([(e.escape||B).source,(e.interpolate||B).source,(e.evaluate||B).source].join("|")+"|$","g"),n=0,s="__p+='";t.replace(r,function(e,i,r,o,a){return s+=t.slice(n,a).replace(j,U),n=a+e.length,i?s+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),e}),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(e.variable||"obj","_",s)}catch(t){throw t.source=s,t}var a=function(t){return o.call(this,t,f)},h=e.variable||"obj";return a.source="function("+h+"){\n"+s+"}",a},f.chain=function(t){var e=f(t);return e._chain=!0,e};var G=function(t,e){return t._chain?f(e).chain():e};f.mixin=function(t){f.each(f.functions(t),function(e){var i=f[e]=t[e];f.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),G(this,i.apply(f,t))}})},f.mixin(f),f.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];f.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],G(this,i)}}),f.each(["concat","join","slice"],function(t){var e=i[t];f.prototype[t]=function(){return G(this,e.apply(this._wrapped,arguments))}}),f.prototype.value=function(){return this._wrapped},f.prototype.valueOf=f.prototype.toJSON=f.prototype.value,f.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return f})}.call(this),function(t){var e="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(i,r,n){e.Backbone=t(e,n,i,r)});else if("undefined"!=typeof exports){var i,r=require("underscore");try{i=require("jquery")}catch(t){}t(e,exports,r,i)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e,i,r){var n=t.Backbone,s=[].slice;e.VERSION="1.2.1",e.$=r,e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=function(t,e,r){i.each(e,function(e,n){i[n]&&(t.prototype[n]=function(t,e,r){switch(t){case 1:return function(){return i[e](this[r])};case 2:return function(t){return i[e](this[r],t)};case 3:return function(t,n){return i[e](this[r],t,n)};case 4:return function(t,n,s){return i[e](this[r],t,n,s)};default:return function(){var t=s.call(arguments);return t.unshift(this[r]),i[e].apply(i,t)}}}(e,n,r))})},a=e.Events={},h=/\s+/,l=function(t,e,r,n,s){var o,a=0;if(r&&"object"==typeof r){void 0!==n&&"context"in s&&void 0===s.context&&(s.context=n);for(o=i.keys(r);a<o.length;a++)e=t(e,o[a],r[o[a]],s)}else if(r&&h.test(r))for(o=r.split(h);a<o.length;a++)e=t(e,o[a],n,s);else e=t(e,r,n,s);return e};a.on=function(t,e,i){return u(this,t,e,i)};var u=function(t,e,i,r,n){if(t._events=l(c,t._events||{},e,i,{context:r,ctx:t,listening:n}),n){(t._listeners||(t._listeners={}))[n.id]=n}return t};a.listenTo=function(t,e,r){if(!t)return this;var n=t._listenId||(t._listenId=i.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),o=s[n];if(!o){var a=this._listenId||(this._listenId=i.uniqueId("l"));o=s[n]={obj:t,objId:n,id:a,listeningTo:s,count:0}}return u(t,e,r,this,o),this};var c=function(t,e,i,r){if(i){var n=t[e]||(t[e]=[]),s=r.context,o=r.ctx,a=r.listening;a&&a.count++,n.push({callback:i,context:s,ctx:s||o,listening:a})}return t};a.off=function(t,e,i){return this._events?(this._events=l(p,this._events,t,e,{context:i,listeners:this._listeners}),this):this},a.stopListening=function(t,e,r){var n=this._listeningTo;if(!n)return this;for(var s=t?[t._listenId]:i.keys(n),o=0;o<s.length;o++){var a=n[s[o]];if(!a)break;a.obj.off(e,r,this)}return i.isEmpty(n)&&(this._listeningTo=void 0),this};var p=function(t,e,r,n){if(t){var s,o=0,a=n.context,h=n.listeners;if(e||r||a){for(var l=e?[e]:i.keys(t);o<l.length;o++){var u=t[e=l[o]];if(!u)break;for(var c=[],p=0;p<u.length;p++){var d=u[p];r&&r!==d.callback&&r!==d.callback._callback||a&&a!==d.context?c.push(d):(s=d.listening)&&0==--s.count&&(delete h[s.id],delete s.listeningTo[s.objId])}c.length?t[e]=c:delete t[e]}return i.size(t)?t:void 0}for(var f=i.keys(h);o<f.length;o++)delete h[(s=h[f[o]]).id],delete s.listeningTo[s.objId]}};a.once=function(t,e,r){var n=l(d,{},t,e,i.bind(this.off,this));return this.on(n,void 0,r)},a.listenToOnce=function(t,e,r){var n=l(d,{},e,r,i.bind(this.stopListening,this,t));return this.listenTo(t,n)};var d=function(t,e,r,n){if(r){var s=t[e]=i.once(function(){n(e,s),r.apply(this,arguments)});s._callback=r}return t};a.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),r=0;r<e;r++)i[r]=arguments[r+1];return l(f,this._events,t,void 0,i),this};var f=function(t,e,i,r){if(t){var n=t[e],s=t.all;n&&s&&(s=s.slice()),n&&g(n,r),s&&g(s,[e].concat(r))}return t},g=function(t,e){var i,r=-1,n=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++r<n;)(i=t[r]).callback.call(i.ctx);return;case 1:for(;++r<n;)(i=t[r]).callback.call(i.ctx,s);return;case 2:for(;++r<n;)(i=t[r]).callback.call(i.ctx,s,o);return;case 3:for(;++r<n;)(i=t[r]).callback.call(i.ctx,s,o,a);return;default:for(;++r<n;)(i=t[r]).callback.apply(i.ctx,e);return}};a.bind=a.on,a.unbind=a.off,i.extend(e,a);var m=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{}),r=i.defaults({},r,i.result(this,"defaults")),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(m.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var n;if("object"==typeof t?(n=t,r=e):(n={})[t]=e,r||(r={}),!this._validate(n,r))return!1;var s=r.unset,o=r.silent,a=[],h=this._changing;this._changing=!0,h||(this._previousAttributes=i.clone(this.attributes),this.changed={});var l=this.attributes,u=this.changed,c=this._previousAttributes;this.idAttribute in n&&(this.id=n[this.idAttribute]);for(var p in n)e=n[p],i.isEqual(l[p],e)||a.push(p),i.isEqual(c[p],e)?delete u[p]:u[p]=e,s?delete l[p]:l[p]=e;if(!o){a.length&&(this._pending=r);for(var d=0;d<a.length;d++)this.trigger("change:"+a[d],this,l[a[d]],r)}if(h)return this;if(!o)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,r={};for(var n in t){var s=t[n];i.isEqual(e[n],s)||(r[n]=s)}return!!i.size(r)&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){var e=this,r=(t=i.extend({parse:!0},t)).success;return t.success=function(i){var n=t.parse?e.parse(i,t):i;if(!e.set(n,t))return!1;r&&r.call(t.context,e,i,t),e.trigger("sync",e,i,t)},D(this,t),this.sync("read",this,t)},save:function(t,e,r){var n;null==t||"object"==typeof t?(n=t,r=e):(n={})[t]=e;var s=(r=i.extend({validate:!0,parse:!0},r)).wait;if(n&&!s){if(!this.set(n,r))return!1}else if(!this._validate(n,r))return!1;var o=this,a=r.success,h=this.attributes;r.success=function(t){o.attributes=h;var e=r.parse?o.parse(t,r):t;if(s&&(e=i.extend({},n,e)),e&&!o.set(e,r))return!1;a&&a.call(r.context,o,t,r),o.trigger("sync",o,t,r)},D(this,r),n&&s&&(this.attributes=i.extend({},h,n));var l=this.isNew()?"create":r.patch?"patch":"update";"patch"!==l||r.attrs||(r.attrs=n);var u=this.sync(l,this,r);return this.attributes=h,u},destroy:function(t){var e=this,r=(t=t?i.clone(t):{}).success,n=t.wait,s=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){n&&s(),r&&r.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var o=!1;return this.isNew()?i.defer(t.success):(D(this,t),o=this.sync("delete",this,t)),n||s(),o},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||O();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,i.extend(e,{validationError:r})),!1)}});o(m,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var v=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},y={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1};i.extend(v.prototype,a,{model:m,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,x))},remove:function(t,e){e=i.extend({},e);var r=!i.isArray(t);t=r?[t]:i.clone(t);var n=this._removeModels(t,e);return!e.silent&&n&&this.trigger("update",this,e),r?n[0]:n},set:function(t,e){(e=i.defaults({},e,y)).parse&&!this._isModel(t)&&(t=this.parse(t,e));var r=!i.isArray(t);t=r?t?[t]:[]:t.slice();var n,s,o,a,h,l=e.at;null!=l&&(l=+l),l<0&&(l+=this.length+1);for(var u=this.comparator&&null==l&&!1!==e.sort,c=i.isString(this.comparator)?this.comparator:null,p=[],d=[],f={},g=e.add,m=e.merge,v=e.remove,x=!(u||!g||!v)&&[],b=!1,_=0;_<t.length;_++){if(o=t[_],a=this.get(o))v&&(f[a.cid]=!0),m&&o!==a&&(o=this._isModel(o)?o.attributes:o,e.parse&&(o=a.parse(o,e)),a.set(o,e),u&&!h&&a.hasChanged(c)&&(h=!0)),t[_]=a;else if(g){if(!(s=t[_]=this._prepareModel(o,e)))continue;p.push(s),this._addReference(s,e)}(s=a||s)&&(n=this.modelId(s.attributes),!x||!s.isNew()&&f[n]||(x.push(s),b=b||!this.models[_]||s.cid!==this.models[_].cid),f[n]=!0)}if(v){for(_=0;_<this.length;_++)f[(s=this.models[_]).cid]||d.push(s);d.length&&this._removeModels(d,e)}if(p.length||b)if(u&&(h=!0),this.length+=p.length,null!=l)for(_=0;_<p.length;_++)this.models.splice(l+_,0,p[_]);else{x&&(this.models.length=0);var w=x||p;for(_=0;_<w.length;_++)this.models.push(w[_])}if(h&&this.sort({silent:!0}),!e.silent){var T=null!=l?i.clone(e):e;for(_=0;_<p.length;_++)null!=l&&(T.index=l+_),(s=p[_]).trigger("add",s,this,T);(h||b)&&this.trigger("sort",this,e),(p.length||d.length)&&this.trigger("update",this,e)}return r?t[0]:t},reset:function(t,e){e=e?i.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){var r=i.matches(t);return this[e?"find":"filter"](function(t){return r(t.attributes)})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return i.invoke(this.models,"get",t)},fetch:function(t){var e=(t=i.extend({parse:!0},t)).success,r=this;return t.success=function(i){var n=t.reset?"reset":"set";r[n](i,t),e&&e.call(t.context,r,i,t),r.trigger("sync",r,i,t)},D(this,t),this.sync("read",this,t)},create:function(t,e){var r=(e=e?i.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var n=this,s=e.success;return e.success=function(t,e,i){r&&n.add(t,i),s&&s.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?i.clone(e):{}).collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var i=[],r=0;r<t.length;r++){var n=this.get(t[r]);if(n){var s=this.indexOf(n);this.models.splice(s,1),this.length--,e.silent||(e.index=s,n.trigger("remove",n,this,e)),i.push(n),this._removeReference(n,e)}}return!!i.length&&i},_isModel:function(t){return t instanceof m},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,r){if("add"!==t&&"remove"!==t||i===this){if("destroy"===t&&this.remove(e,r),"change"===t){var n=this.modelId(e.previousAttributes()),s=this.modelId(e.attributes);n!==s&&(null!=n&&delete this._byId[n],null!=s&&(this._byId[s]=e))}this.trigger.apply(this,arguments)}}});o(v,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:2,contains:2,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3},"models");i.each(["groupBy","countBy","sortBy","indexBy"],function(t){i[t]&&(v.prototype[t]=function(e,r){var n=i.isFunction(e)?e:function(t){return t.get(e)};return i[t](this.models,n,r)})});var b=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,w)),this._ensureElement(),this.initialize.apply(this,arguments)},_=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];i.extend(b.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var r=t[e];if(i.isFunction(r)||(r=this[r]),r){var n=e.match(_);this.delegate(n[1],n[2],i.bind(r,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,r,n){var s=T[t];i.defaults(n||(n={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:s,dataType:"json"};if(n.url||(o.url=i.result(r,"url")||O()),null!=n.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(n.attrs||r.toJSON(n))),n.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),n.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",n.emulateJSON&&(o.data._method=s);var a=n.beforeSend;n.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",s),a)return a.apply(this,arguments)}}"GET"===o.type||n.emulateJSON||(o.processData=!1);var h=n.error;n.error=function(t,e,i){n.textStatus=e,n.errorThrown=i,h&&h.call(n.context,t,e,i)};var l=n.xhr=e.ajax(i.extend(o,n));return r.trigger("request",r,l,n),l};var T={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var S=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,A=/\*\w+/g,k=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(S.prototype,a,{initialize:function(){},route:function(t,r,n){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(r)&&(n=r,r=""),n||(n=this[r]);var s=this;return e.history.route(t,function(i){var o=s._extractParameters(t,i);!1!==s.execute(n,o,r)&&(s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),e.history.trigger("route",s,r,o))}),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(k,"\\$&").replace(C,"(?:$1)?").replace(E,function(t,e){return e?t:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return i.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var M=e.History=function(){this.handlers=[],i.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},R=/^[#\/]|\s+$/g,P=/^\/+|\/+$/g,L=/#.*$/;M.started=!1,i.extend(M.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(R,"")},start:function(t){if(M.started)throw new Error("Backbone.history has already been started");if(M.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window,this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(P,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,n=r.insertBefore(this.iframe,r.firstChild).contentWindow;n.document.open(),n.document.close(),n.location.hash="#"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!M.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var r=i+t;if(t=this.decodeFragment(t.replace(L,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var n=this.iframe.contentWindow;e.replace||(n.document.open(),n.document.close()),this._updateHash(n.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new M;m.extend=v.extend=S.extend=b.extend=M.extend=function(t,e){var r,n=this;r=t&&i.has(t,"constructor")?t.constructor:function(){return n.apply(this,arguments)},i.extend(r,n,e);var s=function(){this.constructor=r};return s.prototype=n.prototype,r.prototype=new s,t&&i.extend(r.prototype,t),r.__super__=n.prototype,r};var O=function(){throw new Error('A "url" property or function must be specified')},D=function(t,e){var i=e.error;e.error=function(r){i&&i.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e}),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){var i=[],r=i.slice,n=i.concat,s=i.push,o=i.indexOf,a={},h=a.toString,l=a.hasOwnProperty,u={},c=t.document,p=function(t,e){return new p.fn.init(t,e)},d=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,f=/^-ms-/,g=/-([\da-z])/gi,m=function(t,e){return e.toUpperCase()};p.fn=p.prototype={jquery:"2.1.4",constructor:p,selector:"",length:0,toArray:function(){return r.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:r.call(this)},pushStack:function(t){var e=p.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return p.each(this,t,e)},map:function(t){return this.pushStack(p.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:i.sort,splice:i.splice},p.extend=p.fn.extend=function(){var t,e,i,r,n,s,o=arguments[0]||{},a=1,h=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"==typeof o||p.isFunction(o)||(o={}),a===h&&(o=this,a--);a<h;a++)if(null!=(t=arguments[a]))for(e in t)i=o[e],o!==(r=t[e])&&(l&&r&&(p.isPlainObject(r)||(n=p.isArray(r)))?(n?(n=!1,s=i&&p.isArray(i)?i:[]):s=i&&p.isPlainObject(i)?i:{},o[e]=p.extend(l,s,r)):void 0!==r&&(o[e]=r));return o},p.extend({expando:"jQuery"+("2.1.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===p.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!p.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"===p.type(t)&&!t.nodeType&&!p.isWindow(t)&&!(t.constructor&&!l.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?a[h.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;(t=p.trim(t))&&(1===t.indexOf("use strict")?((e=c.createElement("script")).text=t,c.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(f,"ms-").replace(g,m)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r=0,n=t.length,s=v(t);if(i){if(s)for(;r<n&&!1!==e.apply(t[r],i);r++);else for(r in t)if(!1===e.apply(t[r],i))break}else if(s)for(;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(d,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(v(Object(t))?p.merge(i,"string"==typeof t?[t]:t):s.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:o.call(e,t,i)},merge:function(t,e){for(var i=+e.length,r=0,n=t.length;r<i;r++)t[n++]=e[r];return t.length=n,t},grep:function(t,e,i){for(var r=[],n=0,s=t.length,o=!i;n<s;n++)!e(t[n],n)!==o&&r.push(t[n]);return r},map:function(t,e,i){var r,s=0,o=t.length,a=[];if(v(t))for(;s<o;s++)null!=(r=e(t[s],s,i))&&a.push(r);else for(s in t)null!=(r=e(t[s],s,i))&&a.push(r);return n.apply([],a)},guid:1,proxy:function(t,e){var i,n,s;if("string"==typeof e&&(i=t[e],e=t,t=i),p.isFunction(t))return n=r.call(arguments,2),(s=function(){return t.apply(e||this,n.concat(r.call(arguments)))}).guid=t.guid=t.guid||p.guid++,s},now:Date.now,support:u}),p.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){a["[object "+e+"]"]=e.toLowerCase()});function v(t){var e="length"in t&&t.length,i=p.type(t);return"function"!==i&&!p.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t))}var y=function(t){var e,i,r,n,s,o,a,h,l,u,c,p,d,f,g,m,v,y,x,b="sizzle"+1*new Date,_=t.document,w=0,T=0,S=ot(),C=ot(),E=ot(),A=function(t,e){return t===e&&(c=!0),0},k=1<<31,M={}.hasOwnProperty,R=[],P=R.pop,L=R.push,O=R.push,D=R.slice,I=function(t,e){for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",j=N.replace("w","w#"),U="\\["+B+"*("+N+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+B+"*\\]",G=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",W=new RegExp(B+"+","g"),$=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),H=new RegExp("^"+B+"*,"+B+"*"),q=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),z=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),X=new RegExp(G),V=new RegExp("^"+j+"$"),Y={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+G),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=/'|\\/g,it=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),rt=function(t,e,i){var r="0x"+e-65536;return r!=r||i?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},nt=function(){p()};try{O.apply(R=D.call(_.childNodes),_.childNodes),R[_.childNodes.length].nodeType}catch(t){O={apply:R.length?function(t,e){L.apply(t,D.call(e))}:function(t,e){for(var i=t.length,r=0;t[i++]=e[r++];);t.length=i-1}}}function st(t,e,r,n){var s,a,l,u,c,f,v,y,w,T;if((e?e.ownerDocument||e:_)!==d&&p(e),e=e||d,r=r||[],u=e.nodeType,"string"!=typeof t||!t||1!==u&&9!==u&&11!==u)return r;if(!n&&g){if(11!==u&&(s=Z.exec(t)))if(l=s[1]){if(9===u){if(!(a=e.getElementById(l))||!a.parentNode)return r;if(a.id===l)return r.push(a),r}else if(e.ownerDocument&&(a=e.ownerDocument.getElementById(l))&&x(e,a)&&a.id===l)return r.push(a),r}else{if(s[2])return O.apply(r,e.getElementsByTagName(t)),r;if((l=s[3])&&i.getElementsByClassName)return O.apply(r,e.getElementsByClassName(l)),r}if(i.qsa&&(!m||!m.test(t))){if(y=v=b,w=e,T=1!==u&&t,1===u&&"object"!==e.nodeName.toLowerCase()){for(f=o(t),(v=e.getAttribute("id"))?y=v.replace(et,"\\$&"):e.setAttribute("id",y),y="[id='"+y+"'] ",c=f.length;c--;)f[c]=y+mt(f[c]);w=tt.test(t)&&ft(e.parentNode)||e,T=f.join(",")}if(T)try{return O.apply(r,w.querySelectorAll(T)),r}catch(t){}finally{v||e.removeAttribute("id")}}}return h(t.replace($,"$1"),e,r,n)}function ot(){var t=[];return function e(i,n){return t.push(i+" ")>r.cacheLength&&delete e[t.shift()],e[i+" "]=n}}function at(t){return t[b]=!0,t}function ht(t){var e=d.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var i=t.split("|"),n=t.length;n--;)r.attrHandle[i[n]]=e}function ut(t,e){var i=e&&t,r=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||k)-(~t.sourceIndex||k);if(r)return r;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ct(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function dt(t){return at(function(e){return e=+e,at(function(i,r){for(var n,s=t([],i.length,e),o=s.length;o--;)i[n=s[o]]&&(i[n]=!(r[n]=i[n]))})})}function ft(t){return t&&void 0!==t.getElementsByTagName&&t}i=st.support={},s=st.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},p=st.setDocument=function(t){var e,n,o=t?t.ownerDocument||t:_;return o!==d&&9===o.nodeType&&o.documentElement?(d=o,f=o.documentElement,(n=o.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",nt,!1):n.attachEvent&&n.attachEvent("onunload",nt)),g=!s(o),i.attributes=ht(function(t){return t.className="i",!t.getAttribute("className")}),i.getElementsByTagName=ht(function(t){return t.appendChild(o.createComment("")),!t.getElementsByTagName("*").length}),i.getElementsByClassName=K.test(o.getElementsByClassName),i.getById=ht(function(t){return f.appendChild(t).id=b,!o.getElementsByName||!o.getElementsByName(b).length}),i.getById?(r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},r.filter.ID=function(t){var e=t.replace(it,rt);return function(t){return t.getAttribute("id")===e}}):(delete r.find.ID,r.filter.ID=function(t){var e=t.replace(it,rt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),r.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,r=[],n=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[n++];)1===i.nodeType&&r.push(i);return r}return s},r.find.CLASS=i.getElementsByClassName&&function(t,e){if(g)return e.getElementsByClassName(t)},v=[],m=[],(i.qsa=K.test(o.querySelectorAll))&&(ht(function(t){f.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+B+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+B+"*(?:value|"+F+")"),t.querySelectorAll("[id~="+b+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]")}),ht(function(t){var e=o.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+B+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(i.matchesSelector=K.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ht(function(t){i.disconnectedMatch=y.call(t,"div"),y.call(t,"[s!='']:x"),v.push("!=",G)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=K.test(f.compareDocumentPosition),x=e||K.test(f.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(i.contains?i.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return c=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===r?t===o||t.ownerDocument===_&&x(_,t)?-1:e===o||e.ownerDocument===_&&x(_,e)?1:u?I(u,t)-I(u,e):0:4&r?-1:1)}:function(t,e){if(t===e)return c=!0,0;var i,r=0,n=t.parentNode,s=e.parentNode,a=[t],h=[e];if(!n||!s)return t===o?-1:e===o?1:n?-1:s?1:u?I(u,t)-I(u,e):0;if(n===s)return ut(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)h.unshift(i);for(;a[r]===h[r];)r++;return r?ut(a[r],h[r]):a[r]===_?-1:h[r]===_?1:0},o):d},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d&&p(t),e=e.replace(z,"='$1']"),i.matchesSelector&&g&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var r=y.call(t,e);if(r||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return st(e,d,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!==d&&p(t),x(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!==d&&p(t);var n=r.attrHandle[e.toLowerCase()],s=n&&M.call(r.attrHandle,e.toLowerCase())?n(t,e,!g):void 0;return void 0!==s?s:i.attributes||!g?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,r=[],n=0,s=0;if(c=!i.detectDuplicates,u=!i.sortStable&&t.slice(0),t.sort(A),c){for(;e=t[s++];)e===t[s]&&(n=r.push(s));for(;n--;)t.splice(r[n],1)}return u=null,t},n=st.getText=function(t){var e,i="",r=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=n(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[r++];)i+=n(e);return i},(r=st.selectors={cacheLength:50,createPseudo:at,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(it,rt),t[3]=(t[3]||t[4]||t[5]||"").replace(it,rt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&X.test(i)&&(e=o(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(it,rt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+B+")"+t+"("+B+"|$)"))&&S(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(r){var n=st.attr(r,t);return null==n?"!="===e:!e||(n+="","="===e?n===i:"!="===e?n!==i:"^="===e?i&&0===n.indexOf(i):"*="===e?i&&n.indexOf(i)>-1:"$="===e?i&&n.slice(-i.length)===i:"~="===e?(" "+n.replace(W," ")+" ").indexOf(i)>-1:"|="===e&&(n===i||n.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,r,n){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===n?function(t){return!!t.parentNode}:function(e,i,h){var l,u,c,p,d,f,g=s!==o?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!h&&!a;if(m){if(s){for(;g;){for(c=e;c=c[g];)if(a?c.nodeName.toLowerCase()===v:1===c.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[o?m.firstChild:m.lastChild],o&&y){for(d=(l=(u=m[b]||(m[b]={}))[t]||[])[0]===w&&l[1],p=l[0]===w&&l[2],c=d&&m.childNodes[d];c=++d&&c&&c[g]||(p=d=0)||f.pop();)if(1===c.nodeType&&++p&&c===e){u[t]=[w,d,p];break}}else if(y&&(l=(e[b]||(e[b]={}))[t])&&l[0]===w)p=l[1];else for(;(c=++d&&c&&c[g]||(p=d=0)||f.pop())&&((a?c.nodeName.toLowerCase()!==v:1!==c.nodeType)||!++p||(y&&((c[b]||(c[b]={}))[t]=[w,p]),c!==e)););return(p-=n)===r||p%r==0&&p/r>=0}}},PSEUDO:function(t,e){var i,n=r.pseudos[t]||r.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return n[b]?n(e):n.length>1?(i=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,i){for(var r,s=n(t,e),o=s.length;o--;)t[r=I(t,s[o])]=!(i[r]=s[o])}):function(t){return n(t,0,i)}):n}},pseudos:{not:at(function(t){var e=[],i=[],r=a(t.replace($,"$1"));return r[b]?at(function(t,e,i,n){for(var s,o=r(t,null,n,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))}):function(t,n,s){return e[0]=t,r(e,null,s,i),e[0]=null,!i.pop()}}),has:at(function(t){return function(e){return st(t,e).length>0}}),contains:at(function(t){return t=t.replace(it,rt),function(e){return(e.textContent||e.innerText||n(e)).indexOf(t)>-1}}),lang:at(function(t){return V.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(it,rt).toLowerCase(),function(e){var i;do{if(i=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return J.test(t.nodeName)},input:function(t){return Q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(t,e){return[e-1]}),eq:dt(function(t,e,i){return[i<0?i+e:i]}),even:dt(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:dt(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:dt(function(t,e,i){for(var r=i<0?i+e:i;--r>=0;)t.push(r);return t}),gt:dt(function(t,e,i){for(var r=i<0?i+e:i;++r<e;)t.push(r);return t})}}).pseudos.nth=r.pseudos.eq;for(e in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=ct(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=pt(e);function gt(){}gt.prototype=r.filters=r.pseudos,r.setFilters=new gt,o=st.tokenize=function(t,e){var i,n,s,o,a,h,l,u=C[t+" "];if(u)return e?0:u.slice(0);for(a=t,h=[],l=r.preFilter;a;){i&&!(n=H.exec(a))||(n&&(a=a.slice(n[0].length)||a),h.push(s=[])),i=!1,(n=q.exec(a))&&(i=n.shift(),s.push({value:i,type:n[0].replace($," ")}),a=a.slice(i.length));for(o in r.filter)!(n=Y[o].exec(a))||l[o]&&!(n=l[o](n))||(i=n.shift(),s.push({value:i,type:o,matches:n}),a=a.slice(i.length));if(!i)break}return e?a.length:a?st.error(t):C(t,h).slice(0)};function mt(t){for(var e=0,i=t.length,r="";e<i;e++)r+=t[e].value;return r}function vt(t,e,i){var r=e.dir,n=i&&"parentNode"===r,s=T++;return e.first?function(e,i,s){for(;e=e[r];)if(1===e.nodeType||n)return t(e,i,s)}:function(e,i,o){var a,h,l=[w,s];if(o){for(;e=e[r];)if((1===e.nodeType||n)&&t(e,i,o))return!0}else for(;e=e[r];)if(1===e.nodeType||n){if((a=(h=e[b]||(e[b]={}))[r])&&a[0]===w&&a[1]===s)return l[2]=a[2];if(h[r]=l,l[2]=t(e,i,o))return!0}}}function yt(t){return t.length>1?function(e,i,r){for(var n=t.length;n--;)if(!t[n](e,i,r))return!1;return!0}:t[0]}function xt(t,e,i,r,n){for(var s,o=[],a=0,h=t.length,l=null!=e;a<h;a++)(s=t[a])&&(i&&!i(s,r,n)||(o.push(s),l&&e.push(a)));return o}function bt(t,e,i,r,n,s){return r&&!r[b]&&(r=bt(r)),n&&!n[b]&&(n=bt(n,s)),at(function(s,o,a,h){var l,u,c,p=[],d=[],f=o.length,g=s||function(t,e,i){for(var r=0,n=e.length;r<n;r++)st(t,e[r],i);return i}(e||"*",a.nodeType?[a]:a,[]),m=!t||!s&&e?g:xt(g,p,t,a,h),v=i?n||(s?t:f||r)?[]:o:m;if(i&&i(m,v,a,h),r)for(l=xt(v,d),r(l,[],a,h),u=l.length;u--;)(c=l[u])&&(v[d[u]]=!(m[d[u]]=c));if(s){if(n||t){if(n){for(l=[],u=v.length;u--;)(c=v[u])&&l.push(m[u]=c);n(null,v=[],l,h)}for(u=v.length;u--;)(c=v[u])&&(l=n?I(s,c):p[u])>-1&&(s[l]=!(o[l]=c))}}else v=xt(v===o?v.splice(f,v.length):v),n?n(null,o,v,h):O.apply(o,v)})}function _t(t){for(var e,i,n,s=t.length,o=r.relative[t[0].type],a=o||r.relative[" "],h=o?1:0,u=vt(function(t){return t===e},a,!0),c=vt(function(t){return I(e,t)>-1},a,!0),p=[function(t,i,r){var n=!o&&(r||i!==l)||((e=i).nodeType?u(t,i,r):c(t,i,r));return e=null,n}];h<s;h++)if(i=r.relative[t[h].type])p=[vt(yt(p),i)];else{if((i=r.filter[t[h].type].apply(null,t[h].matches))[b]){for(n=++h;n<s&&!r.relative[t[n].type];n++);return bt(h>1&&yt(p),h>1&&mt(t.slice(0,h-1).concat({value:" "===t[h-2].type?"*":""})).replace($,"$1"),i,h<n&&_t(t.slice(h,n)),n<s&&_t(t=t.slice(n)),n<s&&mt(t))}p.push(i)}return yt(p)}return a=st.compile=function(t,e){var i,n=[],s=[],a=E[t+" "];if(!a){for(e||(e=o(t)),i=e.length;i--;)(a=_t(e[i]))[b]?n.push(a):s.push(a);(a=E(t,function(t,e){var i=e.length>0,n=t.length>0,s=function(s,o,a,h,u){var c,p,f,g=0,m="0",v=s&&[],y=[],x=l,b=s||n&&r.find.TAG("*",u),_=w+=null==x?1:Math.random()||.1,T=b.length;for(u&&(l=o!==d&&o);m!==T&&null!=(c=b[m]);m++){if(n&&c){for(p=0;f=t[p++];)if(f(c,o,a)){h.push(c);break}u&&(w=_)}i&&((c=!f&&c)&&g--,s&&v.push(c))}if(g+=m,i&&m!==g){for(p=0;f=e[p++];)f(v,y,o,a);if(s){if(g>0)for(;m--;)v[m]||y[m]||(y[m]=P.call(h));y=xt(y)}O.apply(h,y),u&&!s&&y.length>0&&g+e.length>1&&st.uniqueSort(h)}return u&&(w=_,l=x),v};return i?at(s):s}(s,n))).selector=t}return a},h=st.select=function(t,e,n,s){var h,l,u,c,p,d="function"==typeof t&&t,f=!s&&o(t=d.selector||t);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&i.getById&&9===e.nodeType&&g&&r.relative[l[1].type]){if(!(e=(r.find.ID(u.matches[0].replace(it,rt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(h=Y.needsContext.test(t)?0:l.length;h--&&(u=l[h],!r.relative[c=u.type]);)if((p=r.find[c])&&(s=p(u.matches[0].replace(it,rt),tt.test(l[0].type)&&ft(e.parentNode)||e))){if(l.splice(h,1),!(t=s.length&&mt(l)))return O.apply(n,s),n;break}}return(d||a(t,f))(s,e,!g,n,tt.test(t)&&ft(e.parentNode)||e),n},i.sortStable=b.split("").sort(A).join("")===b,i.detectDuplicates=!!c,p(),i.sortDetached=ht(function(t){return 1&t.compareDocumentPosition(d.createElement("div"))}),ht(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),i.attributes&&ht(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ht(function(t){return null==t.getAttribute("disabled")})||lt(F,function(t,e,i){var r;if(!i)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),st}(t);p.find=y,p.expr=y.selectors,p.expr[":"]=p.expr.pseudos,p.unique=y.uniqueSort,p.text=y.getText,p.isXMLDoc=y.isXML,p.contains=y.contains;var x=p.expr.match.needsContext,b=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,_=/^.[^:#\[\.,]*$/;function w(t,e,i){if(p.isFunction(e))return p.grep(t,function(t,r){return!!e.call(t,r,t)!==i});if(e.nodeType)return p.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(_.test(e))return p.filter(e,t,i);e=p.filter(e,t)}return p.grep(t,function(t){return o.call(e,t)>=0!==i})}p.filter=function(t,e,i){var r=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?p.find.matchesSelector(r,t)?[r]:[]:p.find.matches(t,p.grep(e,function(t){return 1===t.nodeType}))},p.fn.extend({find:function(t){var e,i=this.length,r=[],n=this;if("string"!=typeof t)return this.pushStack(p(t).filter(function(){for(e=0;e<i;e++)if(p.contains(n[e],this))return!0}));for(e=0;e<i;e++)p.find(t,n[e],r);return(r=this.pushStack(i>1?p.unique(r):r)).selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(w(this,t||[],!1))},not:function(t){return this.pushStack(w(this,t||[],!0))},is:function(t){return!!w(this,"string"==typeof t&&x.test(t)?p(t):t||[],!1).length}});var T,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(p.fn.init=function(t,e){var i,r;if(!t)return this;if("string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:S.exec(t))||!i[1]&&e)return!e||e.jquery?(e||T).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof p?e[0]:e,p.merge(this,p.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:c,!0)),b.test(i[1])&&p.isPlainObject(e))for(i in e)p.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=c.getElementById(i[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=c,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):p.isFunction(t)?void 0!==T.ready?T.ready(t):t(p):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),p.makeArray(t,this))}).prototype=p.fn,T=p(c);var C=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};p.extend({dir:function(t,e,i){for(var r=[],n=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(n&&p(t).is(i))break;r.push(t)}return r},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),p.fn.extend({has:function(t){var e=p(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(p.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,r=0,n=this.length,s=[],o=x.test(t)||"string"!=typeof t?p(t,e||this.context):0;r<n;r++)for(i=this[r];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&p.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(s.length>1?p.unique(s):s)},index:function(t){return t?"string"==typeof t?o.call(p(t),this[0]):o.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(p.unique(p.merge(this.get(),p(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}});function A(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}p.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return p.dir(t,"parentNode")},parentsUntil:function(t,e,i){return p.dir(t,"parentNode",i)},next:function(t){return A(t,"nextSibling")},prev:function(t){return A(t,"previousSibling")},nextAll:function(t){return p.dir(t,"nextSibling")},prevAll:function(t){return p.dir(t,"previousSibling")},nextUntil:function(t,e,i){return p.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return p.dir(t,"previousSibling",i)},siblings:function(t){return p.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return p.sibling(t.firstChild)},contents:function(t){return t.contentDocument||p.merge([],t.childNodes)}},function(t,e){p.fn[t]=function(i,r){var n=p.map(this,e,i);return"Until"!==t.slice(-5)&&(r=i),r&&"string"==typeof r&&(n=p.filter(r,n)),this.length>1&&(E[t]||p.unique(n),C.test(t)&&n.reverse()),this.pushStack(n)}});var k=/\S+/g,M={};p.Callbacks=function(t){var e,i,r,n,s,o,a=[],h=!(t="string"==typeof t?M[t]||function(t){var e=M[t]={};return p.each(t.match(k)||[],function(t,i){e[i]=!0}),e}(t):p.extend({},t)).once&&[],l=function(c){for(e=t.memory&&c,i=!0,o=n||0,n=0,s=a.length,r=!0;a&&o<s;o++)if(!1===a[o].apply(c[0],c[1])&&t.stopOnFalse){e=!1;break}r=!1,a&&(h?h.length&&l(h.shift()):e?a=[]:u.disable())},u={add:function(){if(a){var i=a.length;!function e(i){p.each(i,function(i,r){var n=p.type(r);"function"===n?t.unique&&u.has(r)||a.push(r):r&&r.length&&"string"!==n&&e(r)})}(arguments),r?s=a.length:e&&(n=i,l(e))}return this},remove:function(){return a&&p.each(arguments,function(t,e){for(var i;(i=p.inArray(e,a,i))>-1;)a.splice(i,1),r&&(i<=s&&s--,i<=o&&o--)}),this},has:function(t){return t?p.inArray(t,a)>-1:!(!a||!a.length)},empty:function(){return a=[],s=0,this},disable:function(){return a=h=e=void 0,this},disabled:function(){return!a},lock:function(){return h=void 0,e||u.disable(),this},locked:function(){return!h},fireWith:function(t,e){return!a||i&&!h||(e=[t,(e=e||[]).slice?e.slice():e],r?h.push(e):l(e)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},p.extend({Deferred:function(t){var e=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],i="pending",r={state:function(){return i},always:function(){return n.done(arguments).fail(arguments),this},then:function(){var t=arguments;return p.Deferred(function(i){p.each(e,function(e,s){var o=p.isFunction(t[e])&&t[e];n[s[1]](function(){var t=o&&o.apply(this,arguments);t&&p.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s[0]+"With"](this===r?i.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?p.extend(t,r):r}},n={};return r.pipe=r.then,p.each(e,function(t,s){var o=s[2],a=s[3];r[s[1]]=o.add,a&&o.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),n[s[0]]=function(){return n[s[0]+"With"](this===n?r:this,arguments),this},n[s[0]+"With"]=o.fireWith}),r.promise(n),t&&t.call(n,n),n},when:function(t){var e,i,n,s=0,o=r.call(arguments),a=o.length,h=1!==a||t&&p.isFunction(t.promise)?a:0,l=1===h?t:p.Deferred(),u=function(t,i,n){return function(s){i[t]=this,n[t]=arguments.length>1?r.call(arguments):s,n===e?l.notifyWith(i,n):--h||l.resolveWith(i,n)}};if(a>1)for(e=new Array(a),i=new Array(a),n=new Array(a);s<a;s++)o[s]&&p.isFunction(o[s].promise)?o[s].promise().done(u(s,n,o)).fail(l.reject).progress(u(s,i,e)):--h;return h||l.resolveWith(n,o),l.promise()}});var R;p.fn.ready=function(t){return p.ready.promise().done(t),this},p.extend({isReady:!1,readyWait:1,holdReady:function(t){t?p.readyWait++:p.ready(!0)},ready:function(t){(!0===t?--p.readyWait:p.isReady)||(p.isReady=!0,!0!==t&&--p.readyWait>0||(R.resolveWith(c,[p]),p.fn.triggerHandler&&(p(c).triggerHandler("ready"),p(c).off("ready"))))}});function P(){c.removeEventListener("DOMContentLoaded",P,!1),t.removeEventListener("load",P,!1),p.ready()}p.ready.promise=function(e){return R||(R=p.Deferred(),"complete"===c.readyState?setTimeout(p.ready):(c.addEventListener("DOMContentLoaded",P,!1),t.addEventListener("load",P,!1))),R.promise(e)},p.ready.promise();var L=p.access=function(t,e,i,r,n,s,o){var a=0,h=t.length,l=null==i;if("object"===p.type(i)){n=!0;for(a in i)p.access(t,e,a,i[a],!0,s,o)}else if(void 0!==r&&(n=!0,p.isFunction(r)||(o=!0),l&&(o?(e.call(t,r),e=null):(l=e,e=function(t,e,i){return l.call(p(t),i)})),e))for(;a<h;a++)e(t[a],i,o?r:r.call(t[a],a,e(t[a],i)));return n?t:l?e.call(t):h?e(t[0],i):s};p.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function O(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=p.expando+O.uid++}O.uid=1,O.accepts=p.acceptData,O.prototype={key:function(t){if(!O.accepts(t))return 0;var e={},i=t[this.expando];if(!i){i=O.uid++;try{e[this.expando]={value:i},Object.defineProperties(t,e)}catch(r){e[this.expando]=i,p.extend(t,e)}}return this.cache[i]||(this.cache[i]={}),i},set:function(t,e,i){var r,n=this.key(t),s=this.cache[n];if("string"==typeof e)s[e]=i;else if(p.isEmptyObject(s))p.extend(this.cache[n],e);else for(r in e)s[r]=e[r];return s},get:function(t,e){var i=this.cache[this.key(t)];return void 0===e?i:i[e]},access:function(t,e,i){var r;return void 0===e||e&&"string"==typeof e&&void 0===i?void 0!==(r=this.get(t,e))?r:this.get(t,p.camelCase(e)):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,r,n,s=this.key(t),o=this.cache[s];if(void 0===e)this.cache[s]={};else{p.isArray(e)?r=e.concat(e.map(p.camelCase)):(n=p.camelCase(e),r=e in o?[e,n]:(r=n)in o?[r]:r.match(k)||[]),i=r.length;for(;i--;)delete o[r[i]]}},hasData:function(t){return!p.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var D=new O,I=new O,F=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,B=/([A-Z])/g;function N(t,e,i){var r;if(void 0===i&&1===t.nodeType)if(r="data-"+e.replace(B,"-$1").toLowerCase(),"string"==typeof(i=t.getAttribute(r))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:F.test(i)?p.parseJSON(i):i)}catch(t){}I.set(t,e,i)}else i=void 0;return i}p.extend({hasData:function(t){return I.hasData(t)||D.hasData(t)},data:function(t,e,i){return I.access(t,e,i)},removeData:function(t,e){I.remove(t,e)},_data:function(t,e,i){return D.access(t,e,i)},_removeData:function(t,e){D.remove(t,e)}}),p.fn.extend({data:function(t,e){var i,r,n,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(n=I.get(s),1===s.nodeType&&!D.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(r=o[i].name).indexOf("data-")&&(r=p.camelCase(r.slice(5)),N(s,r,n[r]));D.set(s,"hasDataAttrs",!0)}return n}return"object"==typeof t?this.each(function(){I.set(this,t)}):L(this,function(e){var i,r=p.camelCase(t);if(s&&void 0===e){if(void 0!==(i=I.get(s,t)))return i;if(void 0!==(i=I.get(s,r)))return i;if(void 0!==(i=N(s,r,void 0)))return i}else this.each(function(){var i=I.get(this,r);I.set(this,r,e),-1!==t.indexOf("-")&&void 0!==i&&I.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){I.remove(this,t)})}}),p.extend({queue:function(t,e,i){var r;if(t)return e=(e||"fx")+"queue",r=D.get(t,e),i&&(!r||p.isArray(i)?r=D.access(t,e,p.makeArray(i)):r.push(i)),r||[]},dequeue:function(t,e){e=e||"fx";var i=p.queue(t,e),r=i.length,n=i.shift(),s=p._queueHooks(t,e);"inprogress"===n&&(n=i.shift(),r--),n&&("fx"===e&&i.unshift("inprogress"),delete s.stop,n.call(t,function(){p.dequeue(t,e)},s)),!r&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return D.get(t,i)||D.access(t,i,{empty:p.Callbacks("once memory").add(function(){D.remove(t,[e+"queue",i])})})}}),p.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?p.queue(this[0],t):void 0===e?this:this.each(function(){var i=p.queue(this,t,e);p._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&p.dequeue(this,t)})},dequeue:function(t){return this.each(function(){p.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,r=1,n=p.Deferred(),s=this,o=this.length,a=function(){--r||n.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(i=D.get(s[o],t+"queueHooks"))&&i.empty&&(r++,i.empty.add(a));return a(),n.promise(e)}});var j=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=["Top","Right","Bottom","Left"],G=function(t,e){return t=e||t,"none"===p.css(t,"display")||!p.contains(t.ownerDocument,t)},W=/^(?:checkbox|radio)$/i;!function(){var t=c.createDocumentFragment().appendChild(c.createElement("div")),e=c.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),u.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",u.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var $="undefined";u.focusinBubbles="onfocusin"in t;var H=/^key/,q=/^(?:mouse|pointer|contextmenu)|click/,z=/^(?:focusinfocus|focusoutblur)$/,X=/^([^.]*)(?:\.(.+)|)$/;function V(){return!0}function Y(){return!1}function Q(){try{return c.activeElement}catch(t){}}p.event={global:{},add:function(t,e,i,r,n){var s,o,a,h,l,u,c,d,f,g,m,v=D.get(t);if(v)for(i.handler&&(i=(s=i).handler,n=s.selector),i.guid||(i.guid=p.guid++),(h=v.events)||(h=v.events={}),(o=v.handle)||(o=v.handle=function(e){return typeof p!==$&&p.event.triggered!==e.type?p.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(k)||[""]).length;l--;)f=m=(a=X.exec(e[l])||[])[1],g=(a[2]||"").split(".").sort(),f&&(c=p.event.special[f]||{},f=(n?c.delegateType:c.bindType)||f,c=p.event.special[f]||{},u=p.extend({type:f,origType:m,data:r,handler:i,guid:i.guid,selector:n,needsContext:n&&p.expr.match.needsContext.test(n),namespace:g.join(".")},s),(d=h[f])||((d=h[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,r,g,o)||t.addEventListener&&t.addEventListener(f,o,!1)),c.add&&(c.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),n?d.splice(d.delegateCount++,0,u):d.push(u),p.event.global[f]=!0)},remove:function(t,e,i,r,n){var s,o,a,h,l,u,c,d,f,g,m,v=D.hasData(t)&&D.get(t);if(v&&(h=v.events)){for(l=(e=(e||"").match(k)||[""]).length;l--;)if(f=m=(a=X.exec(e[l])||[])[1],g=(a[2]||"").split(".").sort(),f){for(c=p.event.special[f]||{},d=h[f=(r?c.delegateType:c.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)u=d[s],!n&&m!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(d.splice(s,1),u.selector&&d.delegateCount--,c.remove&&c.remove.call(t,u));o&&!d.length&&(c.teardown&&!1!==c.teardown.call(t,g,v.handle)||p.removeEvent(t,f,v.handle),delete h[f])}else for(f in h)p.event.remove(t,f+e[l],i,r,!0);p.isEmptyObject(h)&&(delete v.handle,D.remove(t,"events"))}},trigger:function(e,i,r,n){var s,o,a,h,u,d,f,g=[r||c],m=l.call(e,"type")?e.type:e,v=l.call(e,"namespace")?e.namespace.split("."):[];if(o=a=r=r||c,3!==r.nodeType&&8!==r.nodeType&&!z.test(m+p.event.triggered)&&(m.indexOf(".")>=0&&(m=(v=m.split(".")).shift(),v.sort()),u=m.indexOf(":")<0&&"on"+m,(e=e[p.expando]?e:new p.Event(m,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=v.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),i=null==i?[e]:p.makeArray(i,[e]),f=p.event.special[m]||{},n||!f.trigger||!1!==f.trigger.apply(r,i))){if(!n&&!f.noBubble&&!p.isWindow(r)){for(h=f.delegateType||m,z.test(h+m)||(o=o.parentNode);o;o=o.parentNode)g.push(o),a=o;a===(r.ownerDocument||c)&&g.push(a.defaultView||a.parentWindow||t)}for(s=0;(o=g[s++])&&!e.isPropagationStopped();)e.type=s>1?h:f.bindType||m,(d=(D.get(o,"events")||{})[e.type]&&D.get(o,"handle"))&&d.apply(o,i),(d=u&&o[u])&&d.apply&&p.acceptData(o)&&(e.result=d.apply(o,i),!1===e.result&&e.preventDefault());return e.type=m,n||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(g.pop(),i)||!p.acceptData(r)||u&&p.isFunction(r[m])&&!p.isWindow(r)&&((a=r[u])&&(r[u]=null),p.event.triggered=m,r[m](),p.event.triggered=void 0,a&&(r[u]=a)),e.result}},dispatch:function(t){t=p.event.fix(t);var e,i,n,s,o,a=[],h=r.call(arguments),l=(D.get(this,"events")||{})[t.type]||[],u=p.event.special[t.type]||{};if(h[0]=t,t.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(a=p.event.handlers.call(this,t,l),e=0;(s=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,i=0;(o=s.handlers[i++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(o.namespace)||(t.handleObj=o,t.data=o.data,void 0!==(n=((p.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,h))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,r,n,s,o=[],a=e.delegateCount,h=t.target;if(a&&h.nodeType&&(!t.button||"click"!==t.type))for(;h!==this;h=h.parentNode||this)if(!0!==h.disabled||"click"!==t.type){for(r=[],i=0;i<a;i++)void 0===r[n=(s=e[i]).selector+" "]&&(r[n]=s.needsContext?p(n,this).index(h)>=0:p.find(n,this,null,[h]).length),r[n]&&r.push(s);r.length&&o.push({elem:h,handlers:r})}return a<e.length&&o.push({elem:this,handlers:e.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,r,n,s=e.button;return null==t.pageX&&null!=e.clientX&&(r=(i=t.target.ownerDocument||c).documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[p.expando])return t;var e,i,r,n=t.type,s=t,o=this.fixHooks[n];for(o||(this.fixHooks[n]=o=q.test(n)?this.mouseHooks:H.test(n)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,t=new p.Event(s),e=r.length;e--;)t[i=r[e]]=s[i];return t.target||(t.target=c),3===t.target.nodeType&&(t.target=t.target.parentNode),o.filter?o.filter(t,s):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Q()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Q()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&p.nodeName(this,"input"))return this.click(),!1},_default:function(t){return p.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,r){var n=p.extend(new p.Event,i,{type:t,isSimulated:!0,originalEvent:{}});r?p.event.trigger(n,null,e):p.event.dispatch.call(e,n),n.isDefaultPrevented()&&i.preventDefault()}},p.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)},p.Event=function(t,e){if(!(this instanceof p.Event))return new p.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?V:Y):this.type=t,e&&p.extend(this,e),this.timeStamp=t&&t.timeStamp||p.now(),this[p.expando]=!0},p.Event.prototype={isDefaultPrevented:Y,isPropagationStopped:Y,isImmediatePropagationStopped:Y,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=V,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=V,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=V,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){p.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,r=t.relatedTarget,n=t.handleObj;return r&&(r===this||p.contains(this,r))||(t.type=n.origType,i=n.handler.apply(this,arguments),t.type=e),i}}}),u.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){p.event.simulate(e,t.target,p.event.fix(t),!0)};p.event.special[e]={setup:function(){var r=this.ownerDocument||this,n=D.access(r,e);n||r.addEventListener(t,i,!0),D.access(r,e,(n||0)+1)},teardown:function(){var r=this.ownerDocument||this,n=D.access(r,e)-1;n?D.access(r,e,n):(r.removeEventListener(t,i,!0),D.remove(r,e))}}}),p.fn.extend({on:function(t,e,i,r,n){var s,o;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(o in t)this.on(o,e,i,t[o],n);return this}if(null==i&&null==r?(r=e,i=e=void 0):null==r&&("string"==typeof e?(r=i,i=void 0):(r=i,i=e,e=void 0)),!1===r)r=Y;else if(!r)return this;return 1===n&&(s=r,(r=function(t){return p().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=p.guid++)),this.each(function(){p.event.add(this,t,r,i,e)})},one:function(t,e,i,r){return this.on(t,e,i,r,1)},off:function(t,e,i){var r,n;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,p(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(n in t)this.off(n,e,t[n]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=Y),this.each(function(){p.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){p.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return p.event.trigger(t,e,i,!0)}});var J=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,K=/<([\w:]+)/,Z=/<|&#?\w+;/,tt=/<(?:script|style|link)/i,et=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/^$|\/(?:java|ecma)script/i,rt=/^true\/(.*)/,nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,st={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};st.optgroup=st.option,st.tbody=st.tfoot=st.colgroup=st.caption=st.thead,st.th=st.td;function ot(t,e){return p.nodeName(t,"table")&&p.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function at(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function ht(t){var e=rt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function lt(t,e){for(var i=0,r=t.length;i<r;i++)D.set(t[i],"globalEval",!e||D.get(e[i],"globalEval"))}function ut(t,e){var i,r,n,s,o,a,h,l;if(1===e.nodeType){if(D.hasData(t)&&(s=D.access(t),o=D.set(e,s),l=s.events)){delete o.handle,o.events={};for(n in l)for(i=0,r=l[n].length;i<r;i++)p.event.add(e,n,l[n][i])}I.hasData(t)&&(a=I.access(t),h=p.extend({},a),I.set(e,h))}}function ct(t,e){var i=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&p.nodeName(t,e)?p.merge([t],i):i}function pt(t,e){var i=e.nodeName.toLowerCase();"input"===i&&W.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}p.extend({clone:function(t,e,i){var r,n,s,o,a=t.cloneNode(!0),h=p.contains(t.ownerDocument,t);if(!(u.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||p.isXMLDoc(t)))for(o=ct(a),r=0,n=(s=ct(t)).length;r<n;r++)pt(s[r],o[r]);if(e)if(i)for(s=s||ct(t),o=o||ct(a),r=0,n=s.length;r<n;r++)ut(s[r],o[r]);else ut(t,a);return(o=ct(a,"script")).length>0&&lt(o,!h&&ct(t,"script")),a},buildFragment:function(t,e,i,r){for(var n,s,o,a,h,l,u=e.createDocumentFragment(),c=[],d=0,f=t.length;d<f;d++)if((n=t[d])||0===n)if("object"===p.type(n))p.merge(c,n.nodeType?[n]:n);else if(Z.test(n)){for(s=s||u.appendChild(e.createElement("div")),o=(K.exec(n)||["",""])[1].toLowerCase(),a=st[o]||st._default,s.innerHTML=a[1]+n.replace(J,"<$1></$2>")+a[2],l=a[0];l--;)s=s.lastChild;p.merge(c,s.childNodes),(s=u.firstChild).textContent=""}else c.push(e.createTextNode(n));for(u.textContent="",d=0;n=c[d++];)if((!r||-1===p.inArray(n,r))&&(h=p.contains(n.ownerDocument,n),s=ct(u.appendChild(n),"script"),h&&lt(s),i))for(l=0;n=s[l++];)it.test(n.type||"")&&i.push(n);return u},cleanData:function(t){for(var e,i,r,n,s=p.event.special,o=0;void 0!==(i=t[o]);o++){if(p.acceptData(i)&&(n=i[D.expando])&&(e=D.cache[n])){if(e.events)for(r in e.events)s[r]?p.event.remove(i,r):p.removeEvent(i,r,e.handle);D.cache[n]&&delete D.cache[n]}delete I.cache[i[I.expando]]}}}),p.fn.extend({text:function(t){return L(this,function(t){return void 0===t?p.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){ot(this,t).appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=ot(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,r=t?p.filter(t,this):this,n=0;null!=(i=r[n]);n++)e||1!==i.nodeType||p.cleanData(ct(i)),i.parentNode&&(e&&p.contains(i.ownerDocument,i)&&lt(ct(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(p.cleanData(ct(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return p.clone(this,t,e)})},html:function(t){return L(this,function(t){var e=this[0]||{},i=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!tt.test(t)&&!st[(K.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(J,"<$1></$2>");try{for(;i<r;i++)1===(e=this[i]||{}).nodeType&&(p.cleanData(ct(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,p.cleanData(ct(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=n.apply([],t);var i,r,s,o,a,h,l=0,c=this.length,d=this,f=c-1,g=t[0],m=p.isFunction(g);if(m||c>1&&"string"==typeof g&&!u.checkClone&&et.test(g))return this.each(function(i){var r=d.eq(i);m&&(t[0]=g.call(this,i,r.html())),r.domManip(t,e)});if(c&&(r=(i=p.buildFragment(t,this[0].ownerDocument,!1,this)).firstChild,1===i.childNodes.length&&(i=r),r)){for(o=(s=p.map(ct(i,"script"),at)).length;l<c;l++)a=i,l!==f&&(a=p.clone(a,!0,!0),o&&p.merge(s,ct(a,"script"))),e.call(this[l],a,l);if(o)for(h=s[s.length-1].ownerDocument,p.map(s,ht),l=0;l<o;l++)a=s[l],it.test(a.type||"")&&!D.access(a,"globalEval")&&p.contains(h,a)&&(a.src?p._evalUrl&&p._evalUrl(a.src):p.globalEval(a.textContent.replace(nt,"")))}return this}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){p.fn[t]=function(t){for(var i,r=[],n=p(t),o=n.length-1,a=0;a<=o;a++)i=a===o?this:this.clone(!0),p(n[a])[e](i),s.apply(r,i.get());return this.pushStack(r)}});var dt,ft={};function gt(e,i){var r,n=p(i.createElement(e)).appendTo(i.body),s=t.getDefaultComputedStyle&&(r=t.getDefaultComputedStyle(n[0]))?r.display:p.css(n[0],"display");return n.detach(),s}function mt(t){var e=c,i=ft[t];return i||("none"!==(i=gt(t,e))&&i||((e=(dt=(dt||p("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),i=gt(t,e),dt.detach()),ft[t]=i),i}var vt=/^margin/,yt=new RegExp("^("+j+")(?!px)[a-z%]+$","i"),xt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};function bt(t,e,i){var r,n,s,o,a=t.style;return(i=i||xt(t))&&(o=i.getPropertyValue(e)||i[e]),i&&(""!==o||p.contains(t.ownerDocument,t)||(o=p.style(t,e)),yt.test(o)&&vt.test(e)&&(r=a.width,n=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=r,a.minWidth=n,a.maxWidth=s)),void 0!==o?o+"":o}function _t(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){var e,i,r=c.documentElement,n=c.createElement("div"),s=c.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",u.clearCloneStyle="content-box"===s.style.backgroundClip,n.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",n.appendChild(s),t.getComputedStyle&&p.extend(u,{pixelPosition:function(){return o(),e},boxSizingReliable:function(){return null==i&&o(),i},reliableMarginRight:function(){var e,i=s.appendChild(c.createElement("div"));return i.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",s.style.width="1px",r.appendChild(n),e=!parseFloat(t.getComputedStyle(i,null).marginRight),r.removeChild(n),s.removeChild(i),e}}));function o(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(n);var o=t.getComputedStyle(s,null);e="1%"!==o.top,i="4px"===o.width,r.removeChild(n)}}(),p.swap=function(t,e,i,r){var n,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];n=i.apply(t,r||[]);for(s in e)t.style[s]=o[s];return n};var wt=/^(none|table(?!-c[ea]).+)/,Tt=new RegExp("^("+j+")(.*)$","i"),St=new RegExp("^([+-])=("+j+")","i"),Ct={position:"absolute",visibility:"hidden",display:"block"},Et={letterSpacing:"0",fontWeight:"400"},At=["Webkit","O","Moz","ms"];function kt(t,e){if(e in t)return e;for(var i=e[0].toUpperCase()+e.slice(1),r=e,n=At.length;n--;)if((e=At[n]+i)in t)return e;return r}function Mt(t,e,i){var r=Tt.exec(e);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):e}function Rt(t,e,i,r,n){for(var s=i===(r?"border":"content")?4:"width"===e?1:0,o=0;s<4;s+=2)"margin"===i&&(o+=p.css(t,i+U[s],!0,n)),r?("content"===i&&(o-=p.css(t,"padding"+U[s],!0,n)),"margin"!==i&&(o-=p.css(t,"border"+U[s]+"Width",!0,n))):(o+=p.css(t,"padding"+U[s],!0,n),"padding"!==i&&(o+=p.css(t,"border"+U[s]+"Width",!0,n)));return o}function Pt(t,e,i){var r=!0,n="width"===e?t.offsetWidth:t.offsetHeight,s=xt(t),o="border-box"===p.css(t,"boxSizing",!1,s);if(n<=0||null==n){if(((n=bt(t,e,s))<0||null==n)&&(n=t.style[e]),yt.test(n))return n;r=o&&(u.boxSizingReliable()||n===t.style[e]),n=parseFloat(n)||0}return n+Rt(t,e,i||(o?"border":"content"),r,s)+"px"}function Lt(t,e){for(var i,r,n,s=[],o=0,a=t.length;o<a;o++)(r=t[o]).style&&(s[o]=D.get(r,"olddisplay"),i=r.style.display,e?(s[o]||"none"!==i||(r.style.display=""),""===r.style.display&&G(r)&&(s[o]=D.access(r,"olddisplay",mt(r.nodeName)))):(n=G(r),"none"===i&&n||D.set(r,"olddisplay",n?i:p.css(r,"display"))));for(o=0;o<a;o++)(r=t[o]).style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?s[o]||"":"none"));return t}p.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=bt(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var n,s,o,a=p.camelCase(e),h=t.style;if(e=p.cssProps[a]||(p.cssProps[a]=kt(h,a)),o=p.cssHooks[e]||p.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(n=o.get(t,!1,r))?n:h[e];"string"===(s=typeof i)&&(n=St.exec(i))&&(i=(n[1]+1)*n[2]+parseFloat(p.css(t,e)),s="number"),null!=i&&i==i&&("number"!==s||p.cssNumber[a]||(i+="px"),u.clearCloneStyle||""!==i||0!==e.indexOf("background")||(h[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,r))||(h[e]=i))}},css:function(t,e,i,r){var n,s,o,a=p.camelCase(e);return e=p.cssProps[a]||(p.cssProps[a]=kt(t.style,a)),(o=p.cssHooks[e]||p.cssHooks[a])&&"get"in o&&(n=o.get(t,!0,i)),void 0===n&&(n=bt(t,e,r)),"normal"===n&&e in Et&&(n=Et[e]),""===i||i?(s=parseFloat(n),!0===i||p.isNumeric(s)?s||0:n):n}}),p.each(["height","width"],function(t,e){p.cssHooks[e]={get:function(t,i,r){if(i)return wt.test(p.css(t,"display"))&&0===t.offsetWidth?p.swap(t,Ct,function(){return Pt(t,e,r)}):Pt(t,e,r)},set:function(t,i,r){var n=r&&xt(t);return Mt(0,i,r?Rt(t,e,r,"border-box"===p.css(t,"boxSizing",!1,n),n):0)}}}),p.cssHooks.marginRight=_t(u.reliableMarginRight,function(t,e){if(e)return p.swap(t,{display:"inline-block"},bt,[t,"marginRight"])}),p.each({margin:"",padding:"",border:"Width"},function(t,e){p.cssHooks[t+e]={expand:function(i){for(var r=0,n={},s="string"==typeof i?i.split(" "):[i];r<4;r++)n[t+U[r]+e]=s[r]||s[r-2]||s[0];return n}},vt.test(t)||(p.cssHooks[t+e].set=Mt)}),p.fn.extend({css:function(t,e){return L(this,function(t,e,i){var r,n,s={},o=0;if(p.isArray(e)){for(r=xt(t),n=e.length;o<n;o++)s[e[o]]=p.css(t,e[o],!1,r);return s}return void 0!==i?p.style(t,e,i):p.css(t,e)},t,e,arguments.length>1)},show:function(){return Lt(this,!0)},hide:function(){return Lt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){G(this)?p(this).show():p(this).hide()})}});function Ot(t,e,i,r,n){return new Ot.prototype.init(t,e,i,r,n)}p.Tween=Ot,Ot.prototype={constructor:Ot,init:function(t,e,i,r,n,s){this.elem=t,this.prop=i,this.easing=n||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=s||(p.cssNumber[i]?"":"px")},cur:function(){var t=Ot.propHooks[this.prop];return t&&t.get?t.get(this):Ot.propHooks._default.get(this)},run:function(t){var e,i=Ot.propHooks[this.prop];return this.options.duration?this.pos=e=p.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Ot.propHooks._default.set(this),this}},Ot.prototype.init.prototype=Ot.prototype,Ot.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=p.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){p.fx.step[t.prop]?p.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[p.cssProps[t.prop]]||p.cssHooks[t.prop])?p.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},Ot.propHooks.scrollTop=Ot.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},p.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},p.fx=Ot.prototype.init,p.fx.step={};var Dt,It,Ft=/^(?:toggle|show|hide)$/,Bt=new RegExp("^(?:([+-])=|)("+j+")([a-z%]*)$","i"),Nt=/queueHooks$/,jt=[function(t,e,i){var r,n,s,o,a,h,l,u=this,c={},d=t.style,f=t.nodeType&&G(t),g=D.get(t,"fxshow");i.queue||(null==(a=p._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,h=a.empty.fire,a.empty.fire=function(){a.unqueued||h()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,p.queue(t,"fx").length||a.empty.fire()})}));1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],l=p.css(t,"display"),"inline"===("none"===l?D.get(t,"olddisplay")||mt(t.nodeName):l)&&"none"===p.css(t,"float")&&(d.display="inline-block"));i.overflow&&(d.overflow="hidden",u.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(r in e)if(n=e[r],Ft.exec(n)){if(delete e[r],s=s||"toggle"===n,n===(f?"hide":"show")){if("show"!==n||!g||void 0===g[r])continue;f=!0}c[r]=g&&g[r]||p.style(t,r)}else l=void 0;if(p.isEmptyObject(c))"inline"===("none"===l?mt(t.nodeName):l)&&(d.display=l);else{g?"hidden"in g&&(f=g.hidden):g=D.access(t,"fxshow",{}),s&&(g.hidden=!f),f?p(t).show():u.done(function(){p(t).hide()}),u.done(function(){var e;D.remove(t,"fxshow");for(e in c)p.style(t,e,c[e])});for(r in c)o=$t(f?g[r]:0,r,u),r in g||(g[r]=o.start,f&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}],Ut={"*":[function(t,e){var i=this.createTween(t,e),r=i.cur(),n=Bt.exec(e),s=n&&n[3]||(p.cssNumber[t]?"":"px"),o=(p.cssNumber[t]||"px"!==s&&+r)&&Bt.exec(p.css(i.elem,t)),a=1,h=20;if(o&&o[3]!==s){s=s||o[3],n=n||[],o=+r||1;do{o/=a=a||".5",p.style(i.elem,t,o+s)}while(a!==(a=i.cur()/r)&&1!==a&&--h)}return n&&(o=i.start=+o||+r||0,i.unit=s,i.end=n[1]?o+(n[1]+1)*n[2]:+n[2]),i}]};function Gt(){return setTimeout(function(){Dt=void 0}),Dt=p.now()}function Wt(t,e){var i,r=0,n={height:t};for(e=e?1:0;r<4;r+=2-e)n["margin"+(i=U[r])]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function $t(t,e,i){for(var r,n=(Ut[e]||[]).concat(Ut["*"]),s=0,o=n.length;s<o;s++)if(r=n[s].call(i,e,t))return r}function Ht(t,e,i){var r,n,s=0,o=jt.length,a=p.Deferred().always(function(){delete h.elem}),h=function(){if(n)return!1;for(var e=Dt||Gt(),i=Math.max(0,l.startTime+l.duration-e),r=1-(i/l.duration||0),s=0,o=l.tweens.length;s<o;s++)l.tweens[s].run(r);return a.notifyWith(t,[l,r,i]),r<1&&o?i:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:p.extend({},e),opts:p.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Dt||Gt(),duration:i.duration,tweens:[],createTween:function(e,i){var r=p.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var i=0,r=e?l.tweens.length:0;if(n)return this;for(n=!0;i<r;i++)l.tweens[i].run(1);return e?a.resolveWith(t,[l,e]):a.rejectWith(t,[l,e]),this}}),u=l.props;for(!function(t,e){var i,r,n,s,o;for(i in t)if(n=e[r=p.camelCase(i)],s=t[i],p.isArray(s)&&(n=s[1],s=t[i]=s[0]),i!==r&&(t[r]=s,delete t[i]),(o=p.cssHooks[r])&&"expand"in o){s=o.expand(s),delete t[r];for(i in s)i in t||(t[i]=s[i],e[i]=n)}else e[r]=n}(u,l.opts.specialEasing);s<o;s++)if(r=jt[s].call(l,t,u,l.opts))return r;return p.map(u,$t,l),p.isFunction(l.opts.start)&&l.opts.start.call(t,l),p.fx.timer(p.extend(h,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}p.Animation=p.extend(Ht,{tweener:function(t,e){p.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,r=0,n=t.length;r<n;r++)i=t[r],Ut[i]=Ut[i]||[],Ut[i].unshift(e)},prefilter:function(t,e){e?jt.unshift(t):jt.push(t)}}),p.speed=function(t,e,i){var r=t&&"object"==typeof t?p.extend({},t):{complete:i||!i&&e||p.isFunction(t)&&t,duration:t,easing:i&&e||e&&!p.isFunction(e)&&e};return r.duration=p.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in p.fx.speeds?p.fx.speeds[r.duration]:p.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){p.isFunction(r.old)&&r.old.call(this),r.queue&&p.dequeue(this,r.queue)},r},p.fn.extend({fadeTo:function(t,e,i,r){return this.filter(G).css("opacity",0).show().end().animate({opacity:e},t,i,r)},animate:function(t,e,i,r){var n=p.isEmptyObject(t),s=p.speed(e,i,r),o=function(){var e=Ht(this,p.extend({},t),s);(n||D.get(this,"finish"))&&e.stop(!0)};return o.finish=o,n||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(t,e,i){var r=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",s=p.timers,o=D.get(this);if(n)o[n]&&o[n].stop&&r(o[n]);else for(n in o)o[n]&&o[n].stop&&Nt.test(n)&&r(o[n]);for(n=s.length;n--;)s[n].elem!==this||null!=t&&s[n].queue!==t||(s[n].anim.stop(i),e=!1,s.splice(n,1));!e&&i||p.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=D.get(this),r=i[t+"queue"],n=i[t+"queueHooks"],s=p.timers,o=r?r.length:0;for(i.finish=!0,p.queue(this,t,[]),n&&n.stop&&n.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<o;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete i.finish})}}),p.each(["toggle","show","hide"],function(t,e){var i=p.fn[e];p.fn[e]=function(t,r,n){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(Wt(e,!0),t,r,n)}}),p.each({slideDown:Wt("show"),slideUp:Wt("hide"),slideToggle:Wt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){p.fn[t]=function(t,i,r){return this.animate(e,t,i,r)}}),p.timers=[],p.fx.tick=function(){var t,e=0,i=p.timers;for(Dt=p.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||p.fx.stop(),Dt=void 0},p.fx.timer=function(t){p.timers.push(t),t()?p.fx.start():p.timers.pop()},p.fx.interval=13,p.fx.start=function(){It||(It=setInterval(p.fx.tick,p.fx.interval))},p.fx.stop=function(){clearInterval(It),It=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(t,e){return t=p.fx?p.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var r=setTimeout(e,t);i.stop=function(){clearTimeout(r)}})},function(){var t=c.createElement("input"),e=c.createElement("select"),i=e.appendChild(c.createElement("option"));t.type="checkbox",u.checkOn=""!==t.value,u.optSelected=i.selected,e.disabled=!0,u.optDisabled=!i.disabled,(t=c.createElement("input")).value="t",t.type="radio",u.radioValue="t"===t.value}();var qt,zt=p.expr.attrHandle;p.fn.extend({attr:function(t,e){return L(this,p.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){p.removeAttr(this,t)})}}),p.extend({attr:function(t,e,i){var r,n,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return typeof t.getAttribute===$?p.prop(t,e,i):(1===s&&p.isXMLDoc(t)||(e=e.toLowerCase(),r=p.attrHooks[e]||(p.expr.match.bool.test(e)?qt:void 0)),void 0===i?r&&"get"in r&&null!==(n=r.get(t,e))?n:null==(n=p.find.attr(t,e))?void 0:n:null!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):void p.removeAttr(t,e))},removeAttr:function(t,e){var i,r,n=0,s=e&&e.match(k);if(s&&1===t.nodeType)for(;i=s[n++];)r=p.propFix[i]||i,p.expr.match.bool.test(i)&&(t[r]=!1),t.removeAttribute(i)},attrHooks:{type:{set:function(t,e){if(!u.radioValue&&"radio"===e&&p.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),qt={set:function(t,e,i){return!1===e?p.removeAttr(t,i):t.setAttribute(i,i),i}},p.each(p.expr.match.bool.source.match(/\w+/g),function(t,e){var i=zt[e]||p.find.attr;zt[e]=function(t,e,r){var n,s;return r||(s=zt[e],zt[e]=n,n=null!=i(t,e,r)?e.toLowerCase():null,zt[e]=s),n}});var Xt=/^(?:input|select|textarea|button)$/i;p.fn.extend({prop:function(t,e){return L(this,p.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[p.propFix[t]||t]})}}),p.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,i){var r,n,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return(1!==s||!p.isXMLDoc(t))&&(e=p.propFix[e]||e,n=p.propHooks[e]),void 0!==i?n&&"set"in n&&void 0!==(r=n.set(t,i,e))?r:t[e]=i:n&&"get"in n&&null!==(r=n.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||Xt.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),u.optSelected||(p.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){p.propFix[this.toLowerCase()]=this});var Vt=/[\t\r\n\f]/g;p.fn.extend({addClass:function(t){var e,i,r,n,s,o,a="string"==typeof t&&t,h=0,l=this.length;if(p.isFunction(t))return this.each(function(e){p(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(k)||[];h<l;h++)if(r=1===(i=this[h]).nodeType&&(i.className?(" "+i.className+" ").replace(Vt," "):" ")){for(s=0;n=e[s++];)r.indexOf(" "+n+" ")<0&&(r+=n+" ");o=p.trim(r),i.className!==o&&(i.className=o)}return this},removeClass:function(t){var e,i,r,n,s,o,a=0===arguments.length||"string"==typeof t&&t,h=0,l=this.length;if(p.isFunction(t))return this.each(function(e){p(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(k)||[];h<l;h++)if(r=1===(i=this[h]).nodeType&&(i.className?(" "+i.className+" ").replace(Vt," "):"")){for(s=0;n=e[s++];)for(;r.indexOf(" "+n+" ")>=0;)r=r.replace(" "+n+" "," ");o=t?p.trim(r):"",i.className!==o&&(i.className=o)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):p.isFunction(t)?this.each(function(i){p(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var e,r=0,n=p(this),s=t.match(k)||[];e=s[r++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else i!==$&&"boolean"!==i||(this.className&&D.set(this,"__className__",this.className),this.className=this.className||!1===t?"":D.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,r=this.length;i<r;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Vt," ").indexOf(e)>=0)return!0;return!1}});var Yt=/\r/g;p.fn.extend({val:function(t){var e,i,r,n=this[0];{if(arguments.length)return r=p.isFunction(t),this.each(function(i){var n;1===this.nodeType&&(null==(n=r?t.call(this,i,p(this).val()):t)?n="":"number"==typeof n?n+="":p.isArray(n)&&(n=p.map(n,function(t){return null==t?"":t+""})),(e=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,n,"value")||(this.value=n))});if(n)return(e=p.valHooks[n.type]||p.valHooks[n.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(n,"value"))?i:"string"==typeof(i=n.value)?i.replace(Yt,""):null==i?"":i}}}),p.extend({valHooks:{option:{get:function(t){var e=p.find.attr(t,"value");return null!=e?e:p.trim(p.text(t))}},select:{get:function(t){for(var e,i,r=t.options,n=t.selectedIndex,s="select-one"===t.type||n<0,o=s?null:[],a=s?n+1:r.length,h=n<0?a:s?n:0;h<a;h++)if(((i=r[h]).selected||h===n)&&(u.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!p.nodeName(i.parentNode,"optgroup"))){if(e=p(i).val(),s)return e;o.push(e)}return o},set:function(t,e){for(var i,r,n=t.options,s=p.makeArray(e),o=n.length;o--;)((r=n[o]).selected=p.inArray(r.value,s)>=0)&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(t,e){if(p.isArray(e))return t.checked=p.inArray(p(t).val(),e)>=0}},u.checkOn||(p.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){p.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),p.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,r){return this.on(e,t,i,r)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var Qt=p.now(),Jt=/\?/;p.parseJSON=function(t){return JSON.parse(t+"")},p.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{i=new DOMParser,e=i.parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+t),e};var Kt=/#.*$/,Zt=/([?&])_=[^&]*/,te=/^(.*?):[ \t]*([^\r\n]*)$/gm,ee=/^(?:GET|HEAD)$/,ie=/^\/\//,re=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ne={},se={},oe="*/".concat("*"),ae=t.location.href,he=re.exec(ae.toLowerCase())||[];function le(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var r,n=0,s=e.toLowerCase().match(k)||[];if(p.isFunction(i))for(;r=s[n++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(i)):(t[r]=t[r]||[]).push(i)}}function ue(t,e,i,r){var n={},s=t===se;function o(a){var h;return n[a]=!0,p.each(t[a]||[],function(t,a){var l=a(e,i,r);return"string"!=typeof l||s||n[l]?s?!(h=l):void 0:(e.dataTypes.unshift(l),o(l),!1)}),h}return o(e.dataTypes[0])||!n["*"]&&o("*")}function ce(t,e){var i,r,n=p.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((n[i]?t:r||(r={}))[i]=e[i]);return r&&p.extend(!0,t,r),t}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ae,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(he[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":oe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ce(ce(t,p.ajaxSettings),e):ce(p.ajaxSettings,t)},ajaxPrefilter:le(ne),ajaxTransport:le(se),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,n,s,o,a,h,l,u=p.ajaxSetup({},e),c=u.context||u,d=u.context&&(c.nodeType||c.jquery)?p(c):p.event,f=p.Deferred(),g=p.Callbacks("once memory"),m=u.statusCode||{},v={},y={},x=0,b="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!s)for(s={};e=te.exec(n);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?n:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return x||(t=y[i]=y[i]||t,v[t]=e),this},overrideMimeType:function(t){return x||(u.mimeType=t),this},statusCode:function(t){var e;if(t)if(x<2)for(e in t)m[e]=[m[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||b;return i&&i.abort(e),w(0,e),this}};if(f.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,u.url=((t||u.url||ae)+"").replace(Kt,"").replace(ie,he[1]+"//"),u.type=e.method||e.type||u.method||u.type,u.dataTypes=p.trim(u.dataType||"*").toLowerCase().match(k)||[""],null==u.crossDomain&&(a=re.exec(u.url.toLowerCase()),u.crossDomain=!(!a||a[1]===he[1]&&a[2]===he[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(he[3]||("http:"===he[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=p.param(u.data,u.traditional)),ue(ne,u,e,_),2===x)return _;(h=p.event&&u.global)&&0==p.active++&&p.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!ee.test(u.type),r=u.url,u.hasContent||(u.data&&(r=u.url+=(Jt.test(r)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=Zt.test(r)?r.replace(Zt,"$1_="+Qt++):r+(Jt.test(r)?"&":"?")+"_="+Qt++)),u.ifModified&&(p.lastModified[r]&&_.setRequestHeader("If-Modified-Since",p.lastModified[r]),p.etag[r]&&_.setRequestHeader("If-None-Match",p.etag[r])),(u.data&&u.hasContent&&!1!==u.contentType||e.contentType)&&_.setRequestHeader("Content-Type",u.contentType),_.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+oe+"; q=0.01":""):u.accepts["*"]);for(l in u.headers)_.setRequestHeader(l,u.headers[l]);if(u.beforeSend&&(!1===u.beforeSend.call(c,_,u)||2===x))return _.abort();b="abort";for(l in{success:1,error:1,complete:1})_[l](u[l]);if(i=ue(se,u,e,_)){_.readyState=1,h&&d.trigger("ajaxSend",[_,u]),u.async&&u.timeout>0&&(o=setTimeout(function(){_.abort("timeout")},u.timeout));try{x=1,i.send(v,w)}catch(t){if(!(x<2))throw t;w(-1,t)}}else w(-1,"No Transport");function w(t,e,s,a){var l,v,y,b,w,T=e;2!==x&&(x=2,o&&clearTimeout(o),i=void 0,n=a||"",_.readyState=t>0?4:0,l=t>=200&&t<300||304===t,s&&(b=function(t,e,i){for(var r,n,s,o,a=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(n in a)if(a[n]&&a[n].test(r)){h.unshift(n);break}if(h[0]in i)s=h[0];else{for(n in i){if(!h[0]||t.converters[n+" "+h[0]]){s=n;break}o||(o=n)}s=s||o}if(s)return s!==h[0]&&h.unshift(s),i[s]}(u,_,s)),b=function(t,e,i,r){var n,s,o,a,h,l={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)l[o.toLowerCase()]=t.converters[o];for(s=u.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!h&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=s,s=u.shift())if("*"===s)s=h;else if("*"!==h&&h!==s){if(!(o=l[h+" "+s]||l["* "+s]))for(n in l)if((a=n.split(" "))[1]===s&&(o=l[h+" "+a[0]]||l["* "+a[0]])){!0===o?o=l[n]:!0!==l[n]&&(s=a[0],u.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+h+" to "+s}}}return{state:"success",data:e}}(u,b,_,l),l?(u.ifModified&&((w=_.getResponseHeader("Last-Modified"))&&(p.lastModified[r]=w),(w=_.getResponseHeader("etag"))&&(p.etag[r]=w)),204===t||"HEAD"===u.type?T="nocontent":304===t?T="notmodified":(T=b.state,v=b.data,l=!(y=b.error))):(y=T,!t&&T||(T="error",t<0&&(t=0))),_.status=t,_.statusText=(e||T)+"",l?f.resolveWith(c,[v,T,_]):f.rejectWith(c,[_,T,y]),_.statusCode(m),m=void 0,h&&d.trigger(l?"ajaxSuccess":"ajaxError",[_,u,l?v:y]),g.fireWith(c,[_,T]),h&&(d.trigger("ajaxComplete",[_,u]),--p.active||p.event.trigger("ajaxStop")))}return _},getJSON:function(t,e,i){return p.get(t,e,i,"json")},getScript:function(t,e){return p.get(t,void 0,e,"script")}}),p.each(["get","post"],function(t,e){p[e]=function(t,i,r,n){return p.isFunction(i)&&(n=n||r,r=i,i=void 0),p.ajax({url:t,type:e,dataType:n,data:i,success:r})}}),p._evalUrl=function(t){return p.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},p.fn.extend({wrapAll:function(t){var e;return p.isFunction(t)?this.each(function(e){p(this).wrapAll(t.call(this,e))}):(this[0]&&(e=p(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return p.isFunction(t)?this.each(function(e){p(this).wrapInner(t.call(this,e))}):this.each(function(){var e=p(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=p.isFunction(t);return this.each(function(i){p(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()}}),p.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},p.expr.filters.visible=function(t){return!p.expr.filters.hidden(t)};var pe=/%20/g,de=/\[\]$/,fe=/\r?\n/g,ge=/^(?:submit|button|image|reset|file)$/i,me=/^(?:input|select|textarea|keygen)/i;function ve(t,e,i,r){var n;if(p.isArray(e))p.each(e,function(e,n){i||de.test(t)?r(t,n):ve(t+"["+("object"==typeof n?e:"")+"]",n,i,r)});else if(i||"object"!==p.type(e))r(t,e);else for(n in e)ve(t+"["+n+"]",e[n],i,r)}p.param=function(t,e){var i,r=[],n=function(t,e){e=p.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=p.ajaxSettings&&p.ajaxSettings.traditional),p.isArray(t)||t.jquery&&!p.isPlainObject(t))p.each(t,function(){n(this.name,this.value)});else for(i in t)ve(i,t[i],e,n);return r.join("&").replace(pe,"+")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=p.prop(this,"elements");return t?p.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!p(this).is(":disabled")&&me.test(this.nodeName)&&!ge.test(t)&&(this.checked||!W.test(t))}).map(function(t,e){var i=p(this).val();return null==i?null:p.isArray(i)?p.map(i,function(t){return{name:e.name,value:t.replace(fe,"\r\n")}}):{name:e.name,value:i.replace(fe,"\r\n")}}).get()}}),p.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var ye=0,xe={},be={0:200,1223:204},_e=p.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in xe)xe[t]()}),u.cors=!!_e&&"withCredentials"in _e,u.ajax=_e=!!_e,p.ajaxTransport(function(t){var e;if(u.cors||_e&&!t.crossDomain)return{send:function(i,r){var n,s=t.xhr(),o=++ye;if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(n in t.xhrFields)s[n]=t.xhrFields[n];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(n in i)s.setRequestHeader(n,i[n]);e=function(t){return function(){e&&(delete xe[o],e=s.onload=s.onerror=null,"abort"===t?s.abort():"error"===t?r(s.status,s.statusText):r(be[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=e(),s.onerror=e("error"),e=xe[o]=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return p.globalEval(t),t}}}),p.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),p.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(r,n){e=p("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&n("error"===t.type?404:200,t.type)}),c.head.appendChild(e[0])},abort:function(){i&&i()}}}});var we=[],Te=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=we.pop()||p.expando+"_"+Qt++;return this[t]=!0,t}}),p.ajaxPrefilter("json jsonp",function(e,i,r){var n,s,o,a=!1!==e.jsonp&&(Te.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Te.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=p.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Te,"$1"+n):!1!==e.jsonp&&(e.url+=(Jt.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return o||p.error(n+" was not called"),o[0]},e.dataTypes[0]="json",s=t[n],t[n]=function(){o=arguments},r.always(function(){t[n]=s,e[n]&&(e.jsonpCallback=i.jsonpCallback,we.push(n)),o&&p.isFunction(s)&&s(o[0]),o=s=void 0}),"script"}),p.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||c;var r=b.exec(t),n=!i&&[];return r?[e.createElement(r[1])]:(r=p.buildFragment([t],e,n),n&&n.length&&p(n).remove(),p.merge([],r.childNodes))};var Se=p.fn.load;p.fn.load=function(t,e,i){if("string"!=typeof t&&Se)return Se.apply(this,arguments);var r,n,s,o=this,a=t.indexOf(" ");return a>=0&&(r=p.trim(t.slice(a)),t=t.slice(0,a)),p.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(n="POST"),o.length>0&&p.ajax({url:t,type:n,dataType:"html",data:e}).done(function(t){s=arguments,o.html(r?p("<div>").append(p.parseHTML(t)).find(r):t)}).complete(i&&function(t,e){o.each(i,s||[t.responseText,e,t])}),this},p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){p.fn[e]=function(t){return this.on(e,t)}}),p.expr.filters.animated=function(t){return p.grep(p.timers,function(e){return t===e.elem}).length};var Ce=t.document.documentElement;function Ee(t){return p.isWindow(t)?t:9===t.nodeType&&t.defaultView}p.offset={setOffset:function(t,e,i){var r,n,s,o,a,h,l=p.css(t,"position"),u=p(t),c={};"static"===l&&(t.style.position="relative"),a=u.offset(),s=p.css(t,"top"),h=p.css(t,"left"),("absolute"===l||"fixed"===l)&&(s+h).indexOf("auto")>-1?(o=(r=u.position()).top,n=r.left):(o=parseFloat(s)||0,n=parseFloat(h)||0),p.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(c.top=e.top-a.top+o),null!=e.left&&(c.left=e.left-a.left+n),"using"in e?e.using.call(t,c):u.css(c)}},p.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){p.offset.setOffset(this,t,e)});var e,i,r=this[0],n={top:0,left:0},s=r&&r.ownerDocument;if(s)return e=s.documentElement,p.contains(e,r)?(typeof r.getBoundingClientRect!==$&&(n=r.getBoundingClientRect()),i=Ee(s),{top:n.top+i.pageYOffset-e.clientTop,left:n.left+i.pageXOffset-e.clientLeft}):n},position:function(){if(this[0]){var t,e,i=this[0],r={top:0,left:0};return"fixed"===p.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),p.nodeName(t[0],"html")||(r=t.offset()),r.top+=p.css(t[0],"borderTopWidth",!0),r.left+=p.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-p.css(i,"marginTop",!0),left:e.left-r.left-p.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Ce;t&&!p.nodeName(t,"html")&&"static"===p.css(t,"position");)t=t.offsetParent;return t||Ce})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var r="pageYOffset"===i;p.fn[e]=function(n){return L(this,function(e,n,s){var o=Ee(e);if(void 0===s)return o?o[i]:e[n];o?o.scrollTo(r?t.pageXOffset:s,r?s:t.pageYOffset):e[n]=s},e,n,arguments.length,null)}}),p.each(["top","left"],function(t,e){p.cssHooks[e]=_t(u.pixelPosition,function(t,i){if(i)return i=bt(t,e),yt.test(i)?p(t).position()[e]+"px":i})}),p.each({Height:"height",Width:"width"},function(t,e){p.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,r){p.fn[r]=function(r,n){var s=arguments.length&&(i||"boolean"!=typeof r),o=i||(!0===r||!0===n?"margin":"border");return L(this,function(e,i,r){var n;return p.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+t],n["scroll"+t],e.body["offset"+t],n["offset"+t],n["client"+t])):void 0===r?p.css(e,i,o):p.style(e,i,r,o)},e,s?r:void 0,s,null)}})}),p.fn.size=function(){return this.length},p.fn.andSelf=p.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return p});var Ae=t.jQuery,ke=t.$;return p.noConflict=function(e){return t.$===p&&(t.$=ke),e&&t.jQuery===p&&(t.jQuery=Ae),p},typeof e===$&&(t.jQuery=t.$=p),p}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(t){"use strict";t.fn.emulateTransitionEnd=function(e){var i=!1,r=this;t(this).one(t.support.transition.end,function(){i=!0});return setTimeout(function(){i||t(r).trigger(t.support.transition.end)},e),this},t(function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}()})}(jQuery),function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){var i=t(this),r=i.attr("data-target");r||(r=(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,""));var n=t(r);e&&e.preventDefault(),n.length||(n=i.hasClass("alert")?i:i.parent()),n.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(n.removeClass("in"),t.support.transition&&n.hasClass("fade")?n.one(t.support.transition.end,s).emulateTransitionEnd(150):s());function s(){n.trigger("closed.bs.alert").remove()}};var r=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var r=t(this),n=r.data("bs.alert");n||r.data("bs.alert",n=new i(this)),"string"==typeof e&&n[e].call(r)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(jQuery),function(t){"use strict";var e=function(i,r){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,r),this.isLoading=!1};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(e){var i="disabled",r=this.$element,n=r.is("input")?"val":"html",s=r.data();e+="Text",s.resetText||r.data("resetText",r[n]()),r[n](s[e]||this.options[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,r.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,r.removeClass(i).removeAttr(i))},this),0)},e.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var r=t(this),n=r.data("bs.button"),s="object"==typeof i&&i;n||r.data("bs.button",n=new e(this,s)),"toggle"==i?n.toggle():i&&n.setState(i)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),e.preventDefault()})}(jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var i=this,r=this.getActiveIndex();if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(e)}):r==e?this.pause().cycle():this.slide(e>r?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){if(!this.sliding)return this.slide("next")},e.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},e.prototype.slide=function(e,i){var r=this.$element.find(".item.active"),n=i||r[e](),s=this.interval,o="next"==e?"left":"right",a="next"==e?"first":"last",h=this;if(!n.length){if(!this.options.wrap)return;n=this.$element.find(".item")[a]()}if(n.hasClass("active"))return this.sliding=!1;var l=t.Event("slide.bs.carousel",{relatedTarget:n[0],direction:o});return this.$element.trigger(l),l.isDefaultPrevented()?void 0:(this.sliding=!0,s&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var e=t(h.$indicators.children()[h.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")?(n.addClass(e),n[0].offsetWidth,r.addClass(o),n.addClass(o),r.one(t.support.transition.end,function(){n.removeClass([e,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),h.sliding=!1,setTimeout(function(){h.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*r.css("transition-duration").slice(0,-1))):(r.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),s&&this.cycle(),this)};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var r=t(this),n=r.data("bs.carousel"),s=t.extend({},e.DEFAULTS,r.data(),"object"==typeof i&&i),o="string"==typeof i?i:s.slide;n||r.data("bs.carousel",n=new e(this,s)),"number"==typeof i?n.to(i):o?n[o]():s.interval&&n.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,r=t(this),n=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),s=t.extend({},n.data(),r.data()),o=r.attr("data-slide-to");o&&(s.interval=!1),n.carousel(s),(o=r.attr("data-slide-to"))&&n.data("bs.carousel").to(o),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),function(t){"use strict";var e=function(i,r){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var r=i.data("bs.collapse");if(r&&r.transitioning)return;i.collapse("hide"),r||i.data("bs.collapse",null)}var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[n]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var o=t.camelCase(["scroll",n].join("-"));this.$element.one(t.support.transition.end,t.proxy(s,this)).emulateTransitionEnd(350)[n](this.$element[0][o])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!t.support.transition)return r.call(this);this.$element[i](0).one(t.support.transition.end,t.proxy(r,this)).emulateTransitionEnd(350)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var r=t(this),n=r.data("bs.collapse"),s=t.extend({},e.DEFAULTS,r.data(),"object"==typeof i&&i);!n&&s.toggle&&"show"==i&&(i=!i),n||r.data("bs.collapse",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var i,r=t(this),n=r.attr("data-target")||e.preventDefault()||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),s=t(n),o=s.data("bs.collapse"),a=o?"toggle":r.data(),h=r.attr("data-parent"),l=h&&t(h);o&&o.transitioning||(l&&l.find('[data-toggle=collapse][data-parent="'+h+'"]').not(r).addClass("collapsed"),r[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),s.collapse(a)})}(jQuery),function(t){"use strict";var e=".dropdown-backdrop",i="[data-toggle=dropdown]",r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.prototype.toggle=function(e){var i=t(this);if(!i.is(".disabled, :disabled")){var r=s(i),o=r.hasClass("open");if(n(),!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",n);var a={relatedTarget:this};if(r.trigger(e=t.Event("show.bs.dropdown",a)),e.isDefaultPrevented())return;r.toggleClass("open").trigger("shown.bs.dropdown",a),i.focus()}return!1}},r.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var r=t(this);if(e.preventDefault(),e.stopPropagation(),!r.is(".disabled, :disabled")){var n=s(r),o=n.hasClass("open");if(!o||o&&27==e.keyCode)return 27==e.which&&n.find(i).focus(),r.click();var a=" li:not(.divider):visible a",h=n.find("[role=menu]"+a+", [role=listbox]"+a);if(h.length){var l=h.index(h.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<h.length-1&&l++,~l||(l=0),h.eq(l).focus()}}}};function n(r){t(e).remove(),t(i).each(function(){var e=s(t(this)),i={relatedTarget:this};e.hasClass("open")&&(e.trigger(r=t.Event("hide.bs.dropdown",i)),r.isDefaultPrevented()||e.removeClass("open").trigger("hidden.bs.dropdown",i))})}function s(e){var i=e.attr("data-target");i||(i=(i=e.attr("href"))&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var r=i&&t(i);return r&&r.length?r:e.parent()}var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new r(this)),"string"==typeof e&&n[e].call(i)})},t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",i,r.prototype.toggle).on("keydown.bs.dropdown.data-api",i+", [role=menu], [role=listbox]",r.prototype.keydown)}(jQuery),function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var i=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show().scrollTop(0),r&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var n=t.Event("shown.bs.modal",{relatedTarget:e});r?i.$element.find(".modal-dialog").one(t.support.transition.end,function(){i.$element.focus().trigger(n)}).emulateTransitionEnd(300):i.$element.focus().trigger(n)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var i=t.fn.modal;t.fn.modal=function(i,r){return this.each(function(){var n=t(this),s=n.data("bs.modal"),o=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i);s||n.data("bs.modal",s=new e(this,o)),"string"==typeof i?s[i](r):o.show&&s.show(r)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),r=i.attr("href"),n=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=n.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},n.data(),i.data());i.is("a")&&e.preventDefault(),n.modal(s,this).one("hide",function(){i.is(":visible")&&i.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,r){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(r);for(var n=this.options.trigger.split(" "),s=n.length;s--;){var o=n[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",h="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(h+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,r){i[t]!=r&&(e[t]=r)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this,r=this.tip();this.setContent(),this.options.animation&&r.addClass("fade");var n="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,o=s.test(n);o&&(n=n.replace(s,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(n),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var a=this.getPosition(),h=r[0].offsetWidth,l=r[0].offsetHeight;if(o){var u=this.$element.parent(),c=n,p=document.documentElement.scrollTop||document.body.scrollTop,d="body"==this.options.container?window.innerWidth:u.outerWidth(),f="body"==this.options.container?window.innerHeight:u.outerHeight(),g="body"==this.options.container?0:u.offset().left;n="bottom"==n&&a.top+a.height+l-p>f?"top":"top"==n&&a.top-p-l<0?"bottom":"right"==n&&a.right+h>d?"left":"left"==n&&a.left-h<g?"right":n,r.removeClass(c).addClass(n)}var m=this.getCalculatedOffset(n,a,h,l);this.applyPlacement(m,n),this.hoverState=null;var v=function(){i.$element.trigger("shown.bs."+i.type)};t.support.transition&&this.$tip.hasClass("fade")?r.one(t.support.transition.end,v).emulateTransitionEnd(150):v()}},e.prototype.applyPlacement=function(e,i){var r,n=this.tip(),s=n[0].offsetWidth,o=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),h=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(h)&&(h=0),e.top=e.top+a,e.left=e.left+h,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,u=n[0].offsetHeight;if("top"==i&&u!=o&&(r=!0,e.top=e.top+o-u),/bottom|top/.test(i)){var c=0;e.left<0&&(c=-2*e.left,e.left=0,n.offset(e),l=n[0].offsetWidth,u=n[0].offsetHeight),this.replaceArrow(c-s+l,l,"left")}else this.replaceArrow(u-o,u,"top");r&&n.offset(e)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){var e=this,i=this.tip(),r=t.Event("hide.bs."+this.type);function n(){"in"!=e.hoverState&&i.detach(),e.$element.trigger("hidden.bs."+e.type)}if(this.$element.trigger(r),!r.isDefaultPrevented())return i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one(t.support.transition.end,n).emulateTransitionEnd(150):n(),this.hoverState=null,this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,r){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-r,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-r/2,left:e.left-i}:{top:e.top+e.height/2-r/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var r=t(this),n=r.data("bs.tooltip"),s="object"==typeof i&&i;(n||"destroy"!=i)&&(n||r.data("bs.tooltip",n=new e(this,s)),"string"==typeof i&&n[i]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),(e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype)).constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var r=t(this),n=r.data("bs.popover"),s="object"==typeof i&&i;(n||"destroy"!=i)&&(n||r.data("bs.popover",n=new e(this,s)),"string"==typeof i&&n[i]())})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),function(t){"use strict";function e(i,r){var n,s=t.proxy(this.process,this);this.$element=t(i).is("body")?t(window):t(i),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",s),this.options=t.extend({},e.DEFAULTS,r),this.selector=(this.options.target||(n=t(i).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var i=this;this.$body.find(this.selector).map(function(){var r=t(this),n=r.data("target")||r.attr("href"),s=/^#./.test(n)&&t(n);return s&&s.length&&s.is(":visible")&&[[s[e]().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),r=this.offsets,n=this.targets,s=this.activeTarget;if(e>=i)return s!=(t=n.last()[0])&&this.activate(t);if(s&&e<=r[0])return s!=(t=n[0])&&this.activate(t);for(t=r.length;t--;)s!=n[t]&&e>=r[t]&&(!r[t+1]||e<=r[t+1])&&this.activate(n[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',r=t(i).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var r=t(this),n=r.data("bs.scrollspy"),s="object"==typeof i&&i;n||r.data("bs.scrollspy",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),r=e.data("target");if(r||(r=(r=e.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a")[0],s=t.Event("show.bs.tab",{relatedTarget:n});if(e.trigger(s),!s.isDefaultPrevented()){var o=t(r);this.activate(e.parent("li"),i),this.activate(o,o.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:n})})}}},e.prototype.activate=function(e,i,r){var n=i.find("> .active"),s=r&&t.support.transition&&n.hasClass("fade");function o(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),r&&r()}s?n.one(t.support.transition.end,o).emulateTransitionEnd(150):o(),n.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var r=t(this),n=r.data("bs.tab");n||r.data("bs.tab",n=new e(this)),"string"==typeof i&&n[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),function(t){"use strict";var e=function(i,r){this.options=t.extend({},e.DEFAULTS,r),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$window.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=t(document).height(),r=this.$window.scrollTop(),n=this.$element.offset(),s=this.options.offset,o=s.top,a=s.bottom;"top"==this.affixed&&(n.top+=r),"object"!=typeof s&&(a=o=s),"function"==typeof o&&(o=s.top(this.$element)),"function"==typeof a&&(a=s.bottom(this.$element));var h=!(null!=this.unpin&&r+this.unpin<=n.top)&&(null!=a&&n.top+this.$element.height()>=i-a?"bottom":null!=o&&r<=o&&"top");if(this.affixed!==h){this.unpin&&this.$element.css("top","");var l="affix"+(h?"-"+h:""),u=t.Event(l+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(l).trigger(t.Event(l.replace("affix","affixed"))),"bottom"==h&&this.$element.offset({top:i-a-this.$element.height()}))}}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var r=t(this),n=r.data("bs.affix"),s="object"==typeof i&&i;n||r.data("bs.affix",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(jQuery),function(){var t,e,i,r,n={}.hasOwnProperty;(r=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,r,n,s,o;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),o=[],r=0,n=(s=t.childNodes).length;n>r;r++)i=s[r],o.push(this.add_option(i,e,t.disabled));return o},t.prototype.add_option=function(t,e,i){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===i?i:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t.prototype.escapeExpression=function(t){var e,i;return null==t||!1===t?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(i,function(t){return e[t]||"&amp;"})):t},t}()).select_to_array=function(t){var e,i,n,s,o;for(i=new r,n=0,s=(o=t.childNodes).length;s>n;n++)e=o[n],i.add_node(e);return i.parsed},e=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1},t.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+t.group_label+"</b>"+t.html:t.html},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},t.prototype.results_option_build=function(t){var e,i,r,n,s;for(e="",r=0,n=(s=this.results_data).length;n>r;r++)i=s[r],e+=i.group?this.result_add_group(i):this.result_add_option(i),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i)));return e},t.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),(i=document.createElement("li")).className=e.join(" "),i.style.cssText=t.style,i.setAttribute("data-option-array-index",t.array_index),i.innerHTML=t.search_text,t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.result_add_group=function(t){var e,i;return(t.search_match||t.group_match)&&t.active_options>0?((e=[]).push("group-result"),t.classes&&e.push(t.classes),(i=document.createElement("li")).className=e.join(" "),i.innerHTML=t.search_text,t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},t.prototype.reset_single_select_options=function(){var t,e,i,r,n;for(n=[],e=0,i=(r=this.results_data).length;i>e;e++)t=r[e],n.push(t.selected?t.selected=!1:void 0);return n},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,i,r,n,s,o,a,h,l,u,c;for(this.no_results_clear(),r=0,t=(s=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),h=new RegExp(t,"i"),i=this.get_search_regex(t),l=0,u=(c=this.results_data).length;u>l;l++)e=c[l],e.search_match=!1,n=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(n=this.results_data[e.group_array_index],0===n.active_options&&n.search_match&&(r+=1),n.active_options+=1),e.search_text=e.group?e.label:e.html,(!e.group||this.group_search)&&(e.search_match=this.search_string_match(e.search_text,i),e.search_match&&!e.group&&(r+=1),e.search_match?(s.length&&(o=e.search_text.search(h),a=e.search_text.substr(0,o+s.length)+"</em>"+e.search_text.substr(o+s.length),e.search_text=a.substr(0,o)+"<em>"+a.substr(o)),null!=n&&(n.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),1>r&&s.length?(this.update_results_content(""),this.no_results(s)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.get_search_regex=function(t){var e;return e=this.search_contains?"":"^",new RegExp(e+t,"i")},t.prototype.search_string_match=function(t,e){var i,r,n,s;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(r=t.replace(/\[|\]/g,"").split(" "),r.length))for(n=0,s=r.length;s>n;n++)if(i=r[n],e.test(i))return!0},t.prototype.choices_count=function(){var t,e,i,r;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,e=0,i=(r=this.form_field.options).length;i>e;e++)t=r[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){return t.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.clipboard_event_checker=function(){var t=this;return setTimeout(function(){return t.results_search()},50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){return this.touch_started?this.search_results_mouseup(t):void 0},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:((e=document.createElement("div")).appendChild(t),e.innerHTML)},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!/iP(od|hone)/i.test(window.navigator.userAgent)&&(!/Android/i.test(window.navigator.userAgent)||!/Mobile/i.test(window.navigator.userAgent))},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),(t=jQuery).fn.extend({chosen:function(r){return e.browser_is_supported()?this.each(function(){var e,n;n=(e=t(this)).data("chosen"),"destroy"===r&&n instanceof i?n.destroy():n instanceof i||e.data("chosen",new i(this,r))}):this}}),i=function(i){function s(){return s.__super__.constructor.apply(this,arguments)}return function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(s,e),s.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},s.prototype.set_up_html=function(){var e,i;return(e=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),i={class:e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",i),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},s.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},s.prototype.register_observers=function(){var t=this;return this.container.bind("touchstart.chosen",function(e){return t.container_mousedown(e),e.preventDefault()}),this.container.bind("touchend.chosen",function(e){return t.container_mouseup(e),e.preventDefault()}),this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},s.prototype.destroy=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},s.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},s.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},s.prototype.container_mouseup=function(t){return"ABBR"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},s.prototype.search_results_mousewheel=function(t){var e;return t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e?(t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())):void 0},s.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},s.prototype.close_field=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},s.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},s.prototype.test_active_click=function(e){var i;return(i=t(e.target).closest(".chosen-container")).length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},s.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=r.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},s.prototype.result_do_highlight=function(t){var e,i,r,n,s;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),n=(r=parseInt(this.search_results.css("maxHeight"),10))+(s=this.search_results.scrollTop()),(e=(i=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight())>=n)return this.search_results.scrollTop(e-r>0?e-r:0);if(s>i)return this.search_results.scrollTop(i)}},s.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},s.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},s.prototype.update_results_content=function(t){return this.search_results.html(t)},s.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},s.prototype.set_tab_index=function(){var t;return this.form_field.tabIndex?(t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t):void 0},s.prototype.set_label_behavior=function(){var e=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}):void 0},s.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},s.prototype.search_results_mouseup=function(e){var i;return(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first()).length?(this.result_highlight=i,this.result_select(e),this.search_field.focus()):void 0},s.prototype.search_results_mouseover=function(e){var i;return(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first())?this.result_do_highlight(i):void 0},s.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},s.prototype.choice_build=function(e){var i,r,n=this;return i=t("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?i.addClass("search-choice-disabled"):((r=t("<a />",{class:"search-choice-close","data-option-array-index":e.array_index})).bind("click.chosen",function(t){return n.choice_destroy_link_click(t)}),i.append(r)),this.search_container.before(i)},s.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(t(e.target))},s.prototype.choice_destroy=function(t){return this.result_deselect(t[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},s.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},s.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},s.prototype.result_select=function(t){var e,i;return this.result_highlight?(e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),(i=this.results_data[e[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())):void 0},s.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},s.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},s.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},s.prototype.get_search_text=function(){return t("<div/>").text(t.trim(this.search_field.val())).html()},s.prototype.winnow_results_set_highlight=function(){var t,e;return null!=(t=(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?e.first():this.search_results.find(".active-result").first())?this.result_do_highlight(t):void 0},s.prototype.no_results=function(e){var i;return(i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>')).find("span").first().html(e),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},s.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},s.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},s.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},s.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},s.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},s.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},s.prototype.search_field_scale=function(){var e,i,r,n,s,o,a,h;if(this.is_multiple){for(0,o=0,n="position:absolute; left: -1000px; top: -1000px; display:none;",a=0,h=(s=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;h>a;a++)r=s[a],n+=r+":"+this.search_field.css(r)+";";return(e=t("<div />",{style:n})).text(this.search_field.val()),t("body").append(e),o=e.width()+25,e.remove(),o>(i=this.container.outerWidth())-10&&(o=i-10),this.search_field.css({width:o+"px"})}},s}()}.call(this);var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var r=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,r,n=this.vars;for(r in n)i=n[r],o(i)&&-1!==i.join("").indexOf("{self}")&&(n[r]=this._swapSelfInParams(i));o(n.tweens)&&this.add(n.tweens,0,n.align,n.stagger)},n=i._internals,s=n.isSelector,o=n.isArray,a=n.lazyTweens,h=n.lazyRender,l=[],u=_gsScope._gsDefine.globals,c=function(t){var e,i={};for(e in t)i[e]=t[e];return i},p=function(t,e,i,r){var n=t._timeline._totalTime;(e||!this._forcingPlayhead)&&(t._timeline.pause(t._startTime),e&&e.apply(r||t._timeline,i||l),this._forcingPlayhead&&t._timeline.seek(n))},d=function(t){var e,i=[],r=t.length;for(e=0;e!==r;i.push(t[e++]));return i},f=r.prototype=new e;return r.version="1.14.2",f.constructor=r,f.kill()._gc=f._forcingPlayhead=!1,f.to=function(t,e,r,n){var s=r.repeat&&u.TweenMax||i;return e?this.add(new s(t,e,r),n):this.set(t,r,n)},f.from=function(t,e,r,n){return this.add((r.repeat&&u.TweenMax||i).from(t,e,r),n)},f.fromTo=function(t,e,r,n,s){var o=n.repeat&&u.TweenMax||i;return e?this.add(o.fromTo(t,e,r,n),s):this.set(t,n,s)},f.staggerTo=function(t,e,n,o,a,h,l,u){var p,f=new r({onComplete:h,onCompleteParams:l,onCompleteScope:u,smoothChildTiming:this.smoothChildTiming});for("string"==typeof t&&(t=i.selector(t)||t),s(t=t||[])&&(t=d(t)),0>(o=o||0)&&(t=d(t),t.reverse(),o*=-1),p=0;t.length>p;p++)n.startAt&&(n.startAt=c(n.startAt)),f.to(t[p],e,c(n),p*o);return this.add(f,a)},f.staggerFrom=function(t,e,i,r,n,s,o,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,r,n,s,o,a)},f.staggerFromTo=function(t,e,i,r,n,s,o,a,h){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,r,n,s,o,a,h)},f.call=function(t,e,r,n){return this.add(i.delayedCall(0,t,e,r),n)},f.set=function(t,e,r){return r=this._parseTimeOrLabel(r,0,!0),null==e.immediateRender&&(e.immediateRender=r===this._time&&!this._paused),this.add(new i(t,0,e),r)},r.exportRoot=function(t,e){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var n,s,o=new r(t),a=o._timeline;for(null==e&&(e=!0),a._remove(o,!0),o._startTime=0,o._rawPrevTime=o._time=o._totalTime=a._time,n=a._first;n;)s=n._next,e&&n instanceof i&&n.target===n.vars.onComplete||o.add(n,n._startTime-n._delay),n=s;return a.add(o,0),o},f.add=function(n,s,a,h){var l,u,c,p,d,f;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,n)),!(n instanceof t)){if(n instanceof Array||n&&n.push&&o(n)){for(a=a||"normal",h=h||0,l=s,u=n.length,c=0;u>c;c++)o(p=n[c])&&(p=new r({tweens:p})),this.add(p,l),"string"!=typeof p&&"function"!=typeof p&&("sequence"===a?l=p._startTime+p.totalDuration()/p._timeScale:"start"===a&&(p._startTime-=p.delay())),l+=h;return this._uncache(!0)}if("string"==typeof n)return this.addLabel(n,s);if("function"!=typeof n)throw"Cannot add "+n+" into the timeline; it is not a tween, timeline, function, or string.";n=i.delayedCall(0,n)}if(e.prototype.add.call(this,n,s),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=this,f=d.rawTime()>n._startTime;d._timeline;)f&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},f.remove=function(e){if(e instanceof t)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&o(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},f._remove=function(t,i){e.prototype._remove.call(this,t,i);var r=this._last;return r?this._time>r._startTime+r._totalDuration/r._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},f.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},f.insert=f.insertMultiple=function(t,e,i,r){return this.add(t,e||0,i,r)},f.appendMultiple=function(t,e,i,r){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,r)},f.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},f.addPause=function(t,e,i,r){return this.call(p,["{self}",e,i,r],this,t)},f.removeLabel=function(t){return delete this._labels[t],this},f.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},f._parseTimeOrLabel=function(e,i,r,n){var s;if(n instanceof t&&n.timeline===this)this.remove(n);else if(n&&(n instanceof Array||n.push&&o(n)))for(s=n.length;--s>-1;)n[s]instanceof t&&n[s].timeline===this&&this.remove(n[s]);if("string"==typeof i)return this._parseTimeOrLabel(i,r&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,r);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(-1===(s=e.indexOf("=")))return null==this._labels[e]?r?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(s-1)+"1",10)*Number(e.substr(s+1)),e=s>1?this._parseTimeOrLabel(e.substr(0,s-1),0,r):this.duration()}return Number(e)+i},f.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},f.stop=function(){return this.paused(!0)},f.gotoAndPlay=function(t,e){return this.play(t,e)},f.gotoAndStop=function(t,e){return this.pause(t,e)},f.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var r,n,s,o,u,c=this._dirty?this.totalDuration():this._totalDuration,p=this._time,d=this._startTime,f=this._timeScale,g=this._paused;if(t>=c?(this._totalTime=this._time=c,this._reversed||this._hasPausedChild()||(n=!0,o="onComplete",0===this._duration&&(0===t||0>this._rawPrevTime||1e-10===this._rawPrevTime)&&this._rawPrevTime!==t&&this._first&&(u=!0,this._rawPrevTime>1e-10&&(o="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,t=c+1e-4):1e-7>t?(this._totalTime=this._time=0,(0!==p||0===this._duration&&1e-10!==this._rawPrevTime&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(o="onReverseComplete",n=this._reversed),0>t?(this._active=!1,this._rawPrevTime>=0&&this._first&&(u=!0),this._rawPrevTime=t):(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,t=0,this._initted||(u=!0))):this._totalTime=this._time=this._rawPrevTime=t,this._time!==p&&this._first||i||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&t>0&&(this._active=!0),0===p&&this.vars.onStart&&0!==this._time&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||l)),this._time>=p)for(r=this._first;r&&(s=r._next,!this._paused||g);)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s;else for(r=this._last;r&&(s=r._prev,!this._paused||g);)(r._active||p>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s;this._onUpdate&&(e||(a.length&&h(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||l))),o&&(this._gc||(d===this._startTime||f!==this._timeScale)&&(0===this._time||c>=this.totalDuration())&&(n&&(a.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this.vars[o].apply(this.vars[o+"Scope"]||this,this.vars[o+"Params"]||l)))}},f._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof r&&t._hasPausedChild())return!0;t=t._next}return!1},f.getChildren=function(t,e,r,n){n=n||-9999999999;for(var s=[],o=this._first,a=0;o;)n>o._startTime||(o instanceof i?!1!==e&&(s[a++]=o):(!1!==r&&(s[a++]=o),!1!==t&&(s=s.concat(o.getChildren(!0,e,r)),a=s.length))),o=o._next;return s},f.getTweensOf=function(t,e){var r,n,s=this._gc,o=[],a=0;for(s&&this._enabled(!0,!0),n=(r=i.getTweensOf(t)).length;--n>-1;)(r[n].timeline===this||e&&this._contains(r[n]))&&(o[a++]=r[n]);return s&&this._enabled(!1,!0),o},f.recent=function(){return this._recent},f._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},f.shiftChildren=function(t,e,i){i=i||0;for(var r,n=this._first,s=this._labels;n;)n._startTime>=i&&(n._startTime+=t),n=n._next;if(e)for(r in s)s[r]>=i&&(s[r]+=t);return this._uncache(!0)},f._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),r=i.length,n=!1;--r>-1;)i[r]._kill(t,e)&&(n=!0);return n},f.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},f.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},f._enabled=function(t,i){if(t===this._gc)for(var r=this._first;r;)r._enabled(t,!0),r=r._next;return e.prototype._enabled.call(this,t,i)},f.totalTime=function(){this._forcingPlayhead=!0;var e=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},f.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},f.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,r=0,n=this._last,s=999999999999;n;)e=n._prev,n._dirty&&n.totalDuration(),n._startTime>s&&this._sortChildren&&!n._paused?this.add(n,n._startTime-n._delay):s=n._startTime,0>n._startTime&&!n._paused&&(r-=n._startTime,this._timeline.smoothChildTiming&&(this._startTime+=n._startTime/this._timeScale),this.shiftChildren(-n._startTime,!1,-9999999999),s=0),i=n._startTime+n._totalDuration/n._timeScale,i>r&&(r=i),n=e;this._duration=this._totalDuration=r,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},f.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},f.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},r},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope).TimelineLite};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("./TweenLite.js"),module.exports=e())}(),function(t,e){"use strict";var i=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!i.TweenLite){var r,n,s,o,a,h=function(t){var e,r=t.split("."),n=i;for(e=0;r.length>e;e++)n[r[e]]=n=n[r[e]]||{};return n},l=h("com.greensock"),u=function(t){var e,i=[],r=t.length;for(e=0;e!==r;i.push(t[e++]));return i},c=function(){},p=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),d={},f=function(e,r,n,s){this.sc=d[e]?d[e].sc:[],d[e]=this,this.gsClass=null,this.func=n;var o=[];this.check=function(a){for(var l,u,c,p,g=r.length,m=g;--g>-1;)(l=d[r[g]]||new f(r[g],[])).gsClass?(o[g]=l.gsClass,m--):a&&l.sc.push(this);if(0===m&&n)for(u=("com.greensock."+e).split("."),c=u.pop(),p=h(u.join("."))[c]=this.gsClass=n.apply(n,o),s&&(i[c]=p,"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+e.split(".").pop(),[],function(){return p}):"TweenLite"===e&&"undefined"!=typeof module&&module.exports&&(module.exports=p)),g=0;this.sc.length>g;g++)this.sc[g].check()},this.check(!0)},g=t._gsDefine=function(t,e,i,r){return new f(t,e,i,r)},m=l._class=function(t,e,i){return e=e||function(){},g(t,[],function(){return e},i),e};g.globals=i;var v=[0,0,1,1],y=[],x=m("easing.Ease",function(t,e,i,r){this._func=t,this._type=i||0,this._power=r||0,this._params=e?v.concat(e):v},!0),b=x.map={},_=x.register=function(t,e,i,r){for(var n,s,o,a,h=e.split(","),u=h.length,c=(i||"easeIn,easeOut,easeInOut").split(",");--u>-1;)for(s=h[u],n=r?m("easing."+s,null,!0):l.easing[s]||{},o=c.length;--o>-1;)a=c[o],b[s+"."+a]=b[a+s]=n[a]=t.getRatio?t:t[a]||new t};for((s=x.prototype)._calcEnd=!1,s.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,r=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?r*=r:2===i?r*=r*r:3===i?r*=r*r*r:4===i&&(r*=r*r*r*r),1===e?1-r:2===e?r:.5>t?r/2:1-r/2},n=(r=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--n>-1;)s=r[n]+",Power"+n,_(new x(null,null,1,n),s,"easeOut",!0),_(new x(null,null,2,n),s,"easeIn"+(0===n?",easeNone":"")),_(new x(null,null,3,n),s,"easeInOut");b.linear=l.easing.Linear.easeIn,b.swing=l.easing.Quad.easeInOut;var w=m("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(s=w.prototype).addEventListener=function(t,e,i,r,n){n=n||0;var s,h,l=this._listeners[t],u=0;for(null==l&&(this._listeners[t]=l=[]),h=l.length;--h>-1;)s=l[h],s.c===e&&s.s===i?l.splice(h,1):0===u&&n>s.pr&&(u=h+1);l.splice(u,0,{c:e,s:i,up:r,pr:n}),this!==o||a||o.wake()},s.removeEventListener=function(t,e){var i,r=this._listeners[t];if(r)for(i=r.length;--i>-1;)if(r[i].c===e)return void r.splice(i,1)},s.dispatchEvent=function(t){var e,i,r,n=this._listeners[t];if(n)for(e=n.length,i=this._eventTarget;--e>-1;)r=n[e],r&&(r.up?r.c.call(r.s||i,{type:t,target:i}):r.c.call(r.s||i))};var T=t.requestAnimationFrame,S=t.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},E=C();for(n=(r=["ms","moz","webkit","o"]).length;--n>-1&&!T;)T=t[r[n]+"RequestAnimationFrame"],S=t[r[n]+"CancelAnimationFrame"]||t[r[n]+"CancelRequestAnimationFrame"];m("Ticker",function(t,e){var i,r,n,s,h,l=this,u=C(),p=!1!==e&&T,d=500,f=33,g=function(t){var e,o,a=C()-E;a>d&&(u+=a-f),E+=a,l.time=(E-u)/1e3,e=l.time-h,(!i||e>0||!0===t)&&(l.frame++,h+=e+(e>=s?.004:s-e),o=!0),!0!==t&&(n=r(g)),o&&l.dispatchEvent("tick")};w.call(l),l.time=l.frame=0,l.tick=function(){g(!0)},l.lagSmoothing=function(t,e){d=t||1e10,f=Math.min(e,d,0)},l.sleep=function(){null!=n&&(p&&S?S(n):clearTimeout(n),r=c,n=null,l===o&&(a=!1))},l.wake=function(){null!==n?l.sleep():l.frame>10&&(E=C()-d+5),r=0===i?c:p&&T?T:function(t){return setTimeout(t,0|1e3*(h-l.time)+1)},l===o&&(a=!0),g(2)},l.fps=function(t){return arguments.length?(s=1/((i=t)||60),h=this.time+s,void l.wake()):i},l.useRAF=function(t){return arguments.length?(l.sleep(),p=t,void l.fps(i)):p},l.fps(t),setTimeout(function(){p&&(!n||5>l.frame)&&l.useRAF(!1)},1500)}),(s=l.Ticker.prototype=new l.events.EventDispatcher).constructor=l.Ticker;var A=m("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,G){a||o.wake();var i=this.vars.useFrames?U:G;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});o=A.ticker=new l.Ticker,(s=A.prototype)._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1;var k=function(){a&&C()-E>2e3&&o.wake(),setTimeout(k,2e3)};k(),s.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},s.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},s.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},s.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},s.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},s.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},s.render=function(){},s.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},s.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&i+this.totalDuration()/this._timeScale>t},s._enabled=function(t,e){return a||o.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(){return this._enabled(!1,!1)},s.kill=function(t,e){return this._kill(t,e),this},s._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},s._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},s.eventCallback=function(t,e,i,r){if("on"===(t||"").substr(0,2)){var n=this.vars;if(1===arguments.length)return n[t];null==e?delete n[t]:(n[t]=e,n[t+"Params"]=p(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,n[t+"Scope"]=r),"onUpdate"===t&&(this._onUpdate=e)}return this},s.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},s.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},s.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},s.totalTime=function(t,e,i){if(a||o.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,n=this._timeline;if(t>r&&!i&&(t=r),this._startTime=(this._paused?this._pauseTime:n._time)-(this._reversed?r-t:t)/this._timeScale,n._dirty||this._uncache(!1),n._timeline)for(;n._timeline;)n._timeline._time!==(n._startTime+n._totalTime)/n._timeScale&&n.totalTime(n._totalTime,!0),n=n._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(this.render(t,e,!1),L.length&&W())}return this},s.progress=s.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},s.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},s.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},s.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||1e-10,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},s.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},s.paused=function(t){if(!arguments.length)return this._paused;if(t!=this._paused&&this._timeline){a||t||o.wake();var e=this._timeline,i=e.rawTime(),r=i-this._pauseTime;!t&&e.smoothChildTiming&&(this._startTime+=r,this._uncache(!1)),this._pauseTime=t?i:null,this._paused=t,this._active=this.isActive(),!t&&0!==r&&this._initted&&this.duration()&&this.render(e.smoothChildTiming?this._totalTime:(i-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!t&&this._enabled(!0,!1),this};var M=m("core.SimpleTimeline",function(t){A.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(s=M.prototype=new A).constructor=M,s.kill()._gc=!1,s._first=s._last=s._recent=null,s._sortChildren=!1,s.add=s.insert=function(t,e){var i,r;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(r=t._startTime;i&&i._startTime>r;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._recent=t,this._timeline&&this._uncache(!0),this},s._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},s.render=function(t,e,i){var r,n=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;n;)r=n._next,(n._active||t>=n._startTime&&!n._paused)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=r},s.rawTime=function(){return a||o.wake(),this._totalTime};var R=m("TweenLite",function(e,i,r){if(A.call(this,i,r),this.render=R.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:R.selector(e)||e;var n,s,o,a=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),h=this.vars.overwrite;if(this._overwrite=h=null==h?j[R.defaultOverwrite]:"number"==typeof h?h>>0:j[h],(a||e instanceof Array||e.push&&p(e))&&"number"!=typeof e[0])for(this._targets=o=u(e),this._propLookup=[],this._siblings=[],n=0;o.length>n;n++)s=o[n],s?"string"!=typeof s?s.length&&s!==t&&s[0]&&(s[0]===t||s[0].nodeType&&s[0].style&&!s.nodeType)?(o.splice(n--,1),this._targets=o=o.concat(u(s))):(this._siblings[n]=$(s,this,!1),1===h&&this._siblings[n].length>1&&q(s,this,null,1,this._siblings[n])):(s=o[n--]=R.selector(s),"string"==typeof s&&o.splice(n+1,1)):o.splice(n--,1);else this._propLookup={},this._siblings=$(e,this,!1),1===h&&this._siblings.length>1&&q(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-10,this.render(-this._delay))},!0),P=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)};(s=R.prototype=new A).constructor=R,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=s._startAt=null,s._notifyPluginsOfEnabled=s._lazy=!1,R.version="1.14.2",R.defaultEase=s._ease=new x(null,null,1,1),R.defaultOverwrite="auto",R.ticker=o,R.autoSleep=!0,R.lagSmoothing=function(t,e){o.lagSmoothing(t,e)},R.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(R.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var L=[],O={},D=R._internals={isArray:p,isSelector:P,lazyTweens:L},I=R._plugins={},F=D.tweenLookup={},B=0,N=D.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1},j={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},U=A._rootFramesTimeline=new M,G=A._rootTimeline=new M,W=D.lazyRender=function(){var t,e=L.length;for(O={};--e>-1;)t=L[e],t&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);L.length=0};G._startTime=o.time,U._startTime=o.frame,G._active=U._active=!0,setTimeout(W,1),A._updateRoot=R.render=function(){var t,e,i;if(L.length&&W(),G.render((o.time-G._startTime)*G._timeScale,!1,!1),U.render((o.frame-U._startTime)*U._timeScale,!1,!1),L.length&&W(),!(o.frame%120)){for(i in F){for(t=(e=F[i].tweens).length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete F[i]}if((!(i=G._first)||i._paused)&&R.autoSleep&&!U._first&&1===o._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||o.sleep()}}},o.addEventListener("tick",A._updateRoot);var $=function(t,e,i){var r,n,s=t._gsTweenID;if(F[s||(t._gsTweenID=s="t"+B++)]||(F[s]={target:t,tweens:[]}),e&&(r=F[s].tweens,r[n=r.length]=e,i))for(;--n>-1;)r[n]===e&&r.splice(n,1);return F[s].tweens},H=function(t,e,i,r){var n,s,o=t.vars.onOverwrite;return o&&(n=o(t,e,i,r)),(o=R.onOverwrite)&&(s=o(t,e,i,r)),!1!==n&&!1!==s},q=function(t,e,i,r,n){var s,o,a,h;if(1===r||r>=4){for(h=n.length,s=0;h>s;s++)if((a=n[s])!==e)a._gc||H(a,e)&&a._enabled(!1,!1)&&(o=!0);else if(5===r)break;return o}var l,u=e._startTime+1e-10,c=[],p=0,d=0===e._duration;for(s=n.length;--s>-1;)(a=n[s])===e||a._gc||a._paused||(a._timeline!==e._timeline?(l=l||z(e,0,d),0===z(a,l,d)&&(c[p++]=a)):u>=a._startTime&&a._startTime+a.totalDuration()/a._timeScale>u&&((d||!a._initted)&&2e-10>=u-a._startTime||(c[p++]=a)));for(s=p;--s>-1;)if(a=c[s],2===r&&a._kill(i,t,e)&&(o=!0),2!==r||!a._firstPT&&a._initted){if(2!==r&&!H(a,e))continue;a._enabled(!1,!1)&&(o=!0)}return o},z=function(t,e,i){for(var r=t._timeline,n=r._timeScale,s=t._startTime;r._timeline;){if(s+=r._startTime,n*=r._timeScale,r._paused)return-100;r=r._timeline}return(s/=n)>e?s-e:i&&s===e||!t._initted&&2e-10>s-e?1e-10:(s+=t.totalDuration()/t._timeScale/n)>e+1e-10?0:s-e-1e-10};s._init=function(){var t,e,i,r,n,s=this.vars,o=this._overwrittenProps,a=this._duration,h=!!s.immediateRender,l=s.ease;if(s.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),n={};for(r in s.startAt)n[r]=s.startAt[r];if(n.overwrite=!1,n.immediateRender=!0,n.lazy=h&&!1!==s.lazy,n.startAt=n.delay=null,this._startAt=R.to(this.target,0,n),h)if(this._time>0)this._startAt=null;else if(0!==a)return}else if(s.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(h=!1),i={};for(r in s)N[r]&&"autoCSS"!==r||(i[r]=s[r]);if(i.overwrite=0,i.data="isFromStart",i.lazy=h&&!1!==s.lazy,i.immediateRender=h,this._startAt=R.to(this.target,0,i),h){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=l=l?l instanceof x?l:"function"==typeof l?new x(l,s.easeParams):b[l]||R.defaultEase:R.defaultEase,s.easeParams instanceof Array&&l.config&&(this._ease=l.config.apply(l,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],o?o[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,o);if(e&&R._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=s.onUpdate,this._initted=!0},s._initProps=function(e,i,r,n){var s,o,a,h,l,u;if(null==e)return!1;O[e._gsTweenID]&&W(),this.vars.css||e.style&&e!==t&&e.nodeType&&I.css&&!1!==this.vars.autoCSS&&function(t,e){var i,r={};for(i in t)N[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!I[i]||I[i]&&I[i]._autoCSS)||(r[i]=t[i],delete t[i]);t.css=r}(this.vars,e);for(s in this.vars){if(u=this.vars[s],N[s])u&&(u instanceof Array||u.push&&p(u))&&-1!==u.join("").indexOf("{self}")&&(this.vars[s]=u=this._swapSelfInParams(u,this));else if(I[s]&&(h=new I[s])._onInitTween(e,this.vars[s],this)){for(this._firstPT=l={_next:this._firstPT,t:h,p:"setRatio",s:0,c:1,f:!0,n:s,pg:!0,pr:h._priority},o=h._overwriteProps.length;--o>-1;)i[h._overwriteProps[o]]=this._firstPT;(h._priority||h._onInitAllProps)&&(a=!0),(h._onDisable||h._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[s]=l={_next:this._firstPT,t:e,p:s,f:"function"==typeof e[s],n:s,pg:!1,pr:0},l.s=l.f?e[s.indexOf("set")||"function"!=typeof e["get"+s.substr(3)]?s:"get"+s.substr(3)]():parseFloat(e[s]),l.c="string"==typeof u&&"="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*Number(u.substr(2)):Number(u)-l.s||0;l&&l._next&&(l._next._prev=l)}return n&&this._kill(n,e)?this._initProps(e,i,r,n):this._overwrite>1&&this._firstPT&&r.length>1&&q(e,this,i,this._overwrite,r)?(this._kill(i,e),this._initProps(e,i,r,n)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(O[e._gsTweenID]=!0),a)},s.render=function(t,e,i){var r,n,s,o,a=this._time,h=this._duration,l=this._rawPrevTime;if(t>=h)this._totalTime=this._time=h,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,n="onComplete"),0===h&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>l||1e-10===l)&&l!==t&&(i=!0,l>1e-10&&(n="onReverseComplete")),this._rawPrevTime=o=!e||t||l===t?t:1e-10);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===h&&l>0&&1e-10!==l)&&(n="onReverseComplete",r=this._reversed),0>t&&(this._active=!1,0===h&&(this._initted||!this.vars.lazy||i)&&(l>=0&&(i=!0),this._rawPrevTime=o=!e||t||l===t?t:1e-10)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var u=t/h,c=this._easeType,p=this._easePower;(1===c||3===c&&u>=.5)&&(u=1-u),3===c&&(u*=2),1===p?u*=u:2===p?u*=u*u:3===p?u*=u*u*u:4===p&&(u*=u*u*u*u),this.ratio=1===c?1-u:2===c?u:.5>t/h?u/2:1-u/2}else this.ratio=this._ease.getRatio(t/h);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=l,L.push(this),void(this._lazy=[t,e]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/h):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):n||(n="_dummyGS")),this.vars.onStart&&(0!==this._time||0===h)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||y))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>t&&this._startAt&&-1e-4!==t&&this._startAt.render(t,e,i),e||(this._time!==a||r)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||y)),n&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,e,i),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this.vars[n].apply(this.vars[n+"Scope"]||this,this.vars[n+"Params"]||y),0===h&&1e-10===this._rawPrevTime&&1e-10!==o&&(this._rawPrevTime=0))}},s._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:R.selector(e)||e;var r,n,s,o,a,h,l,u,c;if((p(e)||P(e))&&"number"!=typeof e[0])for(r=e.length;--r>-1;)this._kill(t,e[r])&&(h=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(e===this._targets[r]){a=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[r]=t?this._overwrittenProps[r]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,n=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(l=t||a,u=t!==n&&"all"!==n&&t!==a&&("object"!=typeof t||!t._tempKill),i&&(R.onOverwrite||this.vars.onOverwrite)){for(s in l)a[s]&&(c||(c=[]),c.push(s));if(!H(this,i,e,c))return!1}for(s in l)(o=a[s])&&(o.pg&&o.t._kill(l)&&(h=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete a[s]),u&&(n[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},s.invalidate=function(){return this._notifyPluginsOfEnabled&&R._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],A.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(-this._delay)),this},s._enabled=function(t,e){if(a||o.wake(),t&&this._gc){var i,r=this._targets;if(r)for(i=r.length;--i>-1;)this._siblings[i]=$(r[i],this,!0);else this._siblings=$(this.target,this,!0)}return A.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&R._onPluginEvent(t?"_onEnable":"_onDisable",this)},R.to=function(t,e,i){return new R(t,e,i)},R.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new R(t,e,i)},R.fromTo=function(t,e,i,r){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,new R(t,e,r)},R.delayedCall=function(t,e,i,r,n){return new R(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:r,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:r,immediateRender:!1,useFrames:n,overwrite:0})},R.set=function(t,e){return new R(t,0,e)},R.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:R.selector(t)||t;var i,r,n,s;if((p(t)||P(t))&&"number"!=typeof t[0]){for(i=t.length,r=[];--i>-1;)r=r.concat(R.getTweensOf(t[i],e));for(i=r.length;--i>-1;)for(s=r[i],n=i;--n>-1;)s===r[n]&&r.splice(i,1)}else for(r=$(t).concat(),i=r.length;--i>-1;)(r[i]._gc||e&&!r[i].isActive())&&r.splice(i,1);return r},R.killTweensOf=R.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var r=R.getTweensOf(t,e),n=r.length;--n>-1;)r[n]._kill(i,t)};var X=m("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=X.prototype},!0);if(s=X.prototype,X.version="1.10.1",X.API=2,s._firstPT=null,s._addTween=function(t,e,i,r,n,s){var o,a;return null!=r&&(o="number"==typeof r||"="!==r.charAt(1)?Number(r)-i:parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)))?(this._firstPT=a={_next:this._firstPT,t:t,p:e,s:i,c:o,f:"function"==typeof t[e],n:n||e,r:s},a._next&&(a._next._prev=a),a):void 0},s.setRatio=function(t){for(var e,i=this._firstPT;i;)e=i.c*t+i.s,i.r?e=Math.round(e):1e-6>e&&e>-1e-6&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},s._kill=function(t){var e,i=this._overwriteProps,r=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;r;)null!=t[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},s._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},R._onPluginEvent=function(t,e){var i,r,n,s,o,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(o=a._next,r=n;r&&r.pr>a.pr;)r=r._next;(a._prev=r?r._prev:s)?a._prev._next=a:n=a,(a._next=r)?r._prev=a:s=a,a=o}a=e._firstPT=n}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},X.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===X.API&&(I[(new t[e])._propName]=t[e]);return!0},g.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,r=t.priority||0,n=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},o=m("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){X.call(this,i,r),this._overwriteProps=n||[]},!0===t.global),a=o.prototype=new X(i);a.constructor=o,o.API=t.API;for(e in s)"function"==typeof t[e]&&(a[s[e]]=t[e]);return o.version=t.version,X.activate([o]),o},r=t._gsQueue){for(n=0;r.length>n;n++)r[n]();for(s in d)d[s].func||t.console.log("GSAP encountered missing dependency: com.greensock."+s)}a=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window);var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,r,n,s,o=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=o.prototype.setRatio},a={},h=o.prototype=new t("css");h.constructor=o,o.version="1.14.2",o.API=2,o.defaultTransformPerspective=0,o.defaultSkewType="compensated",h="px",o.suffixMap={top:h,right:h,bottom:h,left:h,width:h,height:h,fontSize:h,padding:h,margin:h,perspective:h,lineHeight:""};var l,u,c,p,d,f,g=/(?:\d|\-\d|\.\d|\-\.\d)+/g,m=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,y=/(?![+-]?\d*\.?\d+|e[+-]\d+)[^0-9]/g,x=/(?:\d|\-|\+|=|#|\.)*/g,b=/opacity *= *([^)]*)/i,_=/opacity:([^;]*)/i,w=/alpha\(opacity *=.+?\)/i,T=/^(rgb|hsl)/,S=/([A-Z])/g,C=/-([a-z])/gi,E=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,A=function(t,e){return e.toUpperCase()},k=/(?:Left|Right|Width)/i,M=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,R=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,P=/,(?=[^\)]*(?:\(|$))/gi,L=Math.PI/180,O=180/Math.PI,D={},I=document,F=I.createElement("div"),B=I.createElement("img"),N=o._internals={_specialProps:a},j=navigator.userAgent,U=function(){var t,e=j.indexOf("Android"),i=I.createElement("div");return c=-1!==j.indexOf("Safari")&&-1===j.indexOf("Chrome")&&(-1===e||Number(j.substr(e+8,1))>3),d=c&&6>Number(j.substr(j.indexOf("Version/")+8,1)),p=-1!==j.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(j)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(j))&&(f=parseFloat(RegExp.$1)),i.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",!!(t=i.getElementsByTagName("a")[0])&&/^0.55/.test(t.style.opacity)}(),G=function(t){return b.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},W=function(t){window.console&&console.log(t)},$="",H="",q=function(t,e){var i,r,n=(e=e||F).style;if(void 0!==n[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===n[i[r]+t];);return r>=0?($="-"+(H=3===r?"ms":i[r]).toLowerCase()+"-",H+t):null},z=I.defaultView?I.defaultView.getComputedStyle:function(){},X=o.getStyle=function(t,e,i,r,n){var s;return U||"opacity"!==e?(!r&&t.style[e]?s=t.style[e]:(i=i||z(t))?s=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(S,"-$1").toLowerCase()):t.currentStyle&&(s=t.currentStyle[e]),null==n||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:n):G(t)},V=N.convertToPixels=function(t,i,r,n,s){if("px"===n||!n)return r;if("auto"===n||!r)return 0;var a,h,l,u=k.test(i),c=t,p=F.style,d=0>r;if(d&&(r=-r),"%"===n&&-1!==i.indexOf("border"))a=r/100*(u?t.clientWidth:t.clientHeight);else{if(p.cssText="border:0 solid red;position:"+X(t,"position")+";line-height:0;","%"!==n&&c.appendChild)p[u?"borderLeftWidth":"borderTopWidth"]=r+n;else{if(h=(c=t.parentNode||I.body)._gsCache,l=e.ticker.frame,h&&u&&h.time===l)return h.width*r/100;p[u?"width":"height"]=r+n}c.appendChild(F),a=parseFloat(F[u?"offsetWidth":"offsetHeight"]),c.removeChild(F),u&&"%"===n&&!1!==o.cacheWidths&&(h=c._gsCache=c._gsCache||{},h.time=l,h.width=a/r*100),0!==a||s||(a=V(t,i,r,n,!0))}return d?-a:a},Y=N.calculateOffset=function(t,e,i){if("absolute"!==X(t,"position",i))return 0;var r="left"===e?"Left":"Top",n=X(t,"margin"+r,i);return t["offset"+r]-(V(t,e,parseFloat(n),n.replace(x,""))||0)},Q=function(t,e){var i,r,n={};if(e=e||z(t,null))if(i=e.length)for(;--i>-1;)n[e[i].replace(C,A)]=e.getPropertyValue(e[i]);else for(i in e)n[i]=e[i];else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===n[i]&&(n[i.replace(C,A)]=e[i]);return U||(n.opacity=G(t)),r=Rt(t,e,!1),n.rotation=r.rotation,n.skewX=r.skewX,n.scaleX=r.scaleX,n.scaleY=r.scaleY,n.x=r.x,n.y=r.y,Tt&&(n.z=r.z,n.rotationX=r.rotationX,n.rotationY=r.rotationY,n.scaleZ=r.scaleZ),n.filters&&delete n.filters,n},J=function(t,e,i,r,n){var s,o,a,h={},l=t.style;for(o in i)"cssText"!==o&&"length"!==o&&isNaN(o)&&(e[o]!==(s=i[o])||n&&n[o])&&-1===o.indexOf("Origin")&&("number"==typeof s||"string"==typeof s)&&(h[o]="auto"!==s||"left"!==o&&"top"!==o?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof e[o]||""===e[o].replace(y,"")?s:0:Y(t,o),void 0!==l[o]&&(a=new ct(l,o,l[o],a)));if(r)for(o in r)"className"!==o&&(h[o]=r[o]);return{difs:h,firstMPT:a}},K={width:["Left","Right"],height:["Top","Bottom"]},Z=["marginLeft","marginRight","marginTop","marginBottom"],tt=function(t,e,i){var r=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),n=K[e],s=n.length;for(i=i||z(t,null);--s>-1;)r-=parseFloat(X(t,"padding"+n[s],i,!0))||0,r-=parseFloat(X(t,"border"+n[s]+"Width",i,!0))||0;return r},et=function(t,e){(null==t||""===t||"auto"===t||"auto auto"===t)&&(t="0 0");var i=t.split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],n=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==n?n="0":"center"===n&&(n="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),e&&(e.oxp=-1!==r.indexOf("%"),e.oyp=-1!==n.indexOf("%"),e.oxr="="===r.charAt(1),e.oyr="="===n.charAt(1),e.ox=parseFloat(r.replace(y,"")),e.oy=parseFloat(n.replace(y,""))),r+" "+n+(i.length>2?" "+i[2]:"")},it=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},rt=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)},nt=function(t,e,i,r){var n,s,o,a;return null==t?a=e:"number"==typeof t?a=t:(n=360,s=t.split("_"),o=Number(s[0].replace(y,""))*(-1===t.indexOf("rad")?1:O)-("="===t.charAt(1)?0:e),s.length&&(r&&(r[i]=e+o),-1!==t.indexOf("short")&&(o%=n,o!==o%(n/2)&&(o=0>o?o+n:o-n)),-1!==t.indexOf("_cw")&&0>o?o=(o+9999999999*n)%n-(0|o/n)*n:-1!==t.indexOf("ccw")&&o>0&&(o=(o-9999999999*n)%n-(0|o/n)*n)),a=e+o),1e-6>a&&a>-1e-6&&(a=0),a},st={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ot=function(t,e,i){return 0|255*(1>6*(t=0>t?t+1:t>1?t-1:t)?e+6*(i-e)*t:.5>t?i:2>3*t?e+6*(i-e)*(2/3-t):e)+.5},at=o.parseColor=function(t){var e,i,r,n,s,o;return t&&""!==t?"number"==typeof t?[t>>16,255&t>>8,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),st[t]?st[t]:"#"===t.charAt(0)?(4===t.length&&(e=t.charAt(1),i=t.charAt(2),r=t.charAt(3),t="#"+e+e+i+i+r+r),[(t=parseInt(t.substr(1),16))>>16,255&t>>8,255&t]):"hsl"===t.substr(0,3)?(t=t.match(g),n=Number(t[0])%360/360,s=Number(t[1])/100,e=2*(o=Number(t[2])/100)-(i=.5>=o?o*(s+1):o+s-o*s),t.length>3&&(t[3]=Number(t[3])),t[0]=ot(n+1/3,e,i),t[1]=ot(n,e,i),t[2]=ot(n-1/3,e,i),t):((t=t.match(g)||st.transparent)[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3])),t)):st.black},ht="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(h in st)ht+="|"+h+"\\b";ht=RegExp(ht+")","gi");var lt=function(t,e,i,r){if(null==t)return function(t){return t};var n,s=e?(t.match(ht)||[""])[0]:"",o=t.split(s).join("").match(v)||[],a=t.substr(0,t.indexOf(o[0])),h=")"===t.charAt(t.length-1)?")":"",l=-1!==t.indexOf(" ")?" ":",",u=o.length,c=u>0?o[0].replace(g,""):"";return u?n=e?function(t){var e,p,d,f;if("number"==typeof t)t+=c;else if(r&&P.test(t)){for(f=t.replace(P,"|").split("|"),d=0;f.length>d;d++)f[d]=n(f[d]);return f.join(",")}if(e=(t.match(ht)||[s])[0],d=(p=t.split(e).join("").match(v)||[]).length,u>d--)for(;u>++d;)p[d]=i?p[0|(d-1)/2]:o[d];return a+p.join(l)+l+e+h+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,s,p;if("number"==typeof t)t+=c;else if(r&&P.test(t)){for(s=t.replace(P,"|").split("|"),p=0;s.length>p;p++)s[p]=n(s[p]);return s.join(",")}if(p=(e=t.match(v)||[]).length,u>p--)for(;u>++p;)e[p]=i?e[0|(p-1)/2]:o[p];return a+e.join(l)+h}:function(t){return t}},ut=function(t){return t=t.split(","),function(e,i,r,n,s,o,a){var h,l=(i+"").split(" ");for(a={},h=0;4>h;h++)a[t[h]]=l[h]=l[h]||l[(h-1)/2>>0];return n.parse(e,a,s,o)}},ct=(N._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,r,n,s=this.data,o=s.proxy,a=s.firstMPT;a;)e=o[a.v],a.r?e=Math.round(e):1e-6>e&&e>-1e-6&&(e=0),a.t[a.p]=e,a=a._next;if(s.autoRotate&&(s.autoRotate.rotation=o.rotation),1===t)for(a=s.firstMPT;a;){if((i=a.t).type){if(1===i.type){for(n=i.xs0+i.s+i.xs1,r=1;i.l>r;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.e=n}}else i.e=i.s+i.xs0;a=a._next}},function(t,e,i,r,n){this.t=t,this.p=e,this.v=i,this.r=n,r&&(r._prev=this,this._next=r)}),pt=(N._parseToProxy=function(t,e,i,r,n,s){var o,a,h,l,u,c=r,p={},d={},f=i._transform,g=D;for(i._transform=null,D=e,r=u=i.parse(t,e,r,n),D=g,s&&(i._transform=f,c&&(c._prev=null,c._prev&&(c._prev._next=null)));r&&r!==c;){if(1>=r.type&&(a=r.p,d[a]=r.s+r.c,p[a]=r.s,s||(l=new ct(r,"s",a,l,r.r),r.c=0),1===r.type))for(o=r.l;--o>0;)h="xn"+o,a=r.p+"_"+h,d[a]=r.data[h],p[a]=r[h],s||(l=new ct(r,h,a,l,r.rxp[h]));r=r._next}return{proxy:p,end:d,firstMPT:l,pt:u}},N.CSSPropTween=function(t,e,r,n,o,a,h,l,u,c,p){this.t=t,this.p=e,this.s=r,this.c=n,this.n=h||e,t instanceof pt||s.push(this.n),this.r=l,this.type=a||0,u&&(this.pr=u,i=!0),this.b=void 0===c?r:c,this.e=void 0===p?r+n:p,o&&(this._next=o,o._prev=this)}),dt=o.parseComplex=function(t,e,i,r,n,s,o,a,h,u){i=i||s||"",o=new pt(t,e,0,0,o,u?2:1,null,!1,a,i,r),r+="";var c,p,d,f,v,y,x,b,_,w,S,C,E=i.split(", ").join(",").split(" "),A=r.split(", ").join(",").split(" "),k=E.length,M=!1!==l;for((-1!==r.indexOf(",")||-1!==i.indexOf(","))&&(E=E.join(" ").replace(P,", ").split(" "),A=A.join(" ").replace(P,", ").split(" "),k=E.length),k!==A.length&&(E=(s||"").split(" "),k=E.length),o.plugin=h,o.setRatio=u,c=0;k>c;c++)if(f=E[c],v=A[c],b=parseFloat(f),b||0===b)o.appendXtra("",b,it(v,b),v.replace(m,""),M&&-1!==v.indexOf("px"),!0);else if(n&&("#"===f.charAt(0)||st[f]||T.test(f)))C=","===v.charAt(v.length-1)?"),":")",f=at(f),v=at(v),_=f.length+v.length>6,_&&!U&&0===v[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(A[c]).join("transparent")):(U||(_=!1),o.appendXtra(_?"rgba(":"rgb(",f[0],v[0]-f[0],",",!0,!0).appendXtra("",f[1],v[1]-f[1],",",!0).appendXtra("",f[2],v[2]-f[2],_?",":C,!0),_&&(f=4>f.length?1:f[3],o.appendXtra("",f,(4>v.length?1:v[3])-f,C,!1)));else if(y=f.match(g)){if(!(x=v.match(m))||x.length!==y.length)return o;for(d=0,p=0;y.length>p;p++)S=y[p],w=f.indexOf(S,d),o.appendXtra(f.substr(d,w-d),Number(S),it(x[p],S),"",M&&"px"===f.substr(w+S.length,2),0===p),d=w+S.length;o["xs"+o.l]+=f.substr(d)}else o["xs"+o.l]+=o.l?" "+f:f;if(-1!==r.indexOf("=")&&o.data){for(C=o.xs0+o.data.s,c=1;o.l>c;c++)C+=o["xs"+c]+o.data["xn"+c];o.e=C+o["xs"+c]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},ft=9;for((h=pt.prototype).l=h.pr=0;--ft>0;)h["xn"+ft]=0,h["xs"+ft]="";h.xs0="",h._next=h._prev=h.xfirst=h.data=h.plugin=h.setRatio=h.rxp=null,h.appendXtra=function(t,e,i,r,n,s){var o=this.l;return this["xs"+o]+=s&&o?" "+t:t||"",i||0===o||this.plugin?(this.l++,this.type=this.setRatio?2:1,this["xs"+this.l]=r||"",o>0?(this.data["xn"+o]=e+i,this.rxp["xn"+o]=n,this["xn"+o]=e,this.plugin||(this.xfirst=new pt(this,"xn"+o,e,i,this.xfirst||this,0,this.n,n,this.pr),this.xfirst.xs0=0),this):(this.data={s:e+i},this.rxp={},this.s=e,this.c=i,this.r=n,this)):(this["xs"+o]+=e+(r||""),this)};var gt=function(t,e){e=e||{},this.p=e.prefix?q(t)||t:t,a[t]=a[this.p]=this,this.format=e.formatter||lt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},mt=N._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var r,n=t.split(","),s=e.defaultValue;for(i=i||[s],r=0;n.length>r;r++)e.prefix=0===r&&e.prefix,e.defaultValue=i[r]||s,new gt(n[r],e)},vt=function(t){if(!a[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";mt(t,{parser:function(t,i,r,n,s,o,h){var l=(_gsScope.GreenSockGlobals||_gsScope).com.greensock.plugins[e];return l?(l._cssRegister(),a[r].parse(t,i,r,n,s,o,h)):(W("Error: "+e+" js file not loaded."),s)}})}};(h=gt.prototype).parseComplex=function(t,e,i,r,n,s){var o,a,h,l,u,c,p=this.keyword;if(this.multi&&(P.test(i)||P.test(e)?(a=e.replace(P,"|").split("|"),h=i.replace(P,"|").split("|")):p&&(a=[e],h=[i])),h){for(l=h.length>a.length?h.length:a.length,o=0;l>o;o++)e=a[o]=a[o]||this.dflt,i=h[o]=h[o]||this.dflt,p&&(u=e.indexOf(p),c=i.indexOf(p),u!==c&&(i=-1===c?h:a,i[o]+=" "+p));e=a.join(", "),i=h.join(", ")}return dt(t,this.p,e,i,this.clrs,this.dflt,r,this.pr,n,s)},h.parse=function(t,e,i,r,s,o){return this.parseComplex(t.style,this.format(X(t,this.p,n,!1,this.dflt)),this.format(e),s,o)},o.registerSpecialProp=function(t,e,i){mt(t,{parser:function(t,r,n,s,o,a){var h=new pt(t,n,0,0,o,2,n,!1,i);return h.plugin=a,h.setRatio=e(t,r,s._tween,n),h},priority:i})};var yt,xt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),bt=q("transform"),_t=$+"transform",wt=q("transformOrigin"),Tt=null!==q("perspective"),St=N.Transform=function(){this.skewY=0},Ct=window.SVGElement,Et=function(t,e,i){var r,n=I.createElementNS("http://www.w3.org/2000/svg",t),s=/([a-z])([A-Z])/g;for(r in i)n.setAttributeNS(null,r.replace(s,"$1-$2").toLowerCase(),i[r]);return e.appendChild(n),n},At=document.documentElement,kt=function(){var t,e,i,r=f||/Android/i.test(j)&&!window.chrome;return I.createElementNS&&!r&&(t=Et("svg",At),e=Et("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().left,e.style[wt]="50% 50%",e.style[bt]="scale(0.5,0.5)",r=i===e.getBoundingClientRect().left,At.removeChild(t)),r}(),Mt=function(t,e,i){var r=t.getBBox();e=et(e).split(" "),i.xOrigin=(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*r.width:parseFloat(e[0]))+r.x,i.yOrigin=(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*r.height:parseFloat(e[1]))+r.y},Rt=N.getTransform=function(t,e,i,r){if(t._gsTransform&&i&&!r)return t._gsTransform;var s,a,h,l,u,c,p,d,f,g,m,v,y,x=i?t._gsTransform||new St:new St,b=0>x.scaleX,_=179.99*L,w=Tt?parseFloat(X(t,wt,e,!1,"0 0 0").split(" ")[2])||x.zOrigin||0:0,T=parseFloat(o.defaultTransformPerspective)||0;if(bt?s=X(t,_t,e,!0):t.currentStyle&&(s=t.currentStyle.filter.match(M),s=s&&4===s.length?[s[0].substr(4),Number(s[2].substr(4)),Number(s[1].substr(4)),s[3].substr(4),x.x||0,x.y||0].join(","):""),s&&"none"!==s&&"matrix(1, 0, 0, 1, 0, 0)"!==s){for(h=(a=(s||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[]).length;--h>-1;)l=Number(a[h]),a[h]=(u=l-(l|=0))?(0|1e5*u+(0>u?-.5:.5))/1e5+l:l;if(16===a.length){var S=a[8],C=a[9],E=a[10],A=a[12],k=a[13],R=a[14];if(x.zOrigin&&(R=-x.zOrigin,A=S*R-a[12],k=C*R-a[13],R=E*R+x.zOrigin-a[14]),!i||r||null==x.rotationX){var P,D,I,F,B,N,j,U=a[0],G=a[1],W=a[2],$=a[3],H=a[4],q=a[5],z=a[6],V=a[7],Y=a[11],Q=Math.atan2(z,E),J=-_>Q||Q>_;x.rotationX=Q*O,Q&&(F=Math.cos(-Q),B=Math.sin(-Q),P=H*F+S*B,D=q*F+C*B,I=z*F+E*B,S=H*-B+S*F,C=q*-B+C*F,E=z*-B+E*F,Y=V*-B+Y*F,H=P,q=D,z=I),Q=Math.atan2(S,U),x.rotationY=Q*O,Q&&(N=-_>Q||Q>_,F=Math.cos(-Q),B=Math.sin(-Q),P=U*F-S*B,D=G*F-C*B,I=W*F-E*B,C=G*B+C*F,E=W*B+E*F,Y=$*B+Y*F,U=P,G=D,W=I),Q=Math.atan2(G,q),x.rotation=Q*O,Q&&(j=-_>Q||Q>_,F=Math.cos(-Q),B=Math.sin(-Q),U=U*F+H*B,D=G*F+q*B,q=G*-B+q*F,z=W*-B+z*F,G=D),j&&J?x.rotation=x.rotationX=0:j&&N?x.rotation=x.rotationY=0:N&&J&&(x.rotationY=x.rotationX=0),x.scaleX=(0|1e5*Math.sqrt(U*U+G*G)+.5)/1e5,x.scaleY=(0|1e5*Math.sqrt(q*q+C*C)+.5)/1e5,x.scaleZ=(0|1e5*Math.sqrt(z*z+E*E)+.5)/1e5,x.skewX=0,x.perspective=Y?1/(0>Y?-Y:Y):0,x.x=A,x.y=k,x.z=R}}else if(!(Tt&&!r&&a.length&&x.x===a[4]&&x.y===a[5]&&(x.rotationX||x.rotationY)||void 0!==x.x&&"none"===X(t,"display",e))){var K=a.length>=6,Z=K?a[0]:1,tt=a[1]||0,et=a[2]||0,it=K?a[3]:1;x.x=a[4]||0,x.y=a[5]||0,c=Math.sqrt(Z*Z+tt*tt),p=Math.sqrt(it*it+et*et),d=Z||tt?Math.atan2(tt,Z)*O:x.rotation||0,f=et||it?Math.atan2(et,it)*O+d:x.skewX||0,g=c-Math.abs(x.scaleX||0),m=p-Math.abs(x.scaleY||0),Math.abs(f)>90&&270>Math.abs(f)&&(b?(c*=-1,f+=0>=d?180:-180,d+=0>=d?180:-180):(p*=-1,f+=0>=f?180:-180)),v=(d-x.rotation)%180,y=(f-x.skewX)%180,(void 0===x.skewX||g>2e-5||-2e-5>g||m>2e-5||-2e-5>m||v>-179.99&&179.99>v&&!1|1e5*v||y>-179.99&&179.99>y&&!1|1e5*y)&&(x.scaleX=c,x.scaleY=p,x.rotation=d,x.skewX=f),Tt&&(x.rotationX=x.rotationY=x.z=0,x.perspective=T,x.scaleZ=1)}x.zOrigin=w;for(h in x)2e-5>x[h]&&x[h]>-2e-5&&(x[h]=0)}else x={x:0,y:0,z:0,scaleX:1,scaleY:1,scaleZ:1,skewX:0,skewY:0,perspective:T,rotation:0,rotationX:0,rotationY:0,zOrigin:0};return i&&(t._gsTransform=x),x.svg=Ct&&t instanceof Ct&&t.parentNode instanceof Ct,x.svg&&(Mt(t,X(t,wt,n,!1,"50% 50%")+"",x),yt=o.useSVGTransformAttr||kt),x.xPercent=x.yPercent=0,x},Pt=function(t){var e,i,r=this.data,n=-r.rotation*L,s=n+r.skewX*L,o=(0|Math.cos(n)*r.scaleX*1e5)/1e5,a=(0|Math.sin(n)*r.scaleX*1e5)/1e5,h=(0|Math.sin(s)*-r.scaleY*1e5)/1e5,l=(0|Math.cos(s)*r.scaleY*1e5)/1e5,u=this.t.style,c=this.t.currentStyle;if(c){i=a,a=-h,h=-i,e=c.filter,u.filter="";var p,d,g=this.t.offsetWidth,m=this.t.offsetHeight,v="absolute"!==c.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+a+", M21="+h+", M22="+l,_=r.x+g*r.xPercent/100,w=r.y+m*r.yPercent/100;if(null!=r.ox&&(p=(r.oxp?.01*g*r.ox:r.ox)-g/2,d=(r.oyp?.01*m*r.oy:r.oy)-m/2,_+=p-(p*o+d*a),w+=d-(p*h+d*l)),v?y+=", Dx="+((p=g/2)-(p*o+(d=m/2)*a)+_)+", Dy="+(d-(p*h+d*l)+w)+")":y+=", sizingMethod='auto expand')",u.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace(R,y):y+" "+e,(0===t||1===t)&&1===o&&0===a&&0===h&&1===l&&(v&&-1===y.indexOf("Dx=0, Dy=0")||b.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&u.removeAttribute("filter")),!v){var T,S,C,E=8>f?1:-1;for(p=r.ieOffsetX||0,d=r.ieOffsetY||0,r.ieOffsetX=Math.round((g-((0>o?-o:o)*g+(0>a?-a:a)*m))/2+_),r.ieOffsetY=Math.round((m-((0>l?-l:l)*m+(0>h?-h:h)*g))/2+w),ft=0;4>ft;ft++)S=Z[ft],T=c[S],i=-1!==T.indexOf("px")?parseFloat(T):V(this.t,S,parseFloat(T),T.replace(x,""))||0,C=i!==r[S]?2>ft?-r.ieOffsetX:-r.ieOffsetY:2>ft?p-r.ieOffsetX:d-r.ieOffsetY,u[S]=(r[S]=Math.round(i-C*(0===ft||2===ft?1:E)))+"px"}}},Lt=N.set3DTransformRatio=function(t){var e,i,r,n,s,o,a,h,l,u,c,d,f,g,m,v,y,x,b,_,w,T,S=this.data,C=this.t.style,E=S.rotation*L,A=S.scaleX,k=S.scaleY,M=S.scaleZ,R=S.x,P=S.y,O=S.z,D=S.perspective;if(1!==t&&0!==t||"auto"!==S.force3D||S.rotationY||S.rotationX||1!==M||D||O){if(p){1e-4>A&&A>-1e-4&&(A=M=2e-5),1e-4>k&&k>-1e-4&&(k=M=2e-5),!D||S.z||S.rotationX||S.rotationY||(D=0)}if(E||S.skewX)y=Math.cos(E),x=Math.sin(E),e=y,s=x,S.skewX&&(E-=S.skewX*L,y=Math.cos(E),x=Math.sin(E),"simple"===S.skewType&&(b=Math.tan(S.skewX*L),b=Math.sqrt(1+b*b),y*=b,x*=b)),i=-x,o=y;else{if(!(S.rotationY||S.rotationX||1!==M||D||S.svg))return void(C[bt]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+R+"px,"+P+"px,"+O+"px)"+(1!==A||1!==k?" scale("+A+","+k+")":""));e=o=1,i=s=0}c=1,r=n=a=h=l=u=d=f=g=0,m=D?-1/D:0,v=S.zOrigin,1e5,(E=S.rotationY*L)&&(y=Math.cos(E),x=Math.sin(E),l=c*-x,f=m*-x,r=e*x,a=s*x,c*=y,m*=y,e*=y,s*=y),(E=S.rotationX*L)&&(y=Math.cos(E),x=Math.sin(E),b=i*y+r*x,_=o*y+a*x,w=u*y+c*x,T=g*y+m*x,r=i*-x+r*y,a=o*-x+a*y,c=u*-x+c*y,m=g*-x+m*y,i=b,o=_,u=w,g=T),1!==M&&(r*=M,a*=M,c*=M,m*=M),1!==k&&(i*=k,o*=k,u*=k,g*=k),1!==A&&(e*=A,s*=A,l*=A,f*=A),v&&(d-=v,n=r*d,h=a*d,d=c*d+v),S.svg&&(n+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i),h+=S.yOrigin-(S.xOrigin*s+S.yOrigin*o)),n=(b=(n+=R)-(n|=0))?(0|1e5*b+(0>b?-.5:.5))/1e5+n:n,h=(b=(h+=P)-(h|=0))?(0|1e5*b+(0>b?-.5:.5))/1e5+h:h,d=(b=(d+=O)-(d|=0))?(0|1e5*b+(0>b?-.5:.5))/1e5+d:d,C[bt]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(")+[(0|1e5*e)/1e5,(0|1e5*s)/1e5,(0|1e5*l)/1e5,(0|1e5*f)/1e5,(0|1e5*i)/1e5,(0|1e5*o)/1e5,(0|1e5*u)/1e5,(0|1e5*g)/1e5,(0|1e5*r)/1e5,(0|1e5*a)/1e5,(0|1e5*c)/1e5,(0|1e5*m)/1e5,n,h,d,D?1+-d/D:1].join(",")+")"}else Ot.call(this,t)},Ot=N.set2DTransformRatio=function(t){var e,i,r,n,s,o,a,h,l,u,c,p=this.data,d=this.t,f=d.style,g=p.x,m=p.y;return!(p.rotationX||p.rotationY||p.z||!0===p.force3D||"auto"===p.force3D&&1!==t&&0!==t)||p.svg&&yt||!Tt?(n=p.scaleX,s=p.scaleY,void(p.rotation||p.skewX||p.svg?(e=p.rotation*L,i=e-p.skewX*L,r=1e5,o=Math.cos(e)*n,a=Math.sin(e)*n,h=Math.sin(i)*-s,l=Math.cos(i)*s,p.svg&&(g+=p.xOrigin-(p.xOrigin*o+p.yOrigin*h),m+=p.yOrigin-(p.xOrigin*a+p.yOrigin*l),c=1e-6,c>g&&g>-c&&(g=0),c>m&&m>-c&&(m=0)),u=(0|o*r)/r+","+(0|a*r)/r+","+(0|h*r)/r+","+(0|l*r)/r+","+g+","+m+")",p.svg&&yt?d.setAttribute("transform","matrix("+u):f[bt]=(p.xPercent||p.yPercent?"translate("+p.xPercent+"%,"+p.yPercent+"%) matrix(":"matrix(")+u):f[bt]=(p.xPercent||p.yPercent?"translate("+p.xPercent+"%,"+p.yPercent+"%) matrix(":"matrix(")+n+",0,0,"+s+","+g+","+m+")")):(this.setRatio=Lt,void Lt.call(this,t))};mt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent",{parser:function(t,e,i,r,s,a,h){if(r._transform)return s;var l,u,c,p,d,f,g,m=r._transform=Rt(t,n,!0,h.parseTransform),v=t.style,y=xt.length,x=h,b={};if("string"==typeof x.transform&&bt)c=F.style,c[bt]=x.transform,c.display="block",c.position="absolute",I.body.appendChild(F),l=Rt(F,null,!1),I.body.removeChild(F);else if("object"==typeof x){if(l={scaleX:rt(null!=x.scaleX?x.scaleX:x.scale,m.scaleX),scaleY:rt(null!=x.scaleY?x.scaleY:x.scale,m.scaleY),scaleZ:rt(x.scaleZ,m.scaleZ),x:rt(x.x,m.x),y:rt(x.y,m.y),z:rt(x.z,m.z),xPercent:rt(x.xPercent,m.xPercent),yPercent:rt(x.yPercent,m.yPercent),perspective:rt(x.transformPerspective,m.perspective)},null!=(g=x.directionalRotation))if("object"==typeof g)for(c in g)x[c]=g[c];else x.rotation=g;"string"==typeof x.x&&-1!==x.x.indexOf("%")&&(l.x=0,l.xPercent=rt(x.x,m.xPercent)),"string"==typeof x.y&&-1!==x.y.indexOf("%")&&(l.y=0,l.yPercent=rt(x.y,m.yPercent)),l.rotation=nt("rotation"in x?x.rotation:"shortRotation"in x?x.shortRotation+"_short":"rotationZ"in x?x.rotationZ:m.rotation,m.rotation,"rotation",b),Tt&&(l.rotationX=nt("rotationX"in x?x.rotationX:"shortRotationX"in x?x.shortRotationX+"_short":m.rotationX||0,m.rotationX,"rotationX",b),l.rotationY=nt("rotationY"in x?x.rotationY:"shortRotationY"in x?x.shortRotationY+"_short":m.rotationY||0,m.rotationY,"rotationY",b)),l.skewX=null==x.skewX?m.skewX:nt(x.skewX,m.skewX),l.skewY=null==x.skewY?m.skewY:nt(x.skewY,m.skewY),(u=l.skewY-m.skewY)&&(l.skewX+=u,l.rotation+=u)}for(Tt&&null!=x.force3D&&(m.force3D=x.force3D,f=!0),m.skewType=x.skewType||m.skewType||o.defaultSkewType,(d=m.force3D||m.z||m.rotationX||m.rotationY||l.z||l.rotationX||l.rotationY||l.perspective)||null==x.scale||(l.scaleZ=1);--y>-1;)i=xt[y],p=l[i]-m[i],(p>1e-6||-1e-6>p||null!=x[i]||null!=D[i])&&(f=!0,s=new pt(m,i,m[i],p,s),i in b&&(s.e=b[i]),s.xs0=0,s.plugin=a,r._overwriteProps.push(s.n));return(p=x.transformOrigin)&&m.svg&&(Mt(t,p,l),s=new pt(m,"xOrigin",m.xOrigin,l.xOrigin-m.xOrigin,s,-1,"transformOrigin"),s.b=m.xOrigin,s.e=s.xs0=l.xOrigin,s=new pt(m,"yOrigin",m.yOrigin,l.yOrigin-m.yOrigin,s,-1,"transformOrigin"),s.b=m.yOrigin,s.e=s.xs0=l.yOrigin,p="0px 0px"),(p||Tt&&d&&m.zOrigin)&&(bt?(f=!0,i=wt,p=(p||X(t,i,n,!1,"50% 50%"))+"",s=new pt(v,i,0,0,s,-1,"transformOrigin"),s.b=v[i],s.plugin=a,Tt?(c=m.zOrigin,p=p.split(" "),m.zOrigin=(p.length>2&&(0===c||"0px"!==p[2])?parseFloat(p[2]):c)||0,s.xs0=s.e=p[0]+" "+(p[1]||"50%")+" 0px",s=new pt(m,"zOrigin",0,0,s,-1,s.n),s.b=c,s.xs0=s.e=m.zOrigin):s.xs0=s.e=p):et(p+"",m)),f&&(r._transformType=m.svg&&yt||!d&&3!==this._transformType?2:3),s},prefix:!0}),mt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),mt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,s,o){e=this.format(e);var a,h,l,u,c,p,d,f,g,m,v,y,x,b,_,w,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],S=t.style;for(g=parseFloat(t.offsetWidth),m=parseFloat(t.offsetHeight),a=e.split(" "),h=0;T.length>h;h++)this.p.indexOf("border")&&(T[h]=q(T[h])),c=u=X(t,T[h],n,!1,"0px"),-1!==c.indexOf(" ")&&(u=c.split(" "),c=u[0],u=u[1]),p=l=a[h],d=parseFloat(c),y=c.substr((d+"").length),x="="===p.charAt(1),x?(f=parseInt(p.charAt(0)+"1",10),p=p.substr(2),f*=parseFloat(p),v=p.substr((f+"").length-(0>f?1:0))||""):(f=parseFloat(p),v=p.substr((f+"").length)),""===v&&(v=r[i]||y),v!==y&&(b=V(t,"borderLeft",d,y),_=V(t,"borderTop",d,y),"%"===v?(c=b/g*100+"%",u=_/m*100+"%"):"em"===v?(w=V(t,"borderLeft",1,"em"),c=b/w+"em",u=_/w+"em"):(c=b+"px",u=_+"px"),x&&(p=parseFloat(c)+f+v,l=parseFloat(u)+f+v)),o=dt(S,T[h],c+" "+u,p+" "+l,!1,"0px",o);return o},prefix:!0,formatter:lt("0px 0px 0px 0px",!1,!0)}),mt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,r,s,o){var a,h,l,u,c,p,d="background-position",g=n||z(t,null),m=this.format((g?f?g.getPropertyValue(d+"-x")+" "+g.getPropertyValue(d+"-y"):g.getPropertyValue(d):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(-1!==m.indexOf("%")!=(-1!==v.indexOf("%"))&&(p=X(t,"backgroundImage").replace(E,""),p&&"none"!==p)){for(a=m.split(" "),h=v.split(" "),B.setAttribute("src",p),l=2;--l>-1;)m=a[l],u=-1!==m.indexOf("%"),u!==(-1!==h[l].indexOf("%"))&&(c=0===l?t.offsetWidth-B.width:t.offsetHeight-B.height,a[l]=u?parseFloat(m)/100*c+"px":parseFloat(m)/c*100+"%");m=a.join(" ")}return this.parseComplex(t.style,m,v,s,o)},formatter:et}),mt("backgroundSize",{defaultValue:"0 0",formatter:et}),mt("perspective",{defaultValue:"0px",prefix:!0}),mt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),mt("transformStyle",{prefix:!0}),mt("backfaceVisibility",{prefix:!0}),mt("userSelect",{prefix:!0}),mt("margin",{parser:ut("marginTop,marginRight,marginBottom,marginLeft")}),mt("padding",{parser:ut("paddingTop,paddingRight,paddingBottom,paddingLeft")}),mt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,r,s,o){var a,h,l;return 9>f?(h=t.currentStyle,l=8>f?" ":",",a="rect("+h.clipTop+l+h.clipRight+l+h.clipBottom+l+h.clipLeft+")",e=this.format(e).split(",").join(l)):(a=this.format(X(t,this.p,n,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,a,e,s,o)}}),mt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),mt("autoRound,strictUnits",{parser:function(t,e,i,r,n){return n}}),mt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,r,s,o){return this.parseComplex(t.style,this.format(X(t,"borderTopWidth",n,!1,"0px")+" "+X(t,"borderTopStyle",n,!1,"solid")+" "+X(t,"borderTopColor",n,!1,"#000")),this.format(e),s,o)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ht)||["#000"])[0]}}),mt("borderWidth",{parser:ut("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),mt("float,cssFloat,styleFloat",{parser:function(t,e,i,r,n){var s=t.style,o="cssFloat"in s?"cssFloat":"styleFloat";return new pt(s,o,0,0,n,-1,i,!1,0,s[o],e)}});var Dt=function(t){var e,i=this.t,r=i.filter||X(this.data,"filter")||"",n=0|this.s+this.c*t;100===n&&(-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(i.removeAttribute("filter"),e=!X(this.data,"filter")):(i.filter=r.replace(w,""),e=!0)),e||(this.xn1&&(i.filter=r=r||"alpha(opacity="+n+")"),-1===r.indexOf("pacity")?0===n&&this.xn1||(i.filter=r+" alpha(opacity="+n+")"):i.filter=r.replace(b,"opacity="+n))};mt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,r,s,o){var a=parseFloat(X(t,"opacity",n,!1,"1")),h=t.style,l="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),l&&1===a&&"hidden"===X(t,"visibility",n)&&0!==e&&(a=0),U?s=new pt(h,"opacity",a,e-a,s):((s=new pt(h,"opacity",100*a,100*(e-a),s)).xn1=l?1:0,h.zoom=1,s.type=2,s.b="alpha(opacity="+s.s+")",s.e="alpha(opacity="+(s.s+s.c)+")",s.data=t,s.plugin=o,s.setRatio=Dt),l&&(s=new pt(h,"visibility",0,0,s,-1,null,!1,0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit"),s.xs0="inherit",r._overwriteProps.push(s.n),r._overwriteProps.push(i)),s}});var It=function(t,e){e&&(t.removeProperty?("ms"===e.substr(0,2)&&(e="M"+e.substr(1)),t.removeProperty(e.replace(S,"-$1").toLowerCase())):t.removeAttribute(e))},Ft=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:It(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};mt("className",{parser:function(t,e,r,s,o,a,h){var l,u,c,p,d,f=t.getAttribute("class")||"",g=t.style.cssText;if((o=s._classNamePT=new pt(t,r,0,0,o,2)).setRatio=Ft,o.pr=-11,i=!0,o.b=f,u=Q(t,n),c=t._gsClassPT){for(p={},d=c.data;d;)p[d.p]=1,d=d._next;c.setRatio(1)}return t._gsClassPT=o,o.e="="!==e.charAt(1)?e:f.replace(RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),s._tween._duration&&(t.setAttribute("class",o.e),l=J(t,u,Q(t),h,p),t.setAttribute("class",f),o.data=l.firstMPT,t.style.cssText=g,o=o.xfirst=s.parse(t,l.difs,o,a)),o}});var Bt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,r,n,s=this.t.style,o=a.transform.parse;if("all"===this.e)s.cssText="",n=!0;else for(e=this.e.split(" ").join("").split(","),r=e.length;--r>-1;)i=e[r],a[i]&&(a[i].parse===o?n=!0:i="transformOrigin"===i?wt:a[i].p),It(s,i);n&&(It(s,bt),this.t._gsTransform&&delete this.t._gsTransform)}};for(mt("clearProps",{parser:function(t,e,r,n,s){return(s=new pt(t,r,0,0,s,2)).setRatio=Bt,s.e=e,s.pr=-10,s.data=n._tween,i=!0,s}}),h="bezier,throwProps,physicsProps,physics2D".split(","),ft=h.length;ft--;)vt(h[ft]);(h=o.prototype)._firstPT=null,h._onInitTween=function(t,e,a){if(!t.nodeType)return!1;this._target=t,this._tween=a,this._vars=e,l=e.autoRound,i=!1,r=e.suffixMap||o.suffixMap,n=z(t,""),s=this._overwriteProps;var h,p,f,g,m,v,y,x,b,w=t.style;if(u&&""===w.zIndex&&(h=X(t,"zIndex",n),("auto"===h||""===h)&&this._addLazySet(w,"zIndex",0)),"string"==typeof e&&(g=w.cssText,h=Q(t,n),w.cssText=g+";"+e,h=J(t,h,Q(t)).difs,!U&&_.test(e)&&(h.opacity=parseFloat(RegExp.$1)),e=h,w.cssText=g),this._firstPT=p=this.parse(t,e,null),this._transformType){for(b=3===this._transformType,bt?c&&(u=!0,""===w.zIndex&&(y=X(t,"zIndex",n),("auto"===y||""===y)&&this._addLazySet(w,"zIndex",0)),d&&this._addLazySet(w,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(b?"visible":"hidden"))):w.zoom=1,f=p;f&&f._next;)f=f._next;x=new pt(t,"transform",0,0,null,2),this._linkCSSP(x,null,f),x.setRatio=b&&Tt?Lt:bt?Ot:Pt,x.data=this._transform||Rt(t,n,!0),s.pop()}if(i){for(;p;){for(v=p._next,f=g;f&&f.pr>p.pr;)f=f._next;(p._prev=f?f._prev:m)?p._prev._next=p:g=p,(p._next=f)?f._prev=p:m=p,p=v}this._firstPT=g}return!0},h.parse=function(t,e,i,s){var o,h,u,c,p,d,f,g,m,v,y=t.style;for(o in e)d=e[o],h=a[o],h?i=h.parse(t,d,o,this,i,s,e):(p=X(t,o,n)+"",m="string"==typeof d,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||m&&T.test(d)?(m||(d=at(d),d=(d.length>3?"rgba(":"rgb(")+d.join(",")+")"),i=dt(y,o,p,d,!0,"transparent",i,0,s)):!m||-1===d.indexOf(" ")&&-1===d.indexOf(",")?(u=parseFloat(p),f=u||0===u?p.substr((u+"").length):"",(""===p||"auto"===p)&&("width"===o||"height"===o?(u=tt(t,o,n),f="px"):"left"===o||"top"===o?(u=Y(t,o,n),f="px"):(u="opacity"!==o?0:1,f="")),v=m&&"="===d.charAt(1),v?(c=parseInt(d.charAt(0)+"1",10),d=d.substr(2),c*=parseFloat(d),g=d.replace(x,"")):(c=parseFloat(d),g=m?d.substr((c+"").length)||"":""),""===g&&(g=o in r?r[o]:f),d=c||0===c?(v?c+u:c)+g:e[o],f!==g&&""!==g&&(c||0===c)&&u&&(u=V(t,o,u,f),"%"===g?(u/=V(t,o,100,"%")/100,!0!==e.strictUnits&&(p=u+"%")):"em"===g?u/=V(t,o,1,"em"):"px"!==g&&(c=V(t,o,c,g),g="px"),v&&(c||0===c)&&(d=c+u+g)),v&&(c+=u),!u&&0!==u||!c&&0!==c?void 0!==y[o]&&(d||"NaN"!=d+""&&null!=d)?(i=new pt(y,o,c||u||0,0,i,-1,o,!1,0,p,d),i.xs0="none"!==d||"display"!==o&&-1===o.indexOf("Style")?d:p):W("invalid "+o+" tween value: "+e[o]):(i=new pt(y,o,u,c-u,i,0,o,!1!==l&&("px"===g||"zIndex"===o),0,p,d),i.xs0=g)):i=dt(y,o,p,d,!0,null,i,0,s)),s&&i&&!i.plugin&&(i.plugin=s);return i},h.setRatio=function(t){var e,i,r,n=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;n;){if(e=n.c*t+n.s,n.r?e=Math.round(e):1e-6>e&&e>-1e-6&&(e=0),n.type)if(1===n.type)if(r=n.l,2===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2;else if(3===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3;else if(4===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4;else if(5===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4+n.xn4+n.xs5;else{for(i=n.xs0+e+n.xs1,r=1;n.l>r;r++)i+=n["xn"+r]+n["xs"+(r+1)];n.t[n.p]=i}else-1===n.type?n.t[n.p]=n.xs0:n.setRatio&&n.setRatio(t);else n.t[n.p]=e+n.xs0;n=n._next}else for(;n;)2!==n.type?n.t[n.p]=n.b:n.setRatio(t),n=n._next;else for(;n;)2!==n.type?n.t[n.p]=n.e:n.setRatio(t),n=n._next},h._enableTransforms=function(t){this._transform=this._transform||Rt(this._target,n,!0),this._transformType=this._transform.svg&&yt||!t&&3!==this._transformType?2:3};var Nt=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};h._addLazySet=function(t,e,i){var r=this._firstPT=new pt(t,e,0,0,this._firstPT,2);r.e=i,r.setRatio=Nt,r.data=this},h._linkCSSP=function(t,e,i,r){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,r=!0),i?i._next=t:r||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},h._kill=function(e){var i,r,n,s=e;if(e.autoAlpha||e.alpha){s={};for(r in e)s[r]=e[r];s.opacity=1,s.autoAlpha&&(s.visibility=1)}return e.className&&(i=this._classNamePT)&&(n=i.xfirst,n&&n._prev?this._linkCSSP(n._prev,i._next,n._prev._prev):n===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,n._prev),this._classNamePT=null),t.prototype._kill.call(this,s)};var jt=function(t,e,i){var r,n,s,o;if(t.slice)for(n=t.length;--n>-1;)jt(t[n],e,i);else for(r=t.childNodes,n=r.length;--n>-1;)s=r[n],o=s.type,s.style&&(e.push(Q(s)),i&&i.push(s)),1!==o&&9!==o&&11!==o||!s.childNodes.length||jt(s,e,i)};return o.cascadeTo=function(t,i,r){var n,s,o,a=e.to(t,i,r),h=[a],l=[],u=[],c=[],p=e._internals.reservedProps;for(t=a._targets||a.target,jt(t,l,c),a.render(i,!0),jt(t,u),a.render(0,!0),a._enabled(!0),n=c.length;--n>-1;)if(s=J(c[n],l[n],u[n]),s.firstMPT){s=s.difs;for(o in r)p[o]&&(s[o]=r[o]);h.push(e.to(c[n],i,s))}return h},t.activate([o]),o},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope).CSSPlugin};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=e())}();var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var t,e,i=/(\d|\.)+/g,r=["redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset"],n={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},s=function(t){return""===t||null==t||"none"===t?n.transparent:n[t]?n[t]:"number"==typeof t?[t>>16,255&t>>8,255&t]:"#"===t.charAt(0)?(4===t.length&&(t="#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)),[(t=parseInt(t.substr(1),16))>>16,255&t>>8,255&t]):t.match(i)||n.transparent},o=function(e,i,n){if(!t&&(t=_gsScope.ColorFilter||_gsScope.createjs.ColorFilter,!t))throw"EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded.";for(var o,a,h,l,u,c=e.filters||[],p=c.length;--p>-1;)if(c[p]instanceof t){a=c[p];break}if(a||(a=new t,c.push(a),e.filters=c),h=a.clone(),null!=i.tint)o=s(i.tint),l=null!=i.tintAmount?Number(i.tintAmount):1,h.redOffset=Number(o[0])*l,h.greenOffset=Number(o[1])*l,h.blueOffset=Number(o[2])*l,h.redMultiplier=h.greenMultiplier=h.blueMultiplier=1-l;else for(u in i)"exposure"!==u&&"brightness"!==u&&(h[u]=Number(i[u]));for(null!=i.exposure?(h.redOffset=h.greenOffset=h.blueOffset=255*(Number(i.exposure)-1),h.redMultiplier=h.greenMultiplier=h.blueMultiplier=1):null!=i.brightness&&(l=Number(i.brightness)-1,h.redOffset=h.greenOffset=h.blueOffset=l>0?255*l:0,h.redMultiplier=h.greenMultiplier=h.blueMultiplier=1-Math.abs(l)),p=8;--p>-1;)u=r[p],a[u]!==h[u]&&n._addTween(a,u,a[u],h[u],"easel_colorFilter");if(n._overwriteProps.push("easel_colorFilter"),!e.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+e},a=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],h=.212671,l=.072169,u=function(t,e){if(!(t instanceof Array&&e instanceof Array))return e;var i,r,n=[],s=0,o=0;for(i=0;4>i;i++){for(r=0;5>r;r++)o=4===r?t[s+4]:0,n[s+r]=t[s]*e[r]+t[s+1]*e[r+5]+t[s+2]*e[r+10]+t[s+3]*e[r+15]+o;s+=5}return n},c=function(t,i,r){if(!e&&(e=_gsScope.ColorMatrixFilter||_gsScope.createjs.ColorMatrixFilter,!e))throw"EaselPlugin error: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded.";for(var n,o,c,p=t.filters||[],d=p.length;--d>-1;)if(p[d]instanceof e){c=p[d];break}for(c||(c=new e(a.slice()),p.push(c),t.filters=p),o=c.matrix,n=a.slice(),null!=i.colorize&&(n=function(t,e,i){isNaN(i)&&(i=1);var r=s(e),n=r[0]/255,o=r[1]/255,a=r[2]/255,c=1-i;return u([c+i*n*h,i*n*.71516,i*n*l,0,0,i*o*h,c+i*o*.71516,i*o*l,0,0,i*a*h,i*a*.71516,c+i*a*l,0,0,0,0,0,1,0],t)}(n,i.colorize,Number(i.colorizeAmount))),null!=i.contrast&&(f=n,g=Number(i.contrast),n=isNaN(g)?f:u([g+=.01,0,0,0,128*(1-g),0,g,0,0,128*(1-g),0,0,g,0,128*(1-g),0,0,0,1,0],f)),null!=i.hue&&(n=function(t,e){if(isNaN(e))return t;e*=Math.PI/180;var i=Math.cos(e),r=Math.sin(e);return u([h+.787329*i+r*-h,.71516+-.71516*i+-.71516*r,l+i*-l+.927831*r,0,0,h+i*-h+.143*r,.71516+.28484*i+.14*r,l+i*-l+-.283*r,0,0,h+i*-h+-.787329*r,.71516+-.71516*i+.71516*r,l+.927831*i+r*l,0,0,0,0,0,1,0,0,0,0,0,1],t)}(n,Number(i.hue))),null!=i.saturation&&(n=function(t,e){if(isNaN(e))return t;var i=1-e,r=i*h,n=.71516*i,s=i*l;return u([r+e,n,s,0,0,r,n+e,s,0,0,r,n,s+e,0,0,0,0,0,1,0],t)}(n,Number(i.saturation))),d=n.length;--d>-1;)n[d]!==o[d]&&r._addTween(o,d,o[d],n[d],"easel_colorMatrixFilter");var f,g;if(r._overwriteProps.push("easel_colorMatrixFilter"),!t.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+t;r._matrix=o};_gsScope._gsDefine.plugin({propName:"easel",priority:-1,version:"0.1.6",API:2,init:function(t,e){this._target=t;var i,r,n,s;for(i in e)"colorFilter"===i||"tint"===i||"tintAmount"===i||"exposure"===i||"brightness"===i?n||(o(t,e.colorFilter||e,this),n=!0):"saturation"===i||"contrast"===i||"hue"===i||"colorize"===i||"colorizeAmount"===i?s||(c(t,e.colorMatrixFilter||e,this),s=!0):"frame"===i?(this._firstPT=r={_next:this._firstPT,t:t,p:"gotoAndStop",s:t.currentFrame,f:!0,n:"frame",pr:0,type:0,r:!0},r.c="number"==typeof e[i]?e[i]-r.s:"string"==typeof e[i]?parseFloat(e[i].split("=").join("")):0,r._next&&(r._next._prev=r)):null!=t[i]&&(this._firstPT=r={_next:this._firstPT,t:t,p:i,f:"function"==typeof t[i],n:i,pr:0,type:0},r.s=r.f?t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]():parseFloat(t[i]),r.c="number"==typeof e[i]?e[i]-r.s:"string"==typeof e[i]?parseFloat(e[i].split("=").join("")):0,r._next&&(r._next._prev=r));return!0},set:function(t){for(var e,i=this._firstPT;i;)e=i.c*t+i.s,i.r?e=Math.round(e):1e-6>e&&e>-1e-6&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next;this._target.cacheID&&this._target.updateCache()}})}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,r,n=_gsScope.GreenSockGlobals||_gsScope,s=n.com.greensock,o=2*Math.PI,a=Math.PI/2,h=s._class,l=function(e,i){var r=h("easing."+e,function(){},!0),n=r.prototype=new t;return n.constructor=r,n.getRatio=i,r},u=t.register||function(){},c=function(t,e,i,r){var n=h("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new r},!0);return u(n,t),n},p=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},d=function(e,i){var r=h("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),n=r.prototype=new t;return n.constructor=r,n.getRatio=i,n.config=function(t){return new r(t)},r},f=c("Back",d("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),d("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),d("BackInOut",function(t){return 1>(t*=2)?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),g=h("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),m=g.prototype=new t;return m.constructor=g,m.getRatio=function(t){var e=t+(.5-t)*this._p;return this._p1>t?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},g.ease=new g(.7,.7),m.config=g.config=function(t,e,i){return new g(t,e,i)},(m=(e=h("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0)).prototype=new t).constructor=e,m.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},m.config=e.config=function(t){return new e(t)},(m=(i=h("easing.RoughEase",function(e){for(var i,r,n,s,o,a,h=(e=e||{}).taper||"none",l=[],u=0,c=0|(e.points||20),d=c,f=!1!==e.randomize,g=!0===e.clamp,m=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--d>-1;)i=f?Math.random():1/c*d,r=m?m.getRatio(i):i,"none"===h?n=v:"out"===h?(s=1-i,n=s*s*v):"in"===h?n=i*i*v:.5>i?(s=2*i,n=.5*s*s*v):(s=2*(1-i),n=.5*s*s*v),f?r+=Math.random()*n-.5*n:d%2?r+=.5*n:r-=.5*n,g&&(r>1?r=1:0>r&&(r=0)),l[u++]={x:i,y:r};for(l.sort(function(t,e){return t.x-e.x}),a=new p(1,1,null),d=c;--d>-1;)o=l[d],a=new p(o.x,o.y,a);this._prev=new p(0,0,0!==a.t?a:a.next)},!0)).prototype=new t).constructor=i,m.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&e.t>=t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},m.config=function(t){return new i(t)},i.ease=new i,c("Bounce",l("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),l("BounceIn",function(t){return 1/2.75>(t=1-t)?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),l("BounceInOut",function(t){var e=.5>t;return t=1/2.75>(t=e?1-2*t:2*t-1)?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),c("Circ",l("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),l("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),l("CircInOut",function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),c("Elastic",(r=function(e,i,r){var n=h("easing."+e,function(t,e){this._p1=t||1,this._p2=e||r,this._p3=this._p2/o*(Math.asin(1/this._p1)||0)},!0),s=n.prototype=new t;return s.constructor=n,s.getRatio=i,s.config=function(t,e){return new n(t,e)},n})("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*o/this._p2)+1},.3),r("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*o/this._p2)},.3),r("ElasticInOut",function(t){return 1>(t*=2)?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*o/this._p2):.5*this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*o/this._p2)+1},.45)),c("Expo",l("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),l("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),l("ExpoInOut",function(t){return 1>(t*=2)?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),c("Sine",l("SineOut",function(t){return Math.sin(t*a)}),l("SineIn",function(t){return 1-Math.cos(t*a)}),l("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),h("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),u(n.SlowMo,"SlowMo","ease,"),u(i,"RoughEase","ease,"),u(e,"SteppedEase","ease,"),f},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Handlebars=t.Handlebars||e()}(this,function(){var t=function(){"use strict";function t(t){this.string=t}return t.prototype.toString=function(){return""+this.string},t}(),e=function(e){"use strict";var i={},r=t,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},s=/[&<>"'`]/g,o=/[&<>"'`]/;function a(t){return n[t]}i.extend=function(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t};var h=Object.prototype.toString;i.toString=h;(l=function(t){return"function"==typeof t})(/x/)&&(l=function(t){return"function"==typeof t&&"[object Function]"===h.call(t)});var l;i.isFunction=l;var u=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===h.call(t)};i.isArray=u;i.escapeExpression=function(t){return t instanceof r?t.toString():null==t?"":t?(t=""+t,o.test(t)?t.replace(s,a):t):t+""};i.isEmpty=function(t){return!t&&0!==t||!(!u(t)||0!==t.length)};return i.appendContextPath=function(t,e){return(t?t+".":"")+e},i}(),i=function(){"use strict";var t=["description","fileName","lineNumber","message","name","number","stack"];function e(e,i){var r;i&&i.firstLine&&(e+=" - "+(r=i.firstLine)+":"+i.firstColumn);for(var n=Error.prototype.constructor.call(this,e),s=0;s<t.length;s++)this[t[s]]=n[t[s]];r&&(this.lineNumber=r,this.column=i.firstColumn)}return e.prototype=new Error,e}(),r=function(t,r){"use strict";var n={},s=e,o=i;n.VERSION="2.0.0";n.COMPILER_REVISION=6;n.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};var a=s.isArray,h=s.isFunction,l=s.toString;function u(t,e){this.helpers=t||{},this.partials=e||{},(i=this).registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o("Missing helper: '"+arguments[arguments.length-1].name+"'")}),i.registerHelper("blockHelperMissing",function(t,e){var r=e.inverse,n=e.fn;if(!0===t)return n(this);if(!1===t||null==t)return r(this);if(a(t))return t.length>0?(e.ids&&(e.ids=[e.name]),i.helpers.each(t,e)):r(this);if(e.data&&e.ids){var o=d(e.data);o.contextPath=s.appendContextPath(e.data.contextPath,e.name),e={data:o}}return n(t,e)}),i.registerHelper("each",function(t,e){if(!e)throw new o("Must pass iterator to #each");var i,r,n=e.fn,l=e.inverse,u=0,c="";if(e.data&&e.ids&&(r=s.appendContextPath(e.data.contextPath,e.ids[0])+"."),h(t)&&(t=t.call(this)),e.data&&(i=d(e.data)),t&&"object"==typeof t)if(a(t))for(var p=t.length;u<p;u++)i&&(i.index=u,i.first=0===u,i.last=u===t.length-1,r&&(i.contextPath=r+u)),c+=n(t[u],{data:i});else for(var f in t)t.hasOwnProperty(f)&&(i&&(i.key=f,i.index=u,i.first=0===u,r&&(i.contextPath=r+f)),c+=n(t[f],{data:i}),u++);return 0===u&&(c=l(this)),c}),i.registerHelper("if",function(t,e){return h(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||s.isEmpty(t)?e.inverse(this):e.fn(this)}),i.registerHelper("unless",function(t,e){return i.helpers.if.call(this,t,{fn:e.inverse,inverse:e.fn,hash:e.hash})}),i.registerHelper("with",function(t,e){h(t)&&(t=t.call(this));var i=e.fn;if(s.isEmpty(t))return e.inverse(this);if(e.data&&e.ids){var r=d(e.data);r.contextPath=s.appendContextPath(e.data.contextPath,e.ids[0]),e={data:r}}return i(t,e)}),i.registerHelper("log",function(t,e){var r=e.data&&null!=e.data.level?parseInt(e.data.level,10):1;i.log(r,t)}),i.registerHelper("lookup",function(t,e){return t&&t[e]});var i}n.HandlebarsEnvironment=u,u.prototype={constructor:u,logger:c,log:p,registerHelper:function(t,e){if("[object Object]"===l.call(t)){if(e)throw new o("Arg not supported with multiple helpers");s.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){"[object Object]"===l.call(t)?s.extend(this.partials,t):this.partials[t]=e},unregisterPartial:function(t){delete this.partials[t]}};var c={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(c.level<=t){var i=c.methodMap[t];"undefined"!=typeof console&&console[i]&&console[i].call(console,e)}}};n.logger=c;var p=c.log;n.log=p;var d=function(t){var e=s.extend({},t);return e._parent=t,e};return n.createFrame=d,n}(),n=function(t,r,n){"use strict";var s={},o=e,a=i,h=n.COMPILER_REVISION,l=n.REVISION_CHANGES,u=n.createFrame;s.checkRevision=function(t){var e=t&&t[0]||1;if(e!==h){if(e<h){var i=l[h],r=l[e];throw new a("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new a("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}};s.template=function(t,e){if(!e)throw new a("No environment passed to template");if(!t||!t.main)throw new a("Unknown template object: "+typeof t);e.VM.checkRevision(t.compiler);var i={lookup:function(t,e){for(var i=t.length,r=0;r<i;r++)if(t[r]&&null!=t[r][e])return t[r][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:o.escapeExpression,invokePartial:function(i,r,n,s,h,l,u,c,p){h&&(s=o.extend({},s,h));var d=e.VM.invokePartial.call(this,i,n,s,l,u,c,p);if(null==d&&e.compile){var f={helpers:l,partials:u,data:c,depths:p};u[n]=e.compile(i,{data:void 0!==c,compat:t.compat},e),d=u[n](s,f)}if(null!=d){if(r){for(var g=d.split("\n"),m=0,v=g.length;m<v&&(g[m]||m+1!==v);m++)g[m]=r+g[m];d=g.join("\n")}return d}throw new a("The partial "+n+" could not be compiled when running in runtime-only mode")},fn:function(e){return t[e]},programs:[],program:function(t,e,i){var r=this.programs[t],n=this.fn(t);return e||i?r=c(this,t,n,e,i):r||(r=this.programs[t]=c(this,t,n)),r},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i=o.extend({},e,t)),i},noop:e.VM.noop,compilerInfo:t.compiler},r=function(e,n){var s=(n=n||{}).data;r._setup(n),!n.partial&&t.useData&&(o=e,a=s,a&&"root"in a||((a=a?u(a):{}).root=o),s=a);var o,a,h;return t.useDepths&&(h=n.depths?[e].concat(n.depths):[e]),t.main.call(i,e,i.helpers,i.partials,s,h)};return r.isTop=!0,r._setup=function(r){r.partial?(i.helpers=r.helpers,i.partials=r.partials):(i.helpers=i.merge(r.helpers,e.helpers),t.usePartial&&(i.partials=i.merge(r.partials,e.partials)))},r._child=function(e,r,n){if(t.useDepths&&!n)throw new a("must pass parent depths");return c(i,e,t[e],r,n)},r};function c(t,e,i,r,n){var s=function(e,s){return s=s||{},i.call(t,e,t.helpers,t.partials,s.data||r,n&&[e].concat(n))};return s.program=e,s.depth=n?n.length:0,s}s.program=c;s.invokePartial=function(t,e,i,r,n,s,o){var h={partial:!0,helpers:r,partials:n,data:s,depths:o};if(void 0===t)throw new a("The partial "+e+" could not be found");if(t instanceof Function)return t(i,h)};s.noop=function(){return""};return s}(0,0,r),s=function(s,o,a,h,l){"use strict";var u=r,c=t,p=i,d=e,f=n,g=function(){var t=new u.HandlebarsEnvironment;return d.extend(t,u),t.SafeString=c,t.Exception=p,t.Utils=d,t.escapeExpression=d.escapeExpression,t.VM=f,t.template=function(e){return f.template(e,t)},t},m=g();return m.create=g,m.default=m,m}(),o=function(t){"use strict";var e=i;function r(t){t=t||{},this.firstLine=t.first_line,this.firstColumn=t.first_column,this.lastColumn=t.last_column,this.lastLine=t.last_line}var n={ProgramNode:function(t,e,i){r.call(this,i),this.type="program",this.statements=t,this.strip=e},MustacheNode:function(t,e,i,s,o){if(r.call(this,o),this.type="mustache",this.strip=s,null!=i&&i.charAt){var a=i.charAt(3)||i.charAt(2);this.escaped="{"!==a&&"&"!==a}else this.escaped=!!i;t instanceof n.SexprNode?this.sexpr=t:this.sexpr=new n.SexprNode(t,e),this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(t,e,i){r.call(this,i),this.type="sexpr",this.hash=e;var n=this.id=t[0],s=this.params=t.slice(1);this.isHelper=!(!s.length&&!e),this.eligibleHelper=this.isHelper||n.isSimple},PartialNode:function(t,e,i,n,s){r.call(this,s),this.type="partial",this.partialName=t,this.context=e,this.hash=i,this.strip=n,this.strip.inlineStandalone=!0},BlockNode:function(t,e,i,n,s){r.call(this,s),this.type="block",this.mustache=t,this.program=e,this.inverse=i,this.strip=n,i&&!e&&(this.isInverse=!0)},RawBlockNode:function(t,i,s,o){if(r.call(this,o),t.sexpr.id.original!==s)throw new e(t.sexpr.id.original+" doesn't match "+s,this);i=new n.ContentNode(i,o),this.type="block",this.mustache=t,this.program=new n.ProgramNode([i],{},o)},ContentNode:function(t,e){r.call(this,e),this.type="content",this.original=this.string=t},HashNode:function(t,e){r.call(this,e),this.type="hash",this.pairs=t},IdNode:function(t,i){r.call(this,i),this.type="ID";for(var n="",s=[],o=0,a="",h=0,l=t.length;h<l;h++){var u=t[h].part;if(n+=(t[h].separator||"")+u,".."===u||"."===u||"this"===u){if(s.length>0)throw new e("Invalid path: "+n,this);".."===u?(o++,a+="../"):this.isScoped=!0}else s.push(u)}this.original=n,this.parts=s,this.string=s.join("."),this.depth=o,this.idName=a+this.string,this.isSimple=1===t.length&&!this.isScoped&&0===o,this.stringModeValue=this.string},PartialNameNode:function(t,e){r.call(this,e),this.type="PARTIAL_NAME",this.name=t.original},DataNode:function(t,e){r.call(this,e),this.type="DATA",this.id=t,this.stringModeValue=t.stringModeValue,this.idName="@"+t.stringModeValue},StringNode:function(t,e){r.call(this,e),this.type="STRING",this.original=this.string=this.stringModeValue=t},NumberNode:function(t,e){r.call(this,e),this.type="NUMBER",this.original=this.number=t,this.stringModeValue=Number(t)},BooleanNode:function(t,e){r.call(this,e),this.type="BOOLEAN",this.bool=t,this.stringModeValue="true"===t},CommentNode:function(t,e){r.call(this,e),this.type="comment",this.comment=t,this.strip={inlineStandalone:!0}}};return n}(),a=function(){"use strict";return function(){var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,CONTENT:12,COMMENT:13,openRawBlock:14,END_RAW_BLOCK:15,OPEN_RAW_BLOCK:16,sexpr:17,CLOSE_RAW_BLOCK:18,openBlock:19,block_option0:20,closeBlock:21,openInverse:22,block_option1:23,OPEN_BLOCK:24,CLOSE:25,OPEN_INVERSE:26,inverseAndProgram:27,INVERSE:28,OPEN_ENDBLOCK:29,path:30,OPEN:31,OPEN_UNESCAPED:32,CLOSE_UNESCAPED:33,OPEN_PARTIAL:34,partialName:35,param:36,partial_option0:37,partial_option1:38,sexpr_repetition0:39,sexpr_option0:40,dataName:41,STRING:42,NUMBER:43,BOOLEAN:44,OPEN_SEXPR:45,CLOSE_SEXPR:46,hash:47,hash_repetition_plus0:48,hashSegment:49,ID:50,EQUALS:51,DATA:52,pathSegments:53,SEP:54,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",12:"CONTENT",13:"COMMENT",15:"END_RAW_BLOCK",16:"OPEN_RAW_BLOCK",18:"CLOSE_RAW_BLOCK",24:"OPEN_BLOCK",25:"CLOSE",26:"OPEN_INVERSE",28:"INVERSE",29:"OPEN_ENDBLOCK",31:"OPEN",32:"OPEN_UNESCAPED",33:"CLOSE_UNESCAPED",34:"OPEN_PARTIAL",42:"STRING",43:"NUMBER",44:"BOOLEAN",45:"OPEN_SEXPR",46:"CLOSE_SEXPR",50:"ID",51:"EQUALS",52:"DATA",54:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[10,3],[14,3],[9,4],[9,4],[19,3],[22,3],[27,2],[21,3],[8,3],[8,3],[11,5],[11,4],[17,3],[17,1],[36,1],[36,1],[36,1],[36,1],[36,1],[36,3],[47,1],[49,3],[35,1],[35,1],[35,1],[41,2],[30,1],[53,3],[53,1],[6,0],[6,2],[20,0],[20,1],[23,0],[23,1],[37,0],[37,1],[38,0],[38,1],[39,0],[39,2],[40,0],[40,1],[48,1],[48,2]],performAction:function(t,e,i,r,n,s,o){var a=s.length-1;switch(n){case 1:return r.prepareProgram(s[a-1].statements,!0),s[a-1];case 2:this.$=new r.ProgramNode(r.prepareProgram(s[a]),{},this._$);break;case 3:case 4:case 5:case 6:this.$=s[a];break;case 7:this.$=new r.ContentNode(s[a],this._$);break;case 8:this.$=new r.CommentNode(s[a],this._$);break;case 9:this.$=new r.RawBlockNode(s[a-2],s[a-1],s[a],this._$);break;case 10:this.$=new r.MustacheNode(s[a-1],null,"","",this._$);break;case 11:this.$=r.prepareBlock(s[a-3],s[a-2],s[a-1],s[a],!1,this._$);break;case 12:this.$=r.prepareBlock(s[a-3],s[a-2],s[a-1],s[a],!0,this._$);break;case 13:case 14:this.$=new r.MustacheNode(s[a-1],null,s[a-2],r.stripFlags(s[a-2],s[a]),this._$);break;case 15:this.$={strip:r.stripFlags(s[a-1],s[a-1]),program:s[a]};break;case 16:this.$={path:s[a-1],strip:r.stripFlags(s[a-2],s[a])};break;case 17:case 18:this.$=new r.MustacheNode(s[a-1],null,s[a-2],r.stripFlags(s[a-2],s[a]),this._$);break;case 19:this.$=new r.PartialNode(s[a-3],s[a-2],s[a-1],r.stripFlags(s[a-4],s[a]),this._$);break;case 20:this.$=new r.PartialNode(s[a-2],void 0,s[a-1],r.stripFlags(s[a-3],s[a]),this._$);break;case 21:this.$=new r.SexprNode([s[a-2]].concat(s[a-1]),s[a],this._$);break;case 22:this.$=new r.SexprNode([s[a]],null,this._$);break;case 23:this.$=s[a];break;case 24:this.$=new r.StringNode(s[a],this._$);break;case 25:this.$=new r.NumberNode(s[a],this._$);break;case 26:this.$=new r.BooleanNode(s[a],this._$);break;case 27:this.$=s[a];break;case 28:s[a-1].isHelper=!0,this.$=s[a-1];break;case 29:this.$=new r.HashNode(s[a],this._$);break;case 30:this.$=[s[a-2],s[a]];break;case 31:this.$=new r.PartialNameNode(s[a],this._$);break;case 32:this.$=new r.PartialNameNode(new r.StringNode(s[a],this._$),this._$);break;case 33:this.$=new r.PartialNameNode(new r.NumberNode(s[a],this._$));break;case 34:this.$=new r.DataNode(s[a],this._$);break;case 35:this.$=new r.IdNode(s[a],this._$);break;case 36:s[a-2].push({part:s[a],separator:s[a-1]}),this.$=s[a-2];break;case 37:this.$=[{part:s[a]}];break;case 38:this.$=[];break;case 39:s[a-1].push(s[a]);break;case 48:this.$=[];break;case 49:s[a-1].push(s[a]);break;case 52:this.$=[s[a]];break;case 53:s[a-1].push(s[a])}},table:[{3:1,4:2,5:[2,38],6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],31:[2,38],32:[2,38],34:[2,38]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:[1,10],13:[1,11],14:16,16:[1,20],19:14,22:15,24:[1,18],26:[1,19],28:[2,2],29:[2,2],31:[1,12],32:[1,13],34:[1,17]},{1:[2,1]},{5:[2,39],12:[2,39],13:[2,39],16:[2,39],24:[2,39],26:[2,39],28:[2,39],29:[2,39],31:[2,39],32:[2,39],34:[2,39]},{5:[2,3],12:[2,3],13:[2,3],16:[2,3],24:[2,3],26:[2,3],28:[2,3],29:[2,3],31:[2,3],32:[2,3],34:[2,3]},{5:[2,4],12:[2,4],13:[2,4],16:[2,4],24:[2,4],26:[2,4],28:[2,4],29:[2,4],31:[2,4],32:[2,4],34:[2,4]},{5:[2,5],12:[2,5],13:[2,5],16:[2,5],24:[2,5],26:[2,5],28:[2,5],29:[2,5],31:[2,5],32:[2,5],34:[2,5]},{5:[2,6],12:[2,6],13:[2,6],16:[2,6],24:[2,6],26:[2,6],28:[2,6],29:[2,6],31:[2,6],32:[2,6],34:[2,6]},{5:[2,7],12:[2,7],13:[2,7],16:[2,7],24:[2,7],26:[2,7],28:[2,7],29:[2,7],31:[2,7],32:[2,7],34:[2,7]},{5:[2,8],12:[2,8],13:[2,8],16:[2,8],24:[2,8],26:[2,8],28:[2,8],29:[2,8],31:[2,8],32:[2,8],34:[2,8]},{17:21,30:22,41:23,50:[1,26],52:[1,25],53:24},{17:27,30:22,41:23,50:[1,26],52:[1,25],53:24},{4:28,6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],28:[2,38],29:[2,38],31:[2,38],32:[2,38],34:[2,38]},{4:29,6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],28:[2,38],29:[2,38],31:[2,38],32:[2,38],34:[2,38]},{12:[1,30]},{30:32,35:31,42:[1,33],43:[1,34],50:[1,26],53:24},{17:35,30:22,41:23,50:[1,26],52:[1,25],53:24},{17:36,30:22,41:23,50:[1,26],52:[1,25],53:24},{17:37,30:22,41:23,50:[1,26],52:[1,25],53:24},{25:[1,38]},{18:[2,48],25:[2,48],33:[2,48],39:39,42:[2,48],43:[2,48],44:[2,48],45:[2,48],46:[2,48],50:[2,48],52:[2,48]},{18:[2,22],25:[2,22],33:[2,22],46:[2,22]},{18:[2,35],25:[2,35],33:[2,35],42:[2,35],43:[2,35],44:[2,35],45:[2,35],46:[2,35],50:[2,35],52:[2,35],54:[1,40]},{30:41,50:[1,26],53:24},{18:[2,37],25:[2,37],33:[2,37],42:[2,37],43:[2,37],44:[2,37],45:[2,37],46:[2,37],50:[2,37],52:[2,37],54:[2,37]},{33:[1,42]},{20:43,27:44,28:[1,45],29:[2,40]},{23:46,27:47,28:[1,45],29:[2,42]},{15:[1,48]},{25:[2,46],30:51,36:49,38:50,41:55,42:[1,52],43:[1,53],44:[1,54],45:[1,56],47:57,48:58,49:60,50:[1,59],52:[1,25],53:24},{25:[2,31],42:[2,31],43:[2,31],44:[2,31],45:[2,31],50:[2,31],52:[2,31]},{25:[2,32],42:[2,32],43:[2,32],44:[2,32],45:[2,32],50:[2,32],52:[2,32]},{25:[2,33],42:[2,33],43:[2,33],44:[2,33],45:[2,33],50:[2,33],52:[2,33]},{25:[1,61]},{25:[1,62]},{18:[1,63]},{5:[2,17],12:[2,17],13:[2,17],16:[2,17],24:[2,17],26:[2,17],28:[2,17],29:[2,17],31:[2,17],32:[2,17],34:[2,17]},{18:[2,50],25:[2,50],30:51,33:[2,50],36:65,40:64,41:55,42:[1,52],43:[1,53],44:[1,54],45:[1,56],46:[2,50],47:66,48:58,49:60,50:[1,59],52:[1,25],53:24},{50:[1,67]},{18:[2,34],25:[2,34],33:[2,34],42:[2,34],43:[2,34],44:[2,34],45:[2,34],46:[2,34],50:[2,34],52:[2,34]},{5:[2,18],12:[2,18],13:[2,18],16:[2,18],24:[2,18],26:[2,18],28:[2,18],29:[2,18],31:[2,18],32:[2,18],34:[2,18]},{21:68,29:[1,69]},{29:[2,41]},{4:70,6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],29:[2,38],31:[2,38],32:[2,38],34:[2,38]},{21:71,29:[1,69]},{29:[2,43]},{5:[2,9],12:[2,9],13:[2,9],16:[2,9],24:[2,9],26:[2,9],28:[2,9],29:[2,9],31:[2,9],32:[2,9],34:[2,9]},{25:[2,44],37:72,47:73,48:58,49:60,50:[1,74]},{25:[1,75]},{18:[2,23],25:[2,23],33:[2,23],42:[2,23],43:[2,23],44:[2,23],45:[2,23],46:[2,23],50:[2,23],52:[2,23]},{18:[2,24],25:[2,24],33:[2,24],42:[2,24],43:[2,24],44:[2,24],45:[2,24],46:[2,24],50:[2,24],52:[2,24]},{18:[2,25],25:[2,25],33:[2,25],42:[2,25],43:[2,25],44:[2,25],45:[2,25],46:[2,25],50:[2,25],52:[2,25]},{18:[2,26],25:[2,26],33:[2,26],42:[2,26],43:[2,26],44:[2,26],45:[2,26],46:[2,26],50:[2,26],52:[2,26]},{18:[2,27],25:[2,27],33:[2,27],42:[2,27],43:[2,27],44:[2,27],45:[2,27],46:[2,27],50:[2,27],52:[2,27]},{17:76,30:22,41:23,50:[1,26],52:[1,25],53:24},{25:[2,47]},{18:[2,29],25:[2,29],33:[2,29],46:[2,29],49:77,50:[1,74]},{18:[2,37],25:[2,37],33:[2,37],42:[2,37],43:[2,37],44:[2,37],45:[2,37],46:[2,37],50:[2,37],51:[1,78],52:[2,37],54:[2,37]},{18:[2,52],25:[2,52],33:[2,52],46:[2,52],50:[2,52]},{12:[2,13],13:[2,13],16:[2,13],24:[2,13],26:[2,13],28:[2,13],29:[2,13],31:[2,13],32:[2,13],34:[2,13]},{12:[2,14],13:[2,14],16:[2,14],24:[2,14],26:[2,14],28:[2,14],29:[2,14],31:[2,14],32:[2,14],34:[2,14]},{12:[2,10]},{18:[2,21],25:[2,21],33:[2,21],46:[2,21]},{18:[2,49],25:[2,49],33:[2,49],42:[2,49],43:[2,49],44:[2,49],45:[2,49],46:[2,49],50:[2,49],52:[2,49]},{18:[2,51],25:[2,51],33:[2,51],46:[2,51]},{18:[2,36],25:[2,36],33:[2,36],42:[2,36],43:[2,36],44:[2,36],45:[2,36],46:[2,36],50:[2,36],52:[2,36],54:[2,36]},{5:[2,11],12:[2,11],13:[2,11],16:[2,11],24:[2,11],26:[2,11],28:[2,11],29:[2,11],31:[2,11],32:[2,11],34:[2,11]},{30:79,50:[1,26],53:24},{29:[2,15]},{5:[2,12],12:[2,12],13:[2,12],16:[2,12],24:[2,12],26:[2,12],28:[2,12],29:[2,12],31:[2,12],32:[2,12],34:[2,12]},{25:[1,80]},{25:[2,45]},{51:[1,78]},{5:[2,20],12:[2,20],13:[2,20],16:[2,20],24:[2,20],26:[2,20],28:[2,20],29:[2,20],31:[2,20],32:[2,20],34:[2,20]},{46:[1,81]},{18:[2,53],25:[2,53],33:[2,53],46:[2,53],50:[2,53]},{30:51,36:82,41:55,42:[1,52],43:[1,53],44:[1,54],45:[1,56],50:[1,26],52:[1,25],53:24},{25:[1,83]},{5:[2,19],12:[2,19],13:[2,19],16:[2,19],24:[2,19],26:[2,19],28:[2,19],29:[2,19],31:[2,19],32:[2,19],34:[2,19]},{18:[2,28],25:[2,28],33:[2,28],42:[2,28],43:[2,28],44:[2,28],45:[2,28],46:[2,28],50:[2,28],52:[2,28]},{18:[2,30],25:[2,30],33:[2,30],46:[2,30],50:[2,30]},{5:[2,16],12:[2,16],13:[2,16],16:[2,16],24:[2,16],26:[2,16],28:[2,16],29:[2,16],31:[2,16],32:[2,16],34:[2,16]}],defaultActions:{4:[2,1],44:[2,41],47:[2,43],57:[2,47],63:[2,10],70:[2,15],73:[2,45]},parseError:function(t,e){throw new Error(t)},parse:function(t){var e=this,i=[0],r=[null],n=[],s=this.table,o="",a=0,h=0,l=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;n.push(u);var c=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);function p(){var t;return"number"!=typeof(t=e.lexer.lex()||1)&&(t=e.symbols_[t]||t),t}for(var d,f,g,m,v,y,x,b,_,w={};;){if(g=i[i.length-1],this.defaultActions[g]?m=this.defaultActions[g]:(null!==d&&void 0!==d||(d=p()),m=s[g]&&s[g][d]),void 0===m||!m.length||!m[0]){var T="";if(!l){_=[];for(y in s[g])this.terminals_[y]&&y>2&&_.push("'"+this.terminals_[y]+"'");T=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(T,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:u,expected:_})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+d);switch(m[0]){case 1:i.push(d),r.push(this.lexer.yytext),n.push(this.lexer.yylloc),i.push(m[1]),d=null,f?(d=f,f=null):(h=this.lexer.yyleng,o=this.lexer.yytext,a=this.lexer.yylineno,u=this.lexer.yylloc,l>0&&l--);break;case 2:if(x=this.productions_[m[1]][1],w.$=r[r.length-x],w._$={first_line:n[n.length-(x||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(x||1)].first_column,last_column:n[n.length-1].last_column},c&&(w._$.range=[n[n.length-(x||1)].range[0],n[n.length-1].range[1]]),void 0!==(v=this.performAction.call(w,o,h,a,this.yy,m[1],r,n)))return v;x&&(i=i.slice(0,-1*x*2),r=r.slice(0,-1*x),n=n.slice(0,-1*x)),i.push(this.productions_[m[1]][0]),r.push(w.$),n.push(w._$),b=s[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}},e=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;return t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===r.length?this.yylloc.first_column:0)+r[r.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,i,r,n;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),o=0;o<s.length&&(!(i=this._input.match(this.rules[s[o]]))||e&&!(i[0].length>e[0].length)||(e=i,r=o,this.options.flex));o++);return e?((n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,s[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,i,r){function n(t,i){return e.yytext=e.yytext.substr(t,e.yyleng-i)}switch(i){case 0:if("\\\\"===e.yytext.slice(-2)?(n(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(n(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 12;break;case 1:return 12;case 2:return this.popState(),12;case 3:return e.yytext=e.yytext.substr(5,e.yyleng-9),this.popState(),15;case 4:return 12;case 5:return n(0,4),this.popState(),13;case 6:return 45;case 7:return 46;case 8:return 16;case 9:return this.popState(),this.begin("raw"),18;case 10:return 34;case 11:return 24;case 12:return 29;case 13:case 14:return this.popState(),28;case 15:case 16:return 26;case 17:return 32;case 18:return 31;case 19:this.popState(),this.begin("com");break;case 20:return n(3,5),this.popState(),13;case 21:return 31;case 22:return 51;case 23:case 24:return 50;case 25:return 54;case 26:break;case 27:return this.popState(),33;case 28:return this.popState(),25;case 29:return e.yytext=n(1,2).replace(/\\"/g,'"'),42;case 30:return e.yytext=n(1,2).replace(/\\'/g,"'"),42;case 31:return 52;case 32:case 33:return 44;case 34:return 43;case 35:return 50;case 36:return e.yytext=n(1,2),50;case 37:return"INVALID";case 38:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,38],inclusive:!0}},t}();t.lexer=e;function i(){this.yy={}}return i.prototype=t,t.Parser=i,new i}()}(),h=function(t){"use strict";var e={},r=i;e.stripFlags=function(t,e){return{left:"~"===t.charAt(2),right:"~"===e.charAt(e.length-3)}};e.prepareBlock=function(t,e,i,h,l,u){if(t.sexpr.id.original!==h.path.original)throw new r(t.sexpr.id.original+" doesn't match "+h.path.original,t);var c=i&&i.program,p={left:t.strip.left,right:h.strip.right,openStandalone:s(e.statements),closeStandalone:n((c||e).statements)};if(t.strip.right&&o(e.statements,null,!0),c){var d=i.strip;d.left&&a(e.statements,null,!0),d.right&&o(c.statements,null,!0),h.strip.left&&a(c.statements,null,!0),n(e.statements)&&s(c.statements)&&(a(e.statements),o(c.statements))}else h.strip.left&&a(e.statements,null,!0);return l?new this.BlockNode(t,c,e,p,u):new this.BlockNode(t,e,c,p,u)};e.prepareProgram=function(t,e){for(var i=0,r=t.length;i<r;i++){var h=t[i],l=h.strip;if(l){var u=n(t,i,e,h.type),c=s(t,i,e),p=l.openStandalone&&u,d=l.closeStandalone&&c,f=l.inlineStandalone&&u&&c;l.right&&o(t,i,!0),l.left&&a(t,i,!0),f&&(o(t,i),a(t,i)&&"partial"===h.type&&(h.indent=/([ \t]+$)/.exec(t[i-1].original)?RegExp.$1:"")),p&&(o((h.program||h.inverse).statements),a(t,i)),d&&(o(t,i),a((h.inverse||h.program).statements))}}return t};function n(t,e,i){void 0===e&&(e=t.length);var r=t[e-1],n=t[e-2];return r?"content"===r.type?(n||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original):void 0:i}function s(t,e,i){void 0===e&&(e=-1);var r=t[e+1],n=t[e+2];return r?"content"===r.type?(n||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original):void 0:i}function o(t,e,i){var r=t[null==e?0:e+1];if(r&&"content"===r.type&&(i||!r.rightStripped)){var n=r.string;r.string=r.string.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),r.rightStripped=r.string!==n}}function a(t,e,i){var r=t[null==e?t.length-1:e-1];if(r&&"content"===r.type&&(i||!r.leftStripped)){var n=r.string;return r.string=r.string.replace(i?/\s+$/:/[ \t]+$/,""),r.leftStripped=r.string!==n,r.leftStripped}}return e}();return function(t,e,i,r,n){"use strict";var a=s,h=o,l=i.parser,u=i.parse,c=r.Compiler,p=r.compile,d=r.precompile,f=n,g=a.create,m=function(){var t=g();return t.compile=function(e,i){return p(e,i,t)},t.precompile=function(e,i){return d(e,i,t)},t.AST=h,t.Compiler=c,t.JavaScriptCompiler=f,t.Parser=l,t.parse=u,t};return(a=m()).create=m,a.default=a,a}(0,0,function(t,i,r,n){"use strict";var s={},l=a,u=o,c=h,p=e.extend;s.parser=l;var d={};p(d,c,u);return s.parse=function(t){return t.constructor===u.ProgramNode?t:(l.yy=d,l.parse(t))},s}(),function(t,r){"use strict";var n={},s=i,o=e.isArray,a=[].slice;function h(){}n.Compiler=h,h.prototype={compiler:h,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var i=0;i<e;i++){var r=this.opcodes[i],n=t.opcodes[i];if(r.opcode!==n.opcode||!l(r.args,n.args))return!1}for(e=this.children.length,i=0;i<e;i++)if(!this.children[i].equals(t.children[i]))return!1;return!0},guid:0,compile:function(t,e){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds;var i=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},i)for(var r in i)this.options.knownHelpers[r]=i[r];return this.accept(t)},accept:function(t){return this[t.type](t)},program:function(t){for(var e=t.statements,i=0,r=e.length;i<r;i++)this.accept(e[i]);return this.isSimple=1===r,this.depths.list=this.depths.list.sort(function(t,e){return t-e}),this},compileProgram:function(t){var e,i=(new this.compiler).compile(t,this.options),r=this.guid++;this.usePartial=this.usePartial||i.usePartial,this.children[r]=i;for(var n=0,s=i.depths.list.length;n<s;n++)(e=i.depths.list[n])<2||this.addDepth(e-1);return r},block:function(t){var e=t.mustache,i=t.program,r=t.inverse;i&&(i=this.compileProgram(i)),r&&(r=this.compileProgram(r));var n=e.sexpr,s=this.classifySexpr(n);"helper"===s?this.helperSexpr(n,i,r):"simple"===s?(this.simpleSexpr(n),this.opcode("pushProgram",i),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("blockValue",n.id.original)):(this.ambiguousSexpr(n,i,r),this.opcode("pushProgram",i),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(t){var e,i,r=t.pairs;for(this.opcode("pushHash"),e=0,i=r.length;e<i;e++)this.pushParam(r[e][1]);for(;e--;)this.opcode("assignToHash",r[e][0]);this.opcode("popHash")},partial:function(t){var e=t.partialName;this.usePartial=!0,t.hash?this.accept(t.hash):this.opcode("push","undefined"),t.context?this.accept(t.context):(this.opcode("getContext",0),this.opcode("pushContext")),this.opcode("invokePartial",e.name,t.indent||""),this.opcode("append")},content:function(t){t.string&&this.opcode("appendContent",t.string)},mustache:function(t){this.sexpr(t.sexpr),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(t,e,i){var r=t.id,n=r.parts[0],s=null!=e||null!=i;this.opcode("getContext",r.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.ID(r),this.opcode("invokeAmbiguous",n,s)},simpleSexpr:function(t){var e=t.id;"DATA"===e.type?this.DATA(e):e.parts.length?this.ID(e):(this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,i){var r=this.setupFullMustacheParams(t,e,i),n=t.id,o=n.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",r.length,o);else{if(this.options.knownHelpersOnly)throw new s("You specified knownHelpersOnly, but used the unknown helper "+o,t);n.falsy=!0,this.ID(n),this.opcode("invokeHelper",r.length,n.original,n.isSimple)}},sexpr:function(t){var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ID:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);t.parts[0]?this.opcode("lookupOnContext",t.parts,t.falsy,t.isScoped):this.opcode("pushContext")},DATA:function(t){this.options.data=!0,this.opcode("lookupData",t.id.depth,t.id.parts)},STRING:function(t){this.opcode("pushString",t.string)},NUMBER:function(t){this.opcode("pushLiteral",t.number)},BOOLEAN:function(t){this.opcode("pushLiteral",t.bool)},comment:function(){},opcode:function(t){this.opcodes.push({opcode:t,args:a.call(arguments,1)})},addDepth:function(t){0!==t&&(this.depths[t]||(this.depths[t]=!0,this.depths.list.push(t)))},classifySexpr:function(t){var e=t.isHelper,i=t.eligibleHelper,r=this.options;if(i&&!e){var n=t.id.parts[0];r.knownHelpers[n]?e=!0:r.knownHelpersOnly&&(i=!1)}return e?"helper":i?"ambiguous":"simple"},pushParams:function(t){for(var e=0,i=t.length;e<i;e++)this.pushParam(t[e])},pushParam:function(t){this.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type),"sexpr"===t.type&&this.sexpr(t)):(this.trackIds&&this.opcode("pushId",t.type,t.idName||t.stringModeValue),this.accept(t))},setupFullMustacheParams:function(t,e,i){var r=t.params;return this.pushParams(r),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.hash?this.hash(t.hash):this.opcode("emptyHash"),r}};n.precompile=function(t,e,i){if(null==t||"string"!=typeof t&&t.constructor!==i.AST.ProgramNode)throw new s("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);"data"in(e=e||{})||(e.data=!0),e.compat&&(e.useDepths=!0);var r=i.parse(t),n=(new i.Compiler).compile(r,e);return(new i.JavaScriptCompiler).compile(n,e)};n.compile=function(t,e,i){if(null==t||"string"!=typeof t&&t.constructor!==i.AST.ProgramNode)throw new s("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in(e=e||{})||(e.data=!0),e.compat&&(e.useDepths=!0);var r;function n(){var r=i.parse(t),n=(new i.Compiler).compile(r,e),s=(new i.JavaScriptCompiler).compile(n,e,void 0,!0);return i.template(s)}var o=function(t,e){return r||(r=n()),r.call(this,t,e)};return o._setup=function(t){return r||(r=n()),r._setup(t)},o._child=function(t,e,i){return r||(r=n()),r._child(t,e,i)},o};function l(t,e){if(t===e)return!0;if(o(t)&&o(e)&&t.length===e.length){for(var i=0;i<t.length;i++)if(!l(t[i],e[i]))return!1;return!0}}return n}(),function(t,e){"use strict";var i=t.COMPILER_REVISION,r=t.REVISION_CHANGES,n=e;function s(t){this.value=t}function o(){}o.prototype={nameLookup:function(t,e){return o.isValidJavaScriptVariableName(e)?t+"."+e:t+"['"+e+"']"},depthedLookup:function(t){return this.aliases.lookup="this.lookup",'lookup(depths, "'+t+'")'},compilerInfo:function(){return[i,r[i]]},appendToBuffer:function(t){return this.environment.isSimple?"return "+t+";":{appendToBuffer:!0,content:t,toString:function(){return"buffer += "+t+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,e,i,r){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!r,this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.depths.list.length||this.options.compat;var s,o,a,h=t.opcodes;for(o=0,a=h.length;o<a;o++)this[(s=h[o]).opcode].apply(this,s.args);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new n("Compile completed with content left on stack");var l=this.createFunctionContext(r);if(this.isChild)return l;var u={compiler:this.compilerInfo(),main:l},c=this.context.programs;for(o=0,a=c.length;o<a;o++)c[o]&&(u[o]=c[o]);return this.environment.usePartial&&(u.usePartial=!0),this.options.data&&(u.useData=!0),this.useDepths&&(u.useDepths=!0),this.options.compat&&(u.compat=!0),r||(u.compiler=JSON.stringify(u.compiler),u=this.objectLiteral(u)),u},preamble:function(){this.lastContext=0,this.source=[]},createFunctionContext:function(t){var e="",i=this.stackVars.concat(this.registers.list);i.length>0&&(e+=", "+i.join(", "));for(var r in this.aliases)this.aliases.hasOwnProperty(r)&&(e+=", "+r+"="+this.aliases[r]);var n=["depth0","helpers","partials","data"];this.useDepths&&n.push("depths");var s=this.mergeSource(e);return t?(n.push(s),Function.apply(this,n)):"function("+n.join(",")+") {\n  "+s+"}"},mergeSource:function(t){for(var e,i,r="",n=!this.forceBuffer,s=0,o=this.source.length;s<o;s++){var a=this.source[s];a.appendToBuffer?e=e?e+"\n    + "+a.content:a.content:(e&&(r?r+="buffer += "+e+";\n  ":(i=!0,r=e+";\n  "),e=void 0),r+=a+"\n  ",this.environment.isSimple||(n=!1))}return n?!e&&r||(r+="return "+(e||'""')+";\n"):(t+=", buffer = "+(i?"":this.initializeBuffer()),r+=e?"return buffer + "+e+";\n":"return buffer;\n"),t&&(r="var "+t.substring(2)+(i?"":";\n  ")+r),r},blockValue:function(t){this.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=[this.contextName(0)];this.setupParams(t,0,e);var i=this.popStack();e.splice(1,0,i),this.push("blockHelperMissing.call("+e.join(", ")+")")},ambiguousBlockValue:function(){this.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=[this.contextName(0)];this.setupParams("",0,t,!0),this.flushInline();var e=this.topStack();t.splice(1,0,e),this.pushSource("if (!"+this.lastHelper+") { "+e+" = blockHelperMissing.call("+t.join(", ")+"); }")},appendContent:function(t){this.pendingContent&&(t=this.pendingContent+t),this.pendingContent=t},append:function(){this.flushInline();var t=this.popStack();this.pushSource("if ("+t+" != null) { "+this.appendToBuffer(t)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,i){var r=0,n=t.length;for(i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[r++]));r<n;r++)this.replaceStack(function(i){var n=this.nameLookup(i,t[r],"context");return e?" && "+n:" != null ? "+n+" : "+i})},lookupData:function(t,e){t?this.pushStackLiteral("this.data(data, "+t+")"):this.pushStackLiteral("data");for(var i=e.length,r=0;r<i;r++)this.replaceStack(function(t){return" && "+this.nameLookup(t,e[r],"data")})},resolvePossibleLambda:function(){this.aliases.lambda="this.lambda",this.push("lambda("+this.popStack()+", "+this.contextName(0)+")")},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"sexpr"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(){this.pushStackLiteral("{}"),this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push("{"+t.ids.join(",")+"}"),this.stringParams&&(this.push("{"+t.contexts.join(",")+"}"),this.push("{"+t.types.join(",")+"}")),this.push("{\n    "+t.values.join(",\n    ")+"\n  }")},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},push:function(t){return this.inlineStack.push(t),t},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},invokeHelper:function(t,e,i){this.aliases.helperMissing="helpers.helperMissing";var r=this.popStack(),n=this.setupHelper(t,e),s=(i?n.name+" || ":"")+r+" || helperMissing";this.push("(("+s+").call("+n.callParams+"))")},invokeKnownHelper:function(t,e){var i=this.setupHelper(t,e);this.push(i.name+".call("+i.callParams+")")},invokeAmbiguous:function(t,e){this.aliases.functionType='"function"',this.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var i=this.popStack();this.emptyHash();var r=this.setupHelper(0,t,e),n=this.lastHelper=this.nameLookup("helpers",t,"helper");this.push("((helper = (helper = "+n+" || "+i+") != null ? helper : helperMissing"+(r.paramsInit?"),("+r.paramsInit:"")+"),(typeof helper === functionType ? helper.call("+r.callParams+") : helper))")},invokePartial:function(t,e){var i=[this.nameLookup("partials",t,"partial"),"'"+e+"'","'"+t+"'",this.popStack(),this.popStack(),"helpers","partials"];this.options.data?i.push("data"):this.options.compat&&i.push("undefined"),this.options.compat&&i.push("depths"),this.push("this.invokePartial("+i.join(", ")+")")},assignToHash:function(t){var e,i,r,n=this.popStack();this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),e=this.popStack());var s=this.hash;e&&s.contexts.push("'"+t+"': "+e),i&&s.types.push("'"+t+"': "+i),r&&s.ids.push("'"+t+"': "+r),s.values.push("'"+t+"': ("+n+")")},pushId:function(t,e){"ID"===t||"DATA"===t?this.pushString(e):"sexpr"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:o,compileChildren:function(t,e){for(var i,r,n=t.children,s=0,o=n.length;s<o;s++){i=n[s],r=new this.compiler;var a=this.matchExistingProgram(i);null==a?(this.context.programs.push(""),a=this.context.programs.length,i.index=a,i.name="program"+a,this.context.programs[a]=r.compile(i,e,this.context,!this.precompile),this.context.environments[a]=i,this.useDepths=this.useDepths||r.useDepths):(i.index=a,i.name="program"+a)}},matchExistingProgram:function(t){for(var e=0,i=this.context.environments.length;e<i;e++){var r=this.context.environments[e];if(r&&r.equals(t))return e}},programExpression:function(t){var e=this.environment.children[t],i=(e.depths.list,this.useDepths),r=[e.index,"data"];return i&&r.push("depths"),"this.program("+r.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},pushStackLiteral:function(t){return this.push(new s(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),t&&this.source.push(t)},pushStack:function(t){this.flushInline();var e=this.incrStack();return this.pushSource(e+" = "+t+";"),this.compileStack.push(e),e},replaceStack:function(t){var e,i,r,o="";this.isInline();if(!this.isInline())throw new n("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof s)o=e=a.value,r=!0;else{var h=(i=!this.stackSlot)?this.incrStack():this.topStackName();o="("+this.push(h)+" = "+a+")",e=this.topStack()}var l=t.call(this,e);r||this.popStack(),i&&this.stackSlot--,this.push("("+o+l+")")},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;if(t.length){this.inlineStack=[];for(var e=0,i=t.length;e<i;e++){var r=t[e];r instanceof s?this.compileStack.push(r):this.pushStack(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),i=(e?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof s)return i.value;if(!e){if(!this.stackSlot)throw new n("Invalid stack pop");this.stackSlot--}return i},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof s?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(this.quotedString(i)+":"+t[i]);return"{"+e.join(",")+"}"},setupHelper:function(t,e,i){var r=[];return{params:r,paramsInit:this.setupParams(e,t,r,i),name:this.nameLookup("helpers",e,"helper"),callParams:[this.contextName(0)].concat(r).join(", ")}},setupOptions:function(t,e,i){var r,n,s,o={},a=[],h=[],l=[];o.name=this.quotedString(t),o.hash=this.popStack(),this.trackIds&&(o.hashIds=this.popStack()),this.stringParams&&(o.hashTypes=this.popStack(),o.hashContexts=this.popStack()),n=this.popStack(),((s=this.popStack())||n)&&(s||(s="this.noop"),n||(n="this.noop"),o.fn=s,o.inverse=n);for(var u=e;u--;)r=this.popStack(),i[u]=r,this.trackIds&&(l[u]=this.popStack()),this.stringParams&&(h[u]=this.popStack(),a[u]=this.popStack());return this.trackIds&&(o.ids="["+l.join(",")+"]"),this.stringParams&&(o.types="["+h.join(",")+"]",o.contexts="["+a.join(",")+"]"),this.options.data&&(o.data="data"),o},setupParams:function(t,e,i,r){var n=this.objectLiteral(this.setupOptions(t,e,i));return r?(this.useRegister("options"),i.push("options"),"options="+n):(i.push(n),"")}};for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),h=o.RESERVED_WORDS={},l=0,u=a.length;l<u;l++)h[a[l]]=!0;return o.isValidJavaScriptVariableName=function(t){return!o.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},o}(r,i))}),function(){var t=t||{};t.WEBGL_RENDERER=0,t.CANVAS_RENDERER=1,t.VERSION="v2.1.0",t.blendModes={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},t.scaleModes={DEFAULT:0,LINEAR:0,NEAREST:1},t._UID=0,"undefined"!=typeof Float32Array?(t.Float32Array=Float32Array,t.Uint16Array=Uint16Array):(t.Float32Array=Array,t.Uint16Array=Array),t.INTERACTION_FREQUENCY=30,t.AUTO_PREVENT_DEFAULT=!0,t.PI_2=2*Math.PI,t.RAD_TO_DEG=180/Math.PI,t.DEG_TO_RAD=Math.PI/180,t.RETINA_PREFIX="@2x",t.dontSayHello=!1,t.defaultRenderOptions={view:null,transparent:!1,antialias:!1,preserveDrawingBuffer:!1,resolution:1,clearBeforeRender:!0,autoResize:!1},t.sayHello=function(e){if(!t.dontSayHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var i=["%c %c %c Pixi.js "+t.VERSION+" - "+e+"  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ ","background: #ff66a5","background: #ff66a5","color: #ff66a5; background: #030307;","background: #ff66a5","background: #ffc3dc","background: #ff66a5","color: #ff2424; background: #fff","color: #ff2424; background: #fff","color: #ff2424; background: #fff"];console.log.apply(console,i)}else window.console&&console.log("Pixi.js "+t.VERSION+" - http://www.pixijs.com/");t.dontSayHello=!0}},t.Point=function(t,e){this.x=t||0,this.y=e||0},t.Point.prototype.clone=function(){return new t.Point(this.x,this.y)},t.Point.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t.Point.prototype.constructor=t.Point,t.Rectangle=function(t,e,i,r){this.x=t||0,this.y=e||0,this.width=i||0,this.height=r||0},t.Rectangle.prototype.clone=function(){return new t.Rectangle(this.x,this.y,this.width,this.height)},t.Rectangle.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=this.x;if(t>=i&&t<=i+this.width){var r=this.y;if(e>=r&&e<=r+this.height)return!0}return!1},t.Rectangle.prototype.constructor=t.Rectangle,t.EmptyRectangle=new t.Rectangle(0,0,0,0),t.Polygon=function(e){if(e instanceof Array||(e=Array.prototype.slice.call(arguments)),e[0]instanceof t.Point){for(var i=[],r=0,n=e.length;r<n;r++)i.push(e[r].x,e[r].y);e=i}this.closed=!0,this.points=e},t.Polygon.prototype.clone=function(){var e=this.points.slice();return new t.Polygon(e)},t.Polygon.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,n=0,s=r-1;n<r;s=n++){var o=this.points[2*n],a=this.points[2*n+1],h=this.points[2*s],l=this.points[2*s+1];a>e!=l>e&&t<(h-o)*(e-a)/(l-a)+o&&(i=!i)}return i},t.Polygon.prototype.constructor=t.Polygon,t.Circle=function(t,e,i){this.x=t||0,this.y=e||0,this.radius=i||0},t.Circle.prototype.clone=function(){return new t.Circle(this.x,this.y,this.radius)},t.Circle.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.x-t,r=this.y-e,n=this.radius*this.radius;return(i*=i)+(r*=r)<=n},t.Circle.prototype.getBounds=function(){return new t.Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t.Circle.prototype.constructor=t.Circle,t.Ellipse=function(t,e,i,r){this.x=t||0,this.y=e||0,this.width=i||0,this.height=r||0},t.Ellipse.prototype.clone=function(){return new t.Ellipse(this.x,this.y,this.width,this.height)},t.Ellipse.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},t.Ellipse.prototype.getBounds=function(){return new t.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},t.Ellipse.prototype.constructor=t.Ellipse,t.RoundedRectangle=function(t,e,i,r,n){this.x=t||0,this.y=e||0,this.width=i||0,this.height=r||0,this.radius=n||20},t.RoundedRectangle.prototype.clone=function(){return new t.RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)},t.RoundedRectangle.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=this.x;if(t>=i&&t<=i+this.width){var r=this.y;if(e>=r&&e<=r+this.height)return!0}return!1},t.RoundedRectangle.prototype.constructor=t.RoundedRectangle,t.Matrix=function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},t.Matrix.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.Matrix.prototype.toArray=function(e){this.array||(this.array=new t.Float32Array(9));var i=this.array;return e?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},t.Matrix.prototype.apply=function(e,i){return(i=i||new t.Point).x=this.a*e.x+this.c*e.y+this.tx,i.y=this.b*e.x+this.d*e.y+this.ty,i},t.Matrix.prototype.applyInverse=function(e,i){i=i||new t.Point;var r=1/(this.a*this.d+this.c*-this.b);return i.x=this.d*r*e.x+-this.c*r*e.y+(this.ty*this.c-this.tx*this.d)*r,i.y=this.a*r*e.y+-this.b*r*e.x+(-this.ty*this.a+this.tx*this.b)*r,i},t.Matrix.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.Matrix.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.Matrix.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,s=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=s*e-this.ty*i,this.ty=s*i+this.ty*e,this},t.Matrix.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},t.Matrix.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.identityMatrix=new t.Matrix,t.DisplayObject=function(){this.position=new t.Point,this.scale=new t.Point(1,1),this.pivot=new t.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.hitArea=null,this.buttonMode=!1,this.renderable=!1,this.parent=null,this.stage=null,this.worldAlpha=1,this._interactive=!1,this.defaultCursor="pointer",this.worldTransform=new t.Matrix,this._sr=0,this._cr=1,this.filterArea=null,this._bounds=new t.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cacheIsDirty=!1},t.DisplayObject.prototype.constructor=t.DisplayObject,Object.defineProperty(t.DisplayObject.prototype,"interactive",{get:function(){return this._interactive},set:function(t){this._interactive=t,this.stage&&(this.stage.dirty=!0)}}),Object.defineProperty(t.DisplayObject.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}}),Object.defineProperty(t.DisplayObject.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.isMask=!0)}}),Object.defineProperty(t.DisplayObject.prototype,"filters",{get:function(){return this._filters},set:function(t){if(t){for(var e=[],i=0;i<t.length;i++)for(var r=t[i].passes,n=0;n<r.length;n++)e.push(r[n]);this._filterBlock={target:this,filterPasses:e}}this._filters=t}}),Object.defineProperty(t.DisplayObject.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(t?this._generateCachedSprite():this._destroyCachedSprite(),this._cacheAsBitmap=t)}}),t.DisplayObject.prototype.updateTransform=function(){var e,i,r,n,s,o,a=this.parent.worldTransform,h=this.worldTransform;this.rotation%t.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),e=this._cr*this.scale.x,i=this._sr*this.scale.x,r=-this._sr*this.scale.y,n=this._cr*this.scale.y,s=this.position.x,o=this.position.y,(this.pivot.x||this.pivot.y)&&(s-=this.pivot.x*e+this.pivot.y*r,o-=this.pivot.x*i+this.pivot.y*n),h.a=e*a.a+i*a.c,h.b=e*a.b+i*a.d,h.c=r*a.a+n*a.c,h.d=r*a.b+n*a.d,h.tx=s*a.a+o*a.c+a.tx,h.ty=s*a.b+o*a.d+a.ty):(e=this.scale.x,n=this.scale.y,s=this.position.x-this.pivot.x*e,o=this.position.y-this.pivot.y*n,h.a=e*a.a,h.b=e*a.b,h.c=n*a.c,h.d=n*a.d,h.tx=s*a.a+o*a.c+a.tx,h.ty=s*a.b+o*a.d+a.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.DisplayObject.prototype.displayObjectUpdateTransform=t.DisplayObject.prototype.updateTransform,t.DisplayObject.prototype.getBounds=function(e){return e=e,t.EmptyRectangle},t.DisplayObject.prototype.getLocalBounds=function(){return this.getBounds(t.identityMatrix)},t.DisplayObject.prototype.setStageReference=function(t){this.stage=t,this._interactive&&(this.stage.dirty=!0)},t.DisplayObject.prototype.generateTexture=function(e,i,r){var n=this.getLocalBounds(),s=new t.RenderTexture(0|n.width,0|n.height,r,i,e);return t.DisplayObject._tempMatrix.tx=-n.x,t.DisplayObject._tempMatrix.ty=-n.y,s.render(this,t.DisplayObject._tempMatrix),s},t.DisplayObject.prototype.updateCache=function(){this._generateCachedSprite()},t.DisplayObject.prototype.toGlobal=function(t){return this.updateTransform(),this.worldTransform.apply(t)},t.DisplayObject.prototype.toLocal=function(t,e){return e&&(t=e.toGlobal(t)),this.updateTransform(),this.worldTransform.applyInverse(t)},t.DisplayObject.prototype._renderCachedSprite=function(e){this._cachedSprite.worldAlpha=this.worldAlpha,e.gl?t.Sprite.prototype._renderWebGL.call(this._cachedSprite,e):t.Sprite.prototype._renderCanvas.call(this._cachedSprite,e)},t.DisplayObject.prototype._generateCachedSprite=function(){this._cacheAsBitmap=!1;var e=this.getLocalBounds();if(this._cachedSprite)this._cachedSprite.texture.resize(0|e.width,0|e.height);else{var i=new t.RenderTexture(0|e.width,0|e.height);this._cachedSprite=new t.Sprite(i),this._cachedSprite.worldTransform=this.worldTransform}var r=this._filters;this._filters=null,this._cachedSprite.filters=r,t.DisplayObject._tempMatrix.tx=-e.x,t.DisplayObject._tempMatrix.ty=-e.y,this._cachedSprite.texture.render(this,t.DisplayObject._tempMatrix),this._cachedSprite.anchor.x=-e.x/e.width,this._cachedSprite.anchor.y=-e.y/e.height,this._filters=r,this._cacheAsBitmap=!0},t.DisplayObject.prototype._destroyCachedSprite=function(){this._cachedSprite&&(this._cachedSprite.texture.destroy(!0),this._cachedSprite=null)},t.DisplayObject.prototype._renderWebGL=function(t){t=t},t.DisplayObject.prototype._renderCanvas=function(t){t=t},t.DisplayObject._tempMatrix=new t.Matrix,Object.defineProperty(t.DisplayObject.prototype,"x",{get:function(){return this.position.x},set:function(t){this.position.x=t}}),Object.defineProperty(t.DisplayObject.prototype,"y",{get:function(){return this.position.y},set:function(t){this.position.y=t}}),t.DisplayObjectContainer=function(){t.DisplayObject.call(this),this.children=[]},t.DisplayObjectContainer.prototype=Object.create(t.DisplayObject.prototype),t.DisplayObjectContainer.prototype.constructor=t.DisplayObjectContainer,Object.defineProperty(t.DisplayObjectContainer.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}}),Object.defineProperty(t.DisplayObjectContainer.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}),t.DisplayObjectContainer.prototype.addChild=function(t){return this.addChildAt(t,this.children.length)},t.DisplayObjectContainer.prototype.addChildAt=function(t,e){if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),this.stage&&t.setStageReference(this.stage),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},t.DisplayObjectContainer.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),r=this.getChildIndex(e);if(i<0||r<0)throw new Error("swapChildren: Both the supplied DisplayObjects must be a child of the caller.");this.children[i]=e,this.children[r]=t}},t.DisplayObjectContainer.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},t.DisplayObjectContainer.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The supplied index is out of bounds");var i=this.getChildIndex(t);this.children.splice(i,1),this.children.splice(e,0,t)},t.DisplayObjectContainer.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject must be a child of the caller");return this.children[t]},t.DisplayObjectContainer.prototype.removeChild=function(t){var e=this.children.indexOf(t);if(-1!==e)return this.removeChildAt(e)},t.DisplayObjectContainer.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return this.stage&&e.removeStageReference(),e.parent=void 0,this.children.splice(t,1),e},t.DisplayObjectContainer.prototype.removeChildren=function(t,e){var i=t||0,r="number"==typeof e?e:this.children.length,n=r-i;if(n>0&&n<=r){for(var s=this.children.splice(i,n),o=0;o<s.length;o++){var a=s[o];this.stage&&a.removeStageReference(),a.parent=void 0}return s}if(0===n&&0===this.children.length)return[];throw new Error("removeChildren: Range Error, numeric values are outside the acceptable range")},t.DisplayObjectContainer.prototype.updateTransform=function(){if(this.visible&&(this.displayObjectUpdateTransform(),!this._cacheAsBitmap))for(var t=0,e=this.children.length;t<e;t++)this.children[t].updateTransform()},t.DisplayObjectContainer.prototype.displayObjectContainerUpdateTransform=t.DisplayObjectContainer.prototype.updateTransform,t.DisplayObjectContainer.prototype.getBounds=function(){if(0===this.children.length)return t.EmptyRectangle;for(var e,i,r,n=1/0,s=1/0,o=-1/0,a=-1/0,h=!1,l=0,u=this.children.length;l<u;l++){this.children[l].visible&&(h=!0,n=n<(e=this.children[l].getBounds()).x?n:e.x,s=s<e.y?s:e.y,i=e.width+e.x,r=e.height+e.y,o=o>i?o:i,a=a>r?a:r)}if(!h)return t.EmptyRectangle;var c=this._bounds;return c.x=n,c.y=s,c.width=o-n,c.height=a-s,c},t.DisplayObjectContainer.prototype.getLocalBounds=function(){var e=this.worldTransform;this.worldTransform=t.identityMatrix;for(var i=0,r=this.children.length;i<r;i++)this.children[i].updateTransform();var n=this.getBounds();return this.worldTransform=e,n},t.DisplayObjectContainer.prototype.setStageReference=function(t){this.stage=t,this._interactive&&(this.stage.dirty=!0);for(var e=0,i=this.children.length;e<i;e++){this.children[e].setStageReference(t)}},t.DisplayObjectContainer.prototype.removeStageReference=function(){for(var t=0,e=this.children.length;t<e;t++){this.children[t].removeStageReference()}this._interactive&&(this.stage.dirty=!0),this.stage=null},t.DisplayObjectContainer.prototype._renderWebGL=function(t){if(this.visible&&!(this.alpha<=0))if(this._cacheAsBitmap)this._renderCachedSprite(t);else{var e,i;if(this._mask||this._filters){for(this._filters&&(t.spriteBatch.flush(),t.filterManager.pushFilter(this._filterBlock)),this._mask&&(t.spriteBatch.stop(),t.maskManager.pushMask(this.mask,t),t.spriteBatch.start()),e=0,i=this.children.length;e<i;e++)this.children[e]._renderWebGL(t);t.spriteBatch.stop(),this._mask&&t.maskManager.popMask(this._mask,t),this._filters&&t.filterManager.popFilter(),t.spriteBatch.start()}else for(e=0,i=this.children.length;e<i;e++)this.children[e]._renderWebGL(t)}},t.DisplayObjectContainer.prototype._renderCanvas=function(t){if(!1!==this.visible&&0!==this.alpha)if(this._cacheAsBitmap)this._renderCachedSprite(t);else{this._mask&&t.maskManager.pushMask(this._mask,t);for(var e=0,i=this.children.length;e<i;e++){this.children[e]._renderCanvas(t)}this._mask&&t.maskManager.popMask(t)}},t.Sprite=function(e){t.DisplayObjectContainer.call(this),this.anchor=new t.Point,this.texture=e,this._width=0,this._height=0,this.tint=16777215,this.blendMode=t.blendModes.NORMAL,this.shader=null,e.baseTexture.hasLoaded?this.onTextureUpdate():this.texture.on("update",this.onTextureUpdate.bind(this)),this.renderable=!0},t.Sprite.prototype=Object.create(t.DisplayObjectContainer.prototype),t.Sprite.prototype.constructor=t.Sprite,Object.defineProperty(t.Sprite.prototype,"width",{get:function(){return this.scale.x*this.texture.frame.width},set:function(t){this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(t.Sprite.prototype,"height",{get:function(){return this.scale.y*this.texture.frame.height},set:function(t){this.scale.y=t/this.texture.frame.height,this._height=t}}),t.Sprite.prototype.setTexture=function(t){this.texture=t,this.cachedTint=16777215},t.Sprite.prototype.onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},t.Sprite.prototype.getBounds=function(t){var e=this.texture.frame.width,i=this.texture.frame.height,r=e*(1-this.anchor.x),n=e*-this.anchor.x,s=i*(1-this.anchor.y),o=i*-this.anchor.y,a=t||this.worldTransform,h=a.a,l=a.b,u=a.c,c=a.d,p=a.tx,d=a.ty,f=h*n+u*o+p,g=c*o+l*n+d,m=h*r+u*o+p,v=c*o+l*r+d,y=h*r+u*s+p,x=c*s+l*r+d,b=h*n+u*s+p,_=c*s+l*n+d,w=-1/0,T=-1/0,S=1/0,C=1/0;S=b<(S=y<(S=m<(S=f<S?f:S)?m:S)?y:S)?b:S,C=_<(C=x<(C=v<(C=g<C?g:C)?v:C)?x:C)?_:C,w=b>(w=y>(w=m>(w=f>w?f:w)?m:w)?y:w)?b:w,T=_>(T=x>(T=v>(T=g>T?g:T)?v:T)?x:T)?_:T;var E=this._bounds;return E.x=S,E.width=w-S,E.y=C,E.height=T-C,this._currentBounds=E,E},t.Sprite.prototype._renderWebGL=function(t){if(this.visible&&!(this.alpha<=0)){var e,i;if(this._mask||this._filters){var r=t.spriteBatch;for(this._filters&&(r.flush(),t.filterManager.pushFilter(this._filterBlock)),this._mask&&(r.stop(),t.maskManager.pushMask(this.mask,t),r.start()),r.render(this),e=0,i=this.children.length;e<i;e++)this.children[e]._renderWebGL(t);r.stop(),this._mask&&t.maskManager.popMask(this._mask,t),this._filters&&t.filterManager.popFilter(),r.start()}else for(t.spriteBatch.render(this),e=0,i=this.children.length;e<i;e++)this.children[e]._renderWebGL(t)}},t.Sprite.prototype._renderCanvas=function(e){if(!(!1===this.visible||0===this.alpha||this.texture.crop.width<=0||this.texture.crop.height<=0)){if(this.blendMode!==e.currentBlendMode&&(e.currentBlendMode=this.blendMode,e.context.globalCompositeOperation=t.blendModesCanvas[e.currentBlendMode]),this._mask&&e.maskManager.pushMask(this._mask,e),this.texture.valid){var i=this.texture.baseTexture.resolution/e.resolution;e.context.globalAlpha=this.worldAlpha,e.roundPixels?e.context.setTransform(this.worldTransform.a,this.worldTransform.b,this.worldTransform.c,this.worldTransform.d,this.worldTransform.tx*e.resolution|0,this.worldTransform.ty*e.resolution|0):e.context.setTransform(this.worldTransform.a,this.worldTransform.b,this.worldTransform.c,this.worldTransform.d,this.worldTransform.tx*e.resolution,this.worldTransform.ty*e.resolution),e.smoothProperty&&e.scaleMode!==this.texture.baseTexture.scaleMode&&(e.scaleMode=this.texture.baseTexture.scaleMode,e.context[e.smoothProperty]=e.scaleMode===t.scaleModes.LINEAR);var r=this.texture.trim?this.texture.trim.x-this.anchor.x*this.texture.trim.width:this.anchor.x*-this.texture.frame.width,n=this.texture.trim?this.texture.trim.y-this.anchor.y*this.texture.trim.height:this.anchor.y*-this.texture.frame.height;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=t.CanvasTinter.getTintedTexture(this,this.tint)),e.context.drawImage(this.tintedTexture,0,0,this.texture.crop.width,this.texture.crop.height,r/i,n/i,this.texture.crop.width/i,this.texture.crop.height/i)):e.context.drawImage(this.texture.baseTexture.source,this.texture.crop.x,this.texture.crop.y,this.texture.crop.width,this.texture.crop.height,r/i,n/i,this.texture.crop.width/i,this.texture.crop.height/i)}for(var s=0,o=this.children.length;s<o;s++)this.children[s]._renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},t.Sprite.fromFrame=function(e){var i=t.TextureCache[e];if(!i)throw new Error('The frameId "'+e+'" does not exist in the texture cache'+this);return new t.Sprite(i)},t.Sprite.fromImage=function(e,i,r){var n=t.Texture.fromImage(e,i,r);return new t.Sprite(n)},t.SpriteBatch=function(e){t.DisplayObjectContainer.call(this),this.textureThing=e,this.ready=!1},t.SpriteBatch.prototype=Object.create(t.DisplayObjectContainer.prototype),t.SpriteBatch.prototype.constructor=t.SpriteBatch,t.SpriteBatch.prototype.initWebGL=function(e){this.fastSpriteBatch=new t.WebGLFastSpriteBatch(e),this.ready=!0},t.SpriteBatch.prototype.updateTransform=function(){t.DisplayObject.prototype.updateTransform.call(this)},t.SpriteBatch.prototype._renderWebGL=function(t){!this.visible||this.alpha<=0||!this.children.length||(this.ready||this.initWebGL(t.gl),t.spriteBatch.stop(),t.shaderManager.setShader(t.shaderManager.fastShader),this.fastSpriteBatch.begin(this,t),this.fastSpriteBatch.render(this),t.spriteBatch.start())},t.SpriteBatch.prototype._renderCanvas=function(e){if(this.visible&&!(this.alpha<=0)&&this.children.length){var i=e.context;i.globalAlpha=this.worldAlpha,t.DisplayObject.prototype.updateTransform.call(this);for(var r=this.worldTransform,n=!0,s=0;s<this.children.length;s++){var o=this.children[s];if(o.visible){var a=o.texture,h=a.frame;if(i.globalAlpha=this.worldAlpha*o.alpha,o.rotation%(2*Math.PI)==0)n&&(i.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),n=!1),i.drawImage(a.baseTexture.source,h.x,h.y,h.width,h.height,o.anchor.x*(-h.width*o.scale.x)+o.position.x+.5|0,o.anchor.y*(-h.height*o.scale.y)+o.position.y+.5|0,h.width*o.scale.x,h.height*o.scale.y);else{n||(n=!0),t.DisplayObject.prototype.updateTransform.call(o);var l=o.worldTransform;e.roundPixels?i.setTransform(l.a,l.b,l.c,l.d,0|l.tx,0|l.ty):i.setTransform(l.a,l.b,l.c,l.d,l.tx,l.ty),i.drawImage(a.baseTexture.source,h.x,h.y,h.width,h.height,o.anchor.x*-h.width+.5|0,o.anchor.y*-h.height+.5|0,h.width,h.height)}}}}},t.MovieClip=function(e){t.Sprite.call(this,e[0]),this.textures=e,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this.currentFrame=0,this.playing=!1},t.MovieClip.prototype=Object.create(t.Sprite.prototype),t.MovieClip.prototype.constructor=t.MovieClip,Object.defineProperty(t.MovieClip.prototype,"totalFrames",{get:function(){return this.textures.length}}),t.MovieClip.prototype.stop=function(){this.playing=!1},t.MovieClip.prototype.play=function(){this.playing=!0},t.MovieClip.prototype.gotoAndStop=function(t){this.playing=!1,this.currentFrame=t;var e=this.currentFrame+.5|0;this.setTexture(this.textures[e%this.textures.length])},t.MovieClip.prototype.gotoAndPlay=function(t){this.currentFrame=t,this.playing=!0},t.MovieClip.prototype.updateTransform=function(){if(t.Sprite.prototype.updateTransform.call(this),this.playing){this.currentFrame+=this.animationSpeed;var e=this.currentFrame+.5|0;this.currentFrame=this.currentFrame%this.textures.length,this.loop||e<this.textures.length?this.setTexture(this.textures[e%this.textures.length]):e>=this.textures.length&&(this.gotoAndStop(this.textures.length-1),this.onComplete&&this.onComplete())}},t.MovieClip.fromFrames=function(e){for(var i=[],r=0;r<e.length;r++)i.push(new t.Texture.fromFrame(e[r]));return new t.MovieClip(i)},t.MovieClip.fromImages=function(e){for(var i=[],r=0;r<e.length;r++)i.push(new t.Texture.fromImage(e[r]));return new t.MovieClip(i)},t.FilterBlock=function(){this.visible=!0,this.renderable=!0},t.FilterBlock.prototype.constructor=t.FilterBlock,t.Text=function(e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=1,t.Sprite.call(this,t.Texture.fromCanvas(this.canvas)),this.setText(e),this.setStyle(i)},t.Text.prototype=Object.create(t.Sprite.prototype),t.Text.prototype.constructor=t.Text,Object.defineProperty(t.Text.prototype,"width",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.x*this.texture.frame.width},set:function(t){this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(t.Text.prototype,"height",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.y*this.texture.frame.height},set:function(t){this.scale.y=t/this.texture.frame.height,this._height=t}}),t.Text.prototype.setStyle=function(t){(t=t||{}).font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.dropShadow=t.dropShadow||!1,t.dropShadowAngle=t.dropShadowAngle||Math.PI/6,t.dropShadowDistance=t.dropShadowDistance||4,t.dropShadowColor=t.dropShadowColor||"black",this.style=t,this.dirty=!0},t.Text.prototype.setText=function(t){this.text=t.toString()||" ",this.dirty=!0},t.Text.prototype.updateText=function(){this.texture.baseTexture.resolution=this.resolution,this.context.font=this.style.font;var t=this.text;this.style.wordWrap&&(t=this.wordWrap(this.text));for(var e=t.split(/(?:\r\n|\r|\n)/),i=[],r=0,n=this.determineFontProperties(this.style.font),s=0;s<e.length;s++){var o=this.context.measureText(e[s]).width;i[s]=o,r=Math.max(r,o)}var a=r+this.style.strokeThickness;this.style.dropShadow&&(a+=this.style.dropShadowDistance),this.canvas.width=(a+this.context.lineWidth)*this.resolution;var h=n.fontSize+this.style.strokeThickness,l=h*e.length;this.style.dropShadow&&(l+=this.style.dropShadowDistance),this.canvas.height=l*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this.style.font,this.context.strokeStyle=this.style.stroke,this.context.lineWidth=this.style.strokeThickness,this.context.textBaseline="alphabetic";var u,c;if(this.style.dropShadow){this.context.fillStyle=this.style.dropShadowColor;var p=Math.sin(this.style.dropShadowAngle)*this.style.dropShadowDistance,d=Math.cos(this.style.dropShadowAngle)*this.style.dropShadowDistance;for(s=0;s<e.length;s++)u=this.style.strokeThickness/2,c=this.style.strokeThickness/2+s*h+n.ascent,"right"===this.style.align?u+=r-i[s]:"center"===this.style.align&&(u+=(r-i[s])/2),this.style.fill&&this.context.fillText(e[s],u+p,c+d)}for(this.context.fillStyle=this.style.fill,s=0;s<e.length;s++)u=this.style.strokeThickness/2,c=this.style.strokeThickness/2+s*h+n.ascent,"right"===this.style.align?u+=r-i[s]:"center"===this.style.align&&(u+=(r-i[s])/2),this.style.stroke&&this.style.strokeThickness&&this.context.strokeText(e[s],u,c),this.style.fill&&this.context.fillText(e[s],u,c);this.updateTexture()},t.Text.prototype.updateTexture=function(){this.texture.baseTexture.width=this.canvas.width,this.texture.baseTexture.height=this.canvas.height,this.texture.crop.width=this.texture.frame.width=this.canvas.width,this.texture.crop.height=this.texture.frame.height=this.canvas.height,this._width=this.canvas.width,this._height=this.canvas.height,this.texture.baseTexture.dirty()},t.Text.prototype._renderWebGL=function(e){this.dirty&&(this.resolution=e.resolution,this.updateText(),this.dirty=!1),t.Sprite.prototype._renderWebGL.call(this,e)},t.Text.prototype._renderCanvas=function(e){this.dirty&&(this.resolution=e.resolution,this.updateText(),this.dirty=!1),t.Sprite.prototype._renderCanvas.call(this,e)},t.Text.prototype.determineFontProperties=function(e){var i=t.Text.fontPropertiesCache[e];if(!i){i={};var r=t.Text.fontPropertiesCanvas,n=t.Text.fontPropertiesContext;n.font=e;var s=Math.ceil(n.measureText("|Mq").width),o=Math.ceil(n.measureText("M").width),a=2*o;o=1.4*o|0,r.width=s,r.height=a,n.fillStyle="#f00",n.fillRect(0,0,s,a),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText("|Mq",0,o);var h,l,u=n.getImageData(0,0,s,a).data,c=u.length,p=4*s,d=0,f=!1;for(h=0;h<o;h++){for(l=0;l<p;l+=4)if(255!==u[d+l]){f=!0;break}if(f)break;d+=p}for(i.ascent=o-h,d=c-p,f=!1,h=a;h>o;h--){for(l=0;l<p;l+=4)if(255!==u[d+l]){f=!0;break}if(f)break;d-=p}i.descent=h-o,i.fontSize=i.ascent+i.descent,t.Text.fontPropertiesCache[e]=i}return i},t.Text.prototype.wordWrap=function(t){for(var e="",i=t.split("\n"),r=0;r<i.length;r++){for(var n=this.style.wordWrapWidth,s=i[r].split(" "),o=0;o<s.length;o++){var a=this.context.measureText(s[o]).width,h=a+this.context.measureText(" ").width;0===o||h>n?(o>0&&(e+="\n"),e+=s[o],n=this.style.wordWrapWidth-a):(n-=h,e+=" "+s[o])}r<i.length-1&&(e+="\n")}return e},t.Text.prototype.getBounds=function(e){return this.dirty&&(this.updateText(),this.dirty=!1),t.Sprite.prototype.getBounds.call(this,e)},t.Text.prototype.destroy=function(t){this.context=null,this.canvas=null,this.texture.destroy(void 0===t||t)},t.Text.fontPropertiesCache={},t.Text.fontPropertiesCanvas=document.createElement("canvas"),t.Text.fontPropertiesContext=t.Text.fontPropertiesCanvas.getContext("2d"),t.BitmapText=function(e,i){t.DisplayObjectContainer.call(this),this.textWidth=0,this.textHeight=0,this._pool=[],this.setText(e),this.setStyle(i),this.updateText(),this.dirty=!1},t.BitmapText.prototype=Object.create(t.DisplayObjectContainer.prototype),t.BitmapText.prototype.constructor=t.BitmapText,t.BitmapText.prototype.setText=function(t){this.text=t||" ",this.dirty=!0},t.BitmapText.prototype.setStyle=function(e){(e=e||{}).align=e.align||"left",this.style=e;var i=e.font.split(" ");this.fontName=i[i.length-1],this.fontSize=i.length>=2?parseInt(i[i.length-2],10):t.BitmapText.fonts[this.fontName].size,this.dirty=!0,this.tint=e.tint},t.BitmapText.prototype.updateText=function(){for(var e=t.BitmapText.fonts[this.fontName],i=new t.Point,r=null,n=[],s=0,o=[],a=0,h=this.fontSize/e.size,l=0;l<this.text.length;l++){var u=this.text.charCodeAt(l);if(/(?:\r\n|\r|\n)/.test(this.text.charAt(l)))o.push(i.x),s=Math.max(s,i.x),a++,i.x=0,i.y+=e.lineHeight,r=null;else{var c=e.chars[u];c&&(r&&c.kerning[r]&&(i.x+=c.kerning[r]),n.push({texture:c.texture,line:a,charCode:u,position:new t.Point(i.x+c.xOffset,i.y+c.yOffset)}),i.x+=c.xAdvance,r=u)}}o.push(i.x),s=Math.max(s,i.x);var p=[];for(l=0;l<=a;l++){var d=0;"right"===this.style.align?d=s-o[l]:"center"===this.style.align&&(d=(s-o[l])/2),p.push(d)}var f=this.children.length,g=n.length,m=this.tint||16777215;for(l=0;l<g;l++){var v=l<f?this.children[l]:this._pool.pop();v?v.setTexture(n[l].texture):v=new t.Sprite(n[l].texture),v.position.x=(n[l].position.x+p[n[l].line])*h,v.position.y=n[l].position.y*h,v.scale.x=v.scale.y=h,v.tint=m,v.parent||this.addChild(v)}for(;this.children.length>g;){var y=this.getChildAt(this.children.length-1);this._pool.push(y),this.removeChild(y)}this.textWidth=s*h,this.textHeight=(i.y+e.lineHeight)*h},t.BitmapText.prototype.updateTransform=function(){this.dirty&&(this.updateText(),this.dirty=!1),t.DisplayObjectContainer.prototype.updateTransform.call(this)},t.BitmapText.fonts={},t.InteractionData=function(){this.global=new t.Point,this.target=null,this.originalEvent=null},t.InteractionData.prototype.getLocalPosition=function(e,i){var r=e.worldTransform,n=this.global,s=r.a,o=r.c,a=r.tx,h=r.b,l=r.d,u=r.ty,c=1/(s*l+o*-h);return(i=i||new t.Point).x=l*c*n.x+-o*c*n.y+(u*o-a*l)*c,i.y=s*c*n.y+-h*c*n.x+(-u*s+a*h)*c,i},t.InteractionData.prototype.constructor=t.InteractionData,t.InteractionManager=function(e){this.stage=e,this.mouse=new t.InteractionData,this.touches={},this.tempPoint=new t.Point,this.mouseoverEnabled=!0,this.pool=[],this.interactiveItems=[],this.interactionDOMElement=null,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this.mouseOut=!1,this.resolution=1},t.InteractionManager.prototype.constructor=t.InteractionManager,t.InteractionManager.prototype.collectInteractiveSprite=function(t,e){for(var i=t.children,r=i.length-1;r>=0;r--){var n=i[r];n._interactive?(e.interactiveChildren=!0,this.interactiveItems.push(n),n.children.length>0&&this.collectInteractiveSprite(n,n)):(n.__iParent=null,n.children.length>0&&this.collectInteractiveSprite(n,e))}},t.InteractionManager.prototype.setTarget=function(t){this.target=t,this.resolution=t.resolution,null===this.interactionDOMElement&&this.setTargetDomElement(t.view)},t.InteractionManager.prototype.setTargetDomElement=function(t){this.removeEvents(),window.navigator.msPointerEnabled&&(t.style["-ms-content-zooming"]="none",t.style["-ms-touch-action"]="none"),this.interactionDOMElement=t,t.addEventListener("mousemove",this.onMouseMove,!0),t.addEventListener("mousedown",this.onMouseDown,!0),t.addEventListener("mouseout",this.onMouseOut,!0),t.addEventListener("touchstart",this.onTouchStart,!0),t.addEventListener("touchend",this.onTouchEnd,!0),t.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0)},t.InteractionManager.prototype.removeEvents=function(){this.interactionDOMElement&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]="",this.interactionDOMElement.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0))},t.InteractionManager.prototype.update=function(){if(this.target){var e=Date.now(),i=e-this.last;if(!((i=i*t.INTERACTION_FREQUENCY/1e3)<1)){this.last=e;var r=0;this.dirty&&this.rebuildInteractiveGraph();var n=this.interactiveItems.length,s="inherit",o=!1;for(r=0;r<n;r++){var a=this.interactiveItems[r];a.__hit=this.hitTest(a,this.mouse),this.mouse.target=a,a.__hit&&!o?(a.buttonMode&&(s=a.defaultCursor),a.interactiveChildren||(o=!0),a.__isOver||(a.mouseover&&a.mouseover(this.mouse),a.__isOver=!0)):a.__isOver&&(a.mouseout&&a.mouseout(this.mouse),a.__isOver=!1)}this.currentCursorStyle!==s&&(this.currentCursorStyle=s,this.interactionDOMElement.style.cursor=s)}}},t.InteractionManager.prototype.rebuildInteractiveGraph=function(){this.dirty=!1;for(var t=this.interactiveItems.length,e=0;e<t;e++)this.interactiveItems[e].interactiveChildren=!1;this.interactiveItems=[],this.stage.interactive&&this.interactiveItems.push(this.stage),this.collectInteractiveSprite(this.stage,this.stage)},t.InteractionManager.prototype.onMouseMove=function(t){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=t;var e=this.interactionDOMElement.getBoundingClientRect();this.mouse.global.x=(t.clientX-e.left)*(this.target.width/e.width)/this.resolution,this.mouse.global.y=(t.clientY-e.top)*(this.target.height/e.height)/this.resolution;for(var i=this.interactiveItems.length,r=0;r<i;r++){var n=this.interactiveItems[r];n.mousemove&&n.mousemove(this.mouse)}},t.InteractionManager.prototype.onMouseDown=function(e){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=e,t.AUTO_PREVENT_DEFAULT&&this.mouse.originalEvent.preventDefault();for(var i=this.interactiveItems.length,r=this.mouse.originalEvent,n=2===r.button||3===r.which,s=n?"rightdown":"mousedown",o=n?"rightclick":"click",a=n?"__rightIsDown":"__mouseIsDown",h=n?"__isRightDown":"__isDown",l=0;l<i;l++){var u=this.interactiveItems[l];if((u[s]||u[o])&&(u[a]=!0,u.__hit=this.hitTest(u,this.mouse),u.__hit&&(u[s]&&u[s](this.mouse),u[h]=!0,!u.interactiveChildren)))break}},t.InteractionManager.prototype.onMouseOut=function(t){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=t;var e=this.interactiveItems.length;this.interactionDOMElement.style.cursor="inherit";for(var i=0;i<e;i++){var r=this.interactiveItems[i];r.__isOver&&(this.mouse.target=r,r.mouseout&&r.mouseout(this.mouse),r.__isOver=!1)}this.mouseOut=!0,this.mouse.global.x=-1e4,this.mouse.global.y=-1e4},t.InteractionManager.prototype.onMouseUp=function(t){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=t;for(var e=this.interactiveItems.length,i=!1,r=this.mouse.originalEvent,n=2===r.button||3===r.which,s=n?"rightup":"mouseup",o=n?"rightclick":"click",a=n?"rightupoutside":"mouseupoutside",h=n?"__isRightDown":"__isDown",l=0;l<e;l++){var u=this.interactiveItems[l];(u[o]||u[s]||u[a])&&(u.__hit=this.hitTest(u,this.mouse),u.__hit&&!i?(u[s]&&u[s](this.mouse),u[h]&&u[o]&&u[o](this.mouse),u.interactiveChildren||(i=!0)):u[h]&&u[a]&&u[a](this.mouse),u[h]=!1)}},t.InteractionManager.prototype.hitTest=function(e,i){var r=i.global;if(!e.worldVisible)return!1;var n,s=e.worldTransform,o=s.a,a=s.b,h=s.c,l=s.tx,u=s.d,c=s.ty,p=1/(o*u+h*-a),d=u*p*r.x+-h*p*r.y+(c*h-l*u)*p,f=o*p*r.y+-a*p*r.x+(-c*o+l*a)*p;if(i.target=e,e.hitArea&&e.hitArea.contains)return!!e.hitArea.contains(d,f)&&(i.target=e,!0);if(e instanceof t.Sprite){var g,m=e.texture.frame.width,v=e.texture.frame.height,y=-m*e.anchor.x;if(d>y&&d<y+m&&f>(g=-v*e.anchor.y)&&f<g+v)return i.target=e,!0}else if(e instanceof t.Graphics){var x=e.graphicsData;for(n=0;n<x.length;n++){var b=x[n];if(b.fill&&(b.shape&&b.shape.contains(d,f)))return i.target=e,!0}}var _=e.children.length;for(n=0;n<_;n++){var w=e.children[n];if(this.hitTest(w,i))return i.target=e,!0}return!1},t.InteractionManager.prototype.onTouchMove=function(t){this.dirty&&this.rebuildInteractiveGraph();var e,i=this.interactionDOMElement.getBoundingClientRect(),r=t.changedTouches,n=0;for(n=0;n<r.length;n++){var s=r[n];(e=this.touches[s.identifier]).originalEvent=t,e.global.x=(s.clientX-i.left)*(this.target.width/i.width)/this.resolution,e.global.y=(s.clientY-i.top)*(this.target.height/i.height)/this.resolution,!navigator.isCocoonJS||i.left||i.top||t.target.style.width||t.target.style.height||(e.global.x=s.clientX,e.global.y=s.clientY);for(var o=0;o<this.interactiveItems.length;o++){var a=this.interactiveItems[o];a.touchmove&&a.__touchData&&a.__touchData[s.identifier]&&a.touchmove(e)}}},t.InteractionManager.prototype.onTouchStart=function(e){this.dirty&&this.rebuildInteractiveGraph();var i=this.interactionDOMElement.getBoundingClientRect();t.AUTO_PREVENT_DEFAULT&&e.preventDefault();for(var r=e.changedTouches,n=0;n<r.length;n++){var s=r[n],o=this.pool.pop();o||(o=new t.InteractionData),o.originalEvent=e,this.touches[s.identifier]=o,o.global.x=(s.clientX-i.left)*(this.target.width/i.width)/this.resolution,o.global.y=(s.clientY-i.top)*(this.target.height/i.height)/this.resolution,!navigator.isCocoonJS||i.left||i.top||e.target.style.width||e.target.style.height||(o.global.x=s.clientX,o.global.y=s.clientY);for(var a=this.interactiveItems.length,h=0;h<a;h++){var l=this.interactiveItems[h];if((l.touchstart||l.tap)&&(l.__hit=this.hitTest(l,o),l.__hit&&(l.touchstart&&l.touchstart(o),l.__isDown=!0,l.__touchData=l.__touchData||{},l.__touchData[s.identifier]=o,!l.interactiveChildren)))break}}},t.InteractionManager.prototype.onTouchEnd=function(t){this.dirty&&this.rebuildInteractiveGraph();for(var e=this.interactionDOMElement.getBoundingClientRect(),i=t.changedTouches,r=0;r<i.length;r++){var n=i[r],s=this.touches[n.identifier],o=!1;s.global.x=(n.clientX-e.left)*(this.target.width/e.width)/this.resolution,s.global.y=(n.clientY-e.top)*(this.target.height/e.height)/this.resolution,!navigator.isCocoonJS||e.left||e.top||t.target.style.width||t.target.style.height||(s.global.x=n.clientX,s.global.y=n.clientY);for(var a=this.interactiveItems.length,h=0;h<a;h++){var l=this.interactiveItems[h];l.__touchData&&l.__touchData[n.identifier]&&(l.__hit=this.hitTest(l,l.__touchData[n.identifier]),s.originalEvent=t,(l.touchend||l.tap)&&(l.__hit&&!o?(l.touchend&&l.touchend(s),l.__isDown&&l.tap&&l.tap(s),l.interactiveChildren||(o=!0)):l.__isDown&&l.touchendoutside&&l.touchendoutside(s),l.__isDown=!1),l.__touchData[n.identifier]=null)}this.pool.push(s),this.touches[n.identifier]=null}},t.Stage=function(e){t.DisplayObjectContainer.call(this),this.worldTransform=new t.Matrix,this.interactive=!0,this.interactionManager=new t.InteractionManager(this),this.dirty=!0,this.stage=this,this.stage.hitArea=new t.Rectangle(0,0,1e5,1e5),this.setBackgroundColor(e)},t.Stage.prototype=Object.create(t.DisplayObjectContainer.prototype),t.Stage.prototype.constructor=t.Stage,t.Stage.prototype.setInteractionDelegate=function(t){this.interactionManager.setTargetDomElement(t)},t.Stage.prototype.updateTransform=function(){this.worldAlpha=1;for(var t=0,e=this.children.length;t<e;t++)this.children[t].updateTransform();this.dirty&&(this.dirty=!1,this.interactionManager.dirty=!0),this.interactive&&this.interactionManager.update()},t.Stage.prototype.setBackgroundColor=function(e){this.backgroundColor=e||0,this.backgroundColorSplit=t.hex2rgb(this.backgroundColor);var i=this.backgroundColor.toString(16);i="000000".substr(0,6-i.length)+i,this.backgroundColorString="#"+i},t.Stage.prototype.getMousePosition=function(){return this.interactionManager.mouse.global},function(t){for(var e=0,i=["ms","moz","webkit","o"],r=0;r<i.length&&!t.requestAnimationFrame;++r)t.requestAnimationFrame=t[i[r]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[r]+"CancelAnimationFrame"]||t[i[r]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(i){var r=(new Date).getTime(),n=Math.max(0,16-(r-e)),s=t.setTimeout(function(){i(r+n)},n);return e=r+n,s}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)}),t.requestAnimFrame=t.requestAnimationFrame}(this),t.hex2rgb=function(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]},t.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(t){var e=this,i=arguments.length-1,r=[];if(i>0)for(r.length=i;i--;)r[i]=arguments[i+1];if("function"!=typeof e)throw new TypeError;function n(){for(var i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return s=r.concat(s),e.apply(this instanceof n?this:t,s)}return n.prototype=function t(e){if(e&&(t.prototype=e),!(this instanceof t))return new t}(e.prototype),n}),t.AjaxRequest=function(){var t=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"];if(!window.ActiveXObject)return!!window.XMLHttpRequest&&new window.XMLHttpRequest;for(var e=0;e<t.length;e++)try{return new window.ActiveXObject(t[e])}catch(t){}},t.canUseNewCanvasBlendModes=function(){if("undefined"==typeof document)return!1;var t=document.createElement("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="#000",e.fillRect(0,0,1,1),e.globalCompositeOperation="multiply",e.fillStyle="#fff",e.fillRect(0,0,1,1),0===e.getImageData(0,0,1,1).data[0]},t.getNextPowerOfTwo=function(t){if(t>0&&0==(t&t-1))return t;for(var e=1;e<t;)e<<=1;return e},t.EventTarget={call:function(e){e&&(e=e.prototype||e,t.EventTarget.mixin(e))},mixin:function(e){e.listeners=function(t){return this._listeners=this._listeners||{},this._listeners[t]?this._listeners[t].slice():[]},e.emit=e.dispatchEvent=function(e,i){if(this._listeners=this._listeners||{},"object"==typeof e&&(i=e,e=e.type),i&&!0===i.__isEventObject||(i=new t.Event(this,e,i)),this._listeners&&this._listeners[e]){var r,n=this._listeners[e].slice(0),s=n.length,o=n[0];for(r=0;r<s;o=n[++r])if(o.call(this,i),i.stoppedImmediate)return this;if(i.stopped)return this}return this.parent&&this.parent.emit&&this.parent.emit.call(this.parent,e,i),this},e.on=e.addEventListener=function(t,e){return this._listeners=this._listeners||{},(this._listeners[t]=this._listeners[t]||[]).push(e),this},e.once=function(t,e){this._listeners=this._listeners||{};var i=this;function r(){e.apply(i.off(t,r),arguments)}return r._originalHandler=e,this.on(t,r)},e.off=e.removeEventListener=function(t,e){if(this._listeners=this._listeners||{},!this._listeners[t])return this;for(var i=this._listeners[t],r=e?i.length:0;r-- >0;)i[r]!==e&&i[r]._originalHandler!==e||i.splice(r,1);return 0===i.length&&delete this._listeners[t],this},e.removeAllListeners=function(t){return this._listeners=this._listeners||{},this._listeners[t]?(delete this._listeners[t],this):this}}},t.Event=function(t,e,i){this.__isEventObject=!0,this.stopped=!1,this.stoppedImmediate=!1,this.target=t,this.type=e,this.data=i,this.content=i,this.timeStamp=Date.now()},t.Event.prototype.stopPropagation=function(){this.stopped=!0},t.Event.prototype.stopImmediatePropagation=function(){this.stoppedImmediate=!0},t.autoDetectRenderer=function(e,i,r){e||(e=800),i||(i=600);return function(){try{var t=document.createElement("canvas");return!!window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(t){return!1}}()?new t.WebGLRenderer(e,i,r):new t.CanvasRenderer(e,i,r)},t.autoDetectRecommendedRenderer=function(e,i,r){e||(e=800),i||(i=600);var n=function(){try{var t=document.createElement("canvas");return!!window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(t){return!1}}(),s=/Android/i.test(navigator.userAgent);return n&&!s?new t.WebGLRenderer(e,i,r):new t.CanvasRenderer(e,i,r)},t.PolyK={},t.PolyK.Triangulate=function(e){var i=!0,r=e.length>>1;if(r<3)return[];for(var n=[],s=[],o=0;o<r;o++)s.push(o);o=0;for(var a=r;a>3;){var h=s[(o+0)%a],l=s[(o+1)%a],u=s[(o+2)%a],c=e[2*h],p=e[2*h+1],d=e[2*l],f=e[2*l+1],g=e[2*u],m=e[2*u+1],v=!1;if(t.PolyK._convex(c,p,d,f,g,m,i)){v=!0;for(var y=0;y<a;y++){var x=s[y];if(x!==h&&x!==l&&x!==u&&t.PolyK._PointInTriangle(e[2*x],e[2*x+1],c,p,d,f,g,m)){v=!1;break}}}if(v)n.push(h,l,u),s.splice((o+1)%a,1),a--,o=0;else if(o++>3*a){if(!i)return null;for(n=[],s=[],o=0;o<r;o++)s.push(o);o=0,a=r,i=!1}}return n.push(s[0],s[1],s[2]),n},t.PolyK._PointInTriangle=function(t,e,i,r,n,s,o,a){var h=o-i,l=a-r,u=n-i,c=s-r,p=t-i,d=e-r,f=h*h+l*l,g=h*u+l*c,m=h*p+l*d,v=u*u+c*c,y=u*p+c*d,x=1/(f*v-g*g),b=(v*m-g*y)*x,_=(f*y-g*m)*x;return b>=0&&_>=0&&b+_<1},t.PolyK._convex=function(t,e,i,r,n,s,o){return(e-r)*(n-i)+(i-t)*(s-r)>=0===o},t.initDefaultShaders=function(){},t.CompileVertexShader=function(e,i){return t._CompileShader(e,i,e.VERTEX_SHADER)},t.CompileFragmentShader=function(e,i){return t._CompileShader(e,i,e.FRAGMENT_SHADER)},t._CompileShader=function(t,e,i){var r=e.join("\n"),n=t.createShader(i);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(window.console.log(t.getShaderInfoLog(n)),null)},t.compileProgram=function(e,i,r){var n=t.CompileFragmentShader(e,r),s=t.CompileVertexShader(e,i),o=e.createProgram();return e.attachShader(o,s),e.attachShader(o,n),e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS)||window.console.log("Could not initialise shaders"),o},t.PixiShader=function(e){this._UID=t._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"],this.textureCount=0,this.firstRun=!0,this.dirty=!0,this.attributes=[],this.init()},t.PixiShader.prototype.constructor=t.PixiShader,t.PixiShader.prototype.init=function(){var e=this.gl,i=t.compileProgram(e,this.vertexSrc||t.PixiShader.defaultVertexSrc,this.fragmentSrc);e.useProgram(i),this.uSampler=e.getUniformLocation(i,"uSampler"),this.projectionVector=e.getUniformLocation(i,"projectionVector"),this.offsetVector=e.getUniformLocation(i,"offsetVector"),this.dimensions=e.getUniformLocation(i,"dimensions"),this.aVertexPosition=e.getAttribLocation(i,"aVertexPosition"),this.aTextureCoord=e.getAttribLocation(i,"aTextureCoord"),this.colorAttribute=e.getAttribLocation(i,"aColor"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aTextureCoord,this.colorAttribute];for(var r in this.uniforms)this.uniforms[r].uniformLocation=e.getUniformLocation(i,r);this.initUniforms(),this.program=i},t.PixiShader.prototype.initUniforms=function(){this.textureCount=1;var t,e=this.gl;for(var i in this.uniforms){var r=(t=this.uniforms[i]).type;"sampler2D"===r?(t._init=!1,null!==t.value&&this.initSampler2D(t)):"mat2"===r||"mat3"===r||"mat4"===r?(t.glMatrix=!0,t.glValueLength=1,"mat2"===r?t.glFunc=e.uniformMatrix2fv:"mat3"===r?t.glFunc=e.uniformMatrix3fv:"mat4"===r&&(t.glFunc=e.uniformMatrix4fv)):(t.glFunc=e["uniform"+r],t.glValueLength="2f"===r||"2i"===r?2:"3f"===r||"3i"===r?3:"4f"===r||"4i"===r?4:1)}},t.PixiShader.prototype.initSampler2D=function(t){if(t.value&&t.value.baseTexture&&t.value.baseTexture.hasLoaded){var e=this.gl;if(e.activeTexture(e["TEXTURE"+this.textureCount]),e.bindTexture(e.TEXTURE_2D,t.value.baseTexture._glTextures[e.id]),t.textureData){var i=t.textureData,r=i.magFilter?i.magFilter:e.LINEAR,n=i.minFilter?i.minFilter:e.LINEAR,s=i.wrapS?i.wrapS:e.CLAMP_TO_EDGE,o=i.wrapT?i.wrapT:e.CLAMP_TO_EDGE,a=i.luminance?e.LUMINANCE:e.RGBA;if(i.repeat&&(s=e.REPEAT,o=e.REPEAT),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!!i.flipY),i.width){var h=i.width?i.width:512,l=i.height?i.height:2,u=i.border?i.border:0;e.texImage2D(e.TEXTURE_2D,0,a,h,l,u,a,e.UNSIGNED_BYTE,null)}else e.texImage2D(e.TEXTURE_2D,0,a,e.RGBA,e.UNSIGNED_BYTE,t.value.baseTexture.source);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,s),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,o)}e.uniform1i(t.uniformLocation,this.textureCount),t._init=!0,this.textureCount++}},t.PixiShader.prototype.syncUniforms=function(){this.textureCount=1;var e,i=this.gl;for(var r in this.uniforms)1===(e=this.uniforms[r]).glValueLength?!0===e.glMatrix?e.glFunc.call(i,e.uniformLocation,e.transpose,e.value):e.glFunc.call(i,e.uniformLocation,e.value):2===e.glValueLength?e.glFunc.call(i,e.uniformLocation,e.value.x,e.value.y):3===e.glValueLength?e.glFunc.call(i,e.uniformLocation,e.value.x,e.value.y,e.value.z):4===e.glValueLength?e.glFunc.call(i,e.uniformLocation,e.value.x,e.value.y,e.value.z,e.value.w):"sampler2D"===e.type&&(e._init?(i.activeTexture(i["TEXTURE"+this.textureCount]),e.value.baseTexture._dirty[i.id]?t.instances[i.id].updateTexture(e.value.baseTexture):i.bindTexture(i.TEXTURE_2D,e.value.baseTexture._glTextures[i.id]),i.uniform1i(e.uniformLocation,this.textureCount),this.textureCount++):this.initSampler2D(e))},t.PixiShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},t.PixiShader.defaultVertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying vec4 vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vec3 color = mod(vec3(aColor.y/65536.0, aColor.y/256.0, aColor.y), 256.0) / 256.0;","   vColor = vec4(color * aColor.x, aColor.x);","}"],t.PixiFastShader=function(e){this._UID=t._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","attribute vec2 aTextureCoord;","attribute float aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform mat3 uMatrix;","varying vec2 vTextureCoord;","varying float vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   vec2 v;","   vec2 sv = aVertexPosition * aScale;","   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);","   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);","   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;","   gl_Position = vec4( ( v / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"],this.textureCount=0,this.init()},t.PixiFastShader.prototype.constructor=t.PixiFastShader,t.PixiFastShader.prototype.init=function(){var e=this.gl,i=t.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(i),this.uSampler=e.getUniformLocation(i,"uSampler"),this.projectionVector=e.getUniformLocation(i,"projectionVector"),this.offsetVector=e.getUniformLocation(i,"offsetVector"),this.dimensions=e.getUniformLocation(i,"dimensions"),this.uMatrix=e.getUniformLocation(i,"uMatrix"),this.aVertexPosition=e.getAttribLocation(i,"aVertexPosition"),this.aPositionCoord=e.getAttribLocation(i,"aPositionCoord"),this.aScale=e.getAttribLocation(i,"aScale"),this.aRotation=e.getAttribLocation(i,"aRotation"),this.aTextureCoord=e.getAttribLocation(i,"aTextureCoord"),this.colorAttribute=e.getAttribLocation(i,"aColor"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aPositionCoord,this.aScale,this.aRotation,this.aTextureCoord,this.colorAttribute],this.program=i},t.PixiFastShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},t.StripShader=function(e){this._UID=t._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * alpha;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"],this.init()},t.StripShader.prototype.constructor=t.StripShader,t.StripShader.prototype.init=function(){var e=this.gl,i=t.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(i),this.uSampler=e.getUniformLocation(i,"uSampler"),this.projectionVector=e.getUniformLocation(i,"projectionVector"),this.offsetVector=e.getUniformLocation(i,"offsetVector"),this.colorAttribute=e.getAttribLocation(i,"aColor"),this.aVertexPosition=e.getAttribLocation(i,"aVertexPosition"),this.aTextureCoord=e.getAttribLocation(i,"aTextureCoord"),this.attributes=[this.aVertexPosition,this.aTextureCoord],this.translationMatrix=e.getUniformLocation(i,"translationMatrix"),this.alpha=e.getUniformLocation(i,"alpha"),this.program=i},t.StripShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},t.PrimitiveShader=function(e){this._UID=t._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"],this.init()},t.PrimitiveShader.prototype.constructor=t.PrimitiveShader,t.PrimitiveShader.prototype.init=function(){var e=this.gl,i=t.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(i),this.projectionVector=e.getUniformLocation(i,"projectionVector"),this.offsetVector=e.getUniformLocation(i,"offsetVector"),this.tintColor=e.getUniformLocation(i,"tint"),this.aVertexPosition=e.getAttribLocation(i,"aVertexPosition"),this.colorAttribute=e.getAttribLocation(i,"aColor"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=e.getUniformLocation(i,"translationMatrix"),this.alpha=e.getUniformLocation(i,"alpha"),this.program=i},t.PrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},t.ComplexPrimitiveShader=function(e){this._UID=t._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"],this.init()},t.ComplexPrimitiveShader.prototype.constructor=t.ComplexPrimitiveShader,t.ComplexPrimitiveShader.prototype.init=function(){var e=this.gl,i=t.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(i),this.projectionVector=e.getUniformLocation(i,"projectionVector"),this.offsetVector=e.getUniformLocation(i,"offsetVector"),this.tintColor=e.getUniformLocation(i,"tint"),this.color=e.getUniformLocation(i,"color"),this.aVertexPosition=e.getAttribLocation(i,"aVertexPosition"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=e.getUniformLocation(i,"translationMatrix"),this.alpha=e.getUniformLocation(i,"alpha"),this.program=i},t.ComplexPrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},t.WebGLGraphics=function(){},t.WebGLGraphics.renderGraphics=function(e,i){var r,n=i.gl,s=i.projection,o=i.offset,a=i.shaderManager.primitiveShader;e.dirty&&t.WebGLGraphics.updateGraphics(e,n);for(var h=e._webGL[n.id],l=0;l<h.data.length;l++)1===h.data[l].mode?(r=h.data[l],i.stencilManager.pushStencil(e,r,i),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(r.indices.length-4)),i.stencilManager.popStencil(e,r,i)):(r=h.data[l],i.shaderManager.setShader(a),a=i.shaderManager.primitiveShader,n.uniformMatrix3fv(a.translationMatrix,!1,e.worldTransform.toArray(!0)),n.uniform2f(a.projectionVector,s.x,-s.y),n.uniform2f(a.offsetVector,-o.x,-o.y),n.uniform3fv(a.tintColor,t.hex2rgb(e.tint)),n.uniform1f(a.alpha,e.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,r.buffer),n.vertexAttribPointer(a.aVertexPosition,2,n.FLOAT,!1,24,0),n.vertexAttribPointer(a.colorAttribute,4,n.FLOAT,!1,24,8),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,r.indexBuffer),n.drawElements(n.TRIANGLE_STRIP,r.indices.length,n.UNSIGNED_SHORT,0))},t.WebGLGraphics.updateGraphics=function(e,i){var r=e._webGL[i.id];r||(r=e._webGL[i.id]={lastIndex:0,data:[],gl:i}),e.dirty=!1;var n;if(e.clearDirty){for(e.clearDirty=!1,n=0;n<r.data.length;n++){var s=r.data[n];s.reset(),t.WebGLGraphics.graphicsDataPool.push(s)}r.data=[],r.lastIndex=0}var o;for(n=r.lastIndex;n<e.graphicsData.length;n++){var a=e.graphicsData[n];if(a.type===t.Graphics.POLY){if(a.points=a.shape.points.slice(),a.shape.closed&&a.points[0]!==a.points[a.points.length-2]&&a.points[1]!==a.points[a.points.length-1]&&a.points.push(a.points[0],a.points[1]),a.fill&&a.points.length>=6)if(a.points.length<12){o=t.WebGLGraphics.switchMode(r,0);t.WebGLGraphics.buildPoly(a,o)||(o=t.WebGLGraphics.switchMode(r,1),t.WebGLGraphics.buildComplexPoly(a,o))}else o=t.WebGLGraphics.switchMode(r,1),t.WebGLGraphics.buildComplexPoly(a,o);a.lineWidth>0&&(o=t.WebGLGraphics.switchMode(r,0),t.WebGLGraphics.buildLine(a,o))}else o=t.WebGLGraphics.switchMode(r,0),a.type===t.Graphics.RECT?t.WebGLGraphics.buildRectangle(a,o):a.type===t.Graphics.CIRC||a.type===t.Graphics.ELIP?t.WebGLGraphics.buildCircle(a,o):a.type===t.Graphics.RREC&&t.WebGLGraphics.buildRoundedRectangle(a,o);r.lastIndex++}for(n=0;n<r.data.length;n++)(o=r.data[n]).dirty&&o.upload()},t.WebGLGraphics.switchMode=function(e,i){var r;return e.data.length?(r=e.data[e.data.length-1]).mode===i&&1!==i||((r=t.WebGLGraphics.graphicsDataPool.pop()||new t.WebGLGraphicsData(e.gl)).mode=i,e.data.push(r)):((r=t.WebGLGraphics.graphicsDataPool.pop()||new t.WebGLGraphicsData(e.gl)).mode=i,e.data.push(r)),r.dirty=!0,r},t.WebGLGraphics.buildRectangle=function(e,i){var r=e.shape,n=r.x,s=r.y,o=r.width,a=r.height;if(e.fill){var h=t.hex2rgb(e.fillColor),l=e.fillAlpha,u=h[0]*l,c=h[1]*l,p=h[2]*l,d=i.points,f=i.indices,g=d.length/6;d.push(n,s),d.push(u,c,p,l),d.push(n+o,s),d.push(u,c,p,l),d.push(n,s+a),d.push(u,c,p,l),d.push(n+o,s+a),d.push(u,c,p,l),f.push(g,g,g+1,g+2,g+3,g+3)}if(e.lineWidth){var m=e.points;e.points=[n,s,n+o,s,n+o,s+a,n,s+a,n,s],t.WebGLGraphics.buildLine(e,i),e.points=m}},t.WebGLGraphics.buildRoundedRectangle=function(e,i){var r=e.shape,n=r.x,s=r.y,o=r.width,a=r.height,h=r.radius,l=[];if(l.push(n,s+h),l=(l=(l=(l=l.concat(t.WebGLGraphics.quadraticBezierCurve(n,s+a-h,n,s+a,n+h,s+a))).concat(t.WebGLGraphics.quadraticBezierCurve(n+o-h,s+a,n+o,s+a,n+o,s+a-h))).concat(t.WebGLGraphics.quadraticBezierCurve(n+o,s+h,n+o,s,n+o-h,s))).concat(t.WebGLGraphics.quadraticBezierCurve(n+h,s,n,s,n,s+h)),e.fill){var u=t.hex2rgb(e.fillColor),c=e.fillAlpha,p=u[0]*c,d=u[1]*c,f=u[2]*c,g=i.points,m=i.indices,v=g.length/6,y=t.PolyK.Triangulate(l),x=0;for(x=0;x<y.length;x+=3)m.push(y[x]+v),m.push(y[x]+v),m.push(y[x+1]+v),m.push(y[x+2]+v),m.push(y[x+2]+v);for(x=0;x<l.length;x++)g.push(l[x],l[++x],p,d,f,c)}if(e.lineWidth){var b=e.points;e.points=l,t.WebGLGraphics.buildLine(e,i),e.points=b}},t.WebGLGraphics.quadraticBezierCurve=function(t,e,i,r,n,s){var o,a,h,l,u,c,p=[];function d(t,e,i){return t+(e-t)*i}for(var f=0,g=0;g<=20;g++)o=d(t,i,f=g/20),a=d(e,r,f),h=d(i,n,f),l=d(r,s,f),u=d(o,h,f),c=d(a,l,f),p.push(u,c);return p},t.WebGLGraphics.buildCircle=function(e,i){var r,n,s=e.shape,o=s.x,a=s.y;e.type===t.Graphics.CIRC?(r=s.radius,n=s.radius):(r=s.width,n=s.height);var h=2*Math.PI/40,l=0;if(e.fill){var u=t.hex2rgb(e.fillColor),c=e.fillAlpha,p=u[0]*c,d=u[1]*c,f=u[2]*c,g=i.points,m=i.indices,v=g.length/6;for(m.push(v),l=0;l<41;l++)g.push(o,a,p,d,f,c),g.push(o+Math.sin(h*l)*r,a+Math.cos(h*l)*n,p,d,f,c),m.push(v++,v++);m.push(v-1)}if(e.lineWidth){var y=e.points;for(e.points=[],l=0;l<41;l++)e.points.push(o+Math.sin(h*l)*r,a+Math.cos(h*l)*n);t.WebGLGraphics.buildLine(e,i),e.points=y}},t.WebGLGraphics.buildLine=function(e,i){var r=0,n=e.points;if(0!==n.length){if(e.lineWidth%2)for(r=0;r<n.length;r++)n[r]+=.5;var s=new t.Point(n[0],n[1]),o=new t.Point(n[n.length-2],n[n.length-1]);if(s.x===o.x&&s.y===o.y){(n=n.slice()).pop(),n.pop();var a=(o=new t.Point(n[n.length-2],n[n.length-1])).x+.5*(s.x-o.x),h=o.y+.5*(s.y-o.y);n.unshift(a,h),n.push(a,h)}var l,u,c,p,d,f,g,m,v,y,x,b,_,w,T,S,C,E,A,k,M,R,P=i.points,L=i.indices,O=n.length/2,D=n.length,I=P.length/6,F=e.lineWidth/2,B=t.hex2rgb(e.lineColor),N=e.lineAlpha,j=B[0]*N,U=B[1]*N,G=B[2]*N;for(c=n[0],p=n[1],d=n[2],v=-(p-(f=n[3])),y=c-d,v/=R=Math.sqrt(v*v+y*y),y/=R,v*=F,y*=F,P.push(c-v,p-y,j,U,G,N),P.push(c+v,p+y,j,U,G,N),r=1;r<O-1;r++)c=n[2*(r-1)],p=n[2*(r-1)+1],d=n[2*r],f=n[2*r+1],g=n[2*(r+1)],m=n[2*(r+1)+1],v=-(p-f),y=c-d,v/=R=Math.sqrt(v*v+y*y),y/=R,v*=F,y*=F,x=-(f-m),b=d-g,x/=R=Math.sqrt(x*x+b*b),b/=R,C=(-v+c)*(-y+f)-(-v+d)*(-y+p),k=(-(x*=F)+g)*(-(b*=F)+f)-(-x+d)*(-b+m),M=(T=-y+p-(-y+f))*(A=-x+d-(-x+g))-(E=-b+m-(-b+f))*(S=-v+d-(-v+c)),Math.abs(M)<.1?(M+=10.1,P.push(d-v,f-y,j,U,G,N),P.push(d+v,f+y,j,U,G,N)):((l=(S*k-A*C)/M)-d)*(l-d)+((u=(E*C-T*k)/M)-f)+(u-f)>19600?(_=v-x,w=y-b,_/=R=Math.sqrt(_*_+w*w),w/=R,_*=F,w*=F,P.push(d-_,f-w),P.push(j,U,G,N),P.push(d+_,f+w),P.push(j,U,G,N),P.push(d-_,f-w),P.push(j,U,G,N),D++):(P.push(l,u),P.push(j,U,G,N),P.push(d-(l-d),f-(u-f)),P.push(j,U,G,N));for(c=n[2*(O-2)],p=n[2*(O-2)+1],d=n[2*(O-1)],v=-(p-(f=n[2*(O-1)+1])),y=c-d,v/=R=Math.sqrt(v*v+y*y),y/=R,v*=F,y*=F,P.push(d-v,f-y),P.push(j,U,G,N),P.push(d+v,f+y),P.push(j,U,G,N),L.push(I),r=0;r<D;r++)L.push(I++);L.push(I-1)}},t.WebGLGraphics.buildComplexPoly=function(e,i){var r=e.points.slice();if(!(r.length<6)){var n=i.indices;i.points=r,i.alpha=e.fillAlpha,i.color=t.hex2rgb(e.fillColor);for(var s,o,a=1/0,h=-1/0,l=1/0,u=-1/0,c=0;c<r.length;c+=2)s=r[c],o=r[c+1],a=s<a?s:a,h=s>h?s:h,l=o<l?o:l,u=o>u?o:u;r.push(a,l,h,l,h,u,a,u);var p=r.length/2;for(c=0;c<p;c++)n.push(c)}},t.WebGLGraphics.buildPoly=function(e,i){var r=e.points;if(!(r.length<6)){var n=i.points,s=i.indices,o=r.length/2,a=t.hex2rgb(e.fillColor),h=e.fillAlpha,l=a[0]*h,u=a[1]*h,c=a[2]*h,p=t.PolyK.Triangulate(r);if(!p)return!1;var d=n.length/6,f=0;for(f=0;f<p.length;f+=3)s.push(p[f]+d),s.push(p[f]+d),s.push(p[f+1]+d),s.push(p[f+2]+d),s.push(p[f+2]+d);for(f=0;f<o;f++)n.push(r[2*f],r[2*f+1],l,u,c,h);return!0}},t.WebGLGraphics.graphicsDataPool=[],t.WebGLGraphicsData=function(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.lastIndex=0,this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0},t.WebGLGraphicsData.prototype.reset=function(){this.points=[],this.indices=[],this.lastIndex=0},t.WebGLGraphicsData.prototype.upload=function(){var e=this.gl;this.glPoints=new t.Float32Array(this.points),e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.bufferData(e.ARRAY_BUFFER,this.glPoints,e.STATIC_DRAW),this.glIndicies=new t.Uint16Array(this.indices),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.glIndicies,e.STATIC_DRAW),this.dirty=!1},t.glContexts=[],t.instances=[],t.WebGLRenderer=function(e,i,r){if(r)for(var n in t.defaultRenderOptions)void 0===r[n]&&(r[n]=t.defaultRenderOptions[n]);else r=t.defaultRenderOptions;t.defaultRenderer||(t.sayHello("webGL"),t.defaultRenderer=this),this.type=t.WEBGL_RENDERER,this.resolution=r.resolution,this.transparent=r.transparent,this.autoResize=r.autoResize||!1,this.preserveDrawingBuffer=r.preserveDrawingBuffer,this.clearBeforeRender=r.clearBeforeRender,this.width=e||800,this.height=i||600,this.view=r.view||document.createElement("canvas"),this.contextLostBound=this.handleContextLost.bind(this),this.contextRestoredBound=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.contextLostBound,!1),this.view.addEventListener("webglcontextrestored",this.contextRestoredBound,!1),this._contextOptions={alpha:this.transparent,antialias:r.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer},this.projection=new t.Point,this.offset=new t.Point(0,0),this.shaderManager=new t.WebGLShaderManager,this.spriteBatch=new t.WebGLSpriteBatch,this.maskManager=new t.WebGLMaskManager,this.filterManager=new t.WebGLFilterManager,this.stencilManager=new t.WebGLStencilManager,this.blendModeManager=new t.WebGLBlendModeManager,this.renderSession={},this.renderSession.gl=this.gl,this.renderSession.drawCount=0,this.renderSession.shaderManager=this.shaderManager,this.renderSession.maskManager=this.maskManager,this.renderSession.filterManager=this.filterManager,this.renderSession.blendModeManager=this.blendModeManager,this.renderSession.spriteBatch=this.spriteBatch,this.renderSession.stencilManager=this.stencilManager,this.renderSession.renderer=this,this.renderSession.resolution=this.resolution,this.initContext(),this.mapBlendModes()},t.WebGLRenderer.prototype.constructor=t.WebGLRenderer,t.WebGLRenderer.prototype.initContext=function(){var e=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=e,!e)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=e.id=t.WebGLRenderer.glContextId++,t.glContexts[this.glContextId]=e,t.instances[this.glContextId]=this,e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),this.shaderManager.setContext(e),this.spriteBatch.setContext(e),this.maskManager.setContext(e),this.filterManager.setContext(e),this.blendModeManager.setContext(e),this.stencilManager.setContext(e),this.renderSession.gl=this.gl,this.resize(this.width,this.height)},t.WebGLRenderer.prototype.render=function(t){if(!this.contextLost){this.__stage!==t&&(t.interactive&&t.interactionManager.removeEvents(),this.__stage=t),t.updateTransform();var e=this.gl;t._interactive?t._interactiveEventsAdded||(t._interactiveEventsAdded=!0,t.interactionManager.setTarget(this)):t._interactiveEventsAdded&&(t._interactiveEventsAdded=!1,t.interactionManager.setTarget(this)),e.viewport(0,0,this.width,this.height),e.bindFramebuffer(e.FRAMEBUFFER,null),this.clearBeforeRender&&(this.transparent?e.clearColor(0,0,0,0):e.clearColor(t.backgroundColorSplit[0],t.backgroundColorSplit[1],t.backgroundColorSplit[2],1),e.clear(e.COLOR_BUFFER_BIT)),this.renderDisplayObject(t,this.projection)}},t.WebGLRenderer.prototype.renderDisplayObject=function(e,i,r){this.renderSession.blendModeManager.setBlendMode(t.blendModes.NORMAL),this.renderSession.drawCount=0,this.renderSession.projection=i,this.renderSession.offset=this.offset,this.spriteBatch.begin(this.renderSession),this.filterManager.begin(this.renderSession,r),e._renderWebGL(this.renderSession),this.spriteBatch.end()},t.WebGLRenderer.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px"),this.gl.viewport(0,0,this.width,this.height),this.projection.x=this.width/2/this.resolution,this.projection.y=-this.height/2/this.resolution},t.WebGLRenderer.prototype.updateTexture=function(e){if(e.hasLoaded){var i=this.gl;return e._glTextures[i.id]||(e._glTextures[i.id]=i.createTexture()),i.bindTexture(i.TEXTURE_2D,e._glTextures[i.id]),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultipliedAlpha),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,e.source),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e.scaleMode===t.scaleModes.LINEAR?i.LINEAR:i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,e.scaleMode===t.scaleModes.LINEAR?i.LINEAR:i.NEAREST),e._powerOf2?(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.REPEAT),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.REPEAT)):(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE)),e._dirty[i.id]=!1,e._glTextures[i.id]}},t.WebGLRenderer.prototype.handleContextLost=function(t){t.preventDefault(),this.contextLost=!0},t.WebGLRenderer.prototype.handleContextRestored=function(){this.initContext();for(var e in t.TextureCache){t.TextureCache[e].baseTexture._glTextures=[]}this.contextLost=!1},t.WebGLRenderer.prototype.destroy=function(){this.view.removeEventListener("webglcontextlost",this.contextLostBound),this.view.removeEventListener("webglcontextrestored",this.contextRestoredBound),t.glContexts[this.glContextId]=null,this.projection=null,this.offset=null,this.shaderManager.destroy(),this.spriteBatch.destroy(),this.maskManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.spriteBatch=null,this.maskManager=null,this.filterManager=null,this.gl=null,this.renderSession=null},t.WebGLRenderer.prototype.mapBlendModes=function(){var e=this.gl;t.blendModesWebGL||(t.blendModesWebGL=[],t.blendModesWebGL[t.blendModes.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t.blendModesWebGL[t.blendModes.ADD]=[e.SRC_ALPHA,e.DST_ALPHA],t.blendModesWebGL[t.blendModes.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],t.blendModesWebGL[t.blendModes.SCREEN]=[e.SRC_ALPHA,e.ONE],t.blendModesWebGL[t.blendModes.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t.blendModesWebGL[t.blendModes.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t.blendModesWebGL[t.blendModes.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t.blendModesWebGL[t.blendModes.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t.blendModesWebGL[t.blendModes.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t.blendModesWebGL[t.blendModes.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t.blendModesWebGL[t.blendModes.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t.blendModesWebGL[t.blendModes.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t.blendModesWebGL[t.blendModes.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t.blendModesWebGL[t.blendModes.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t.blendModesWebGL[t.blendModes.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t.blendModesWebGL[t.blendModes.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t.blendModesWebGL[t.blendModes.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA])},t.WebGLRenderer.glContextId=0,t.WebGLBlendModeManager=function(){this.currentBlendMode=99999},t.WebGLBlendModeManager.prototype.constructor=t.WebGLBlendModeManager,t.WebGLBlendModeManager.prototype.setContext=function(t){this.gl=t},t.WebGLBlendModeManager.prototype.setBlendMode=function(e){if(this.currentBlendMode===e)return!1;this.currentBlendMode=e;var i=t.blendModesWebGL[this.currentBlendMode];return this.gl.blendFunc(i[0],i[1]),!0},t.WebGLBlendModeManager.prototype.destroy=function(){this.gl=null},t.WebGLMaskManager=function(){},t.WebGLMaskManager.prototype.constructor=t.WebGLMaskManager,t.WebGLMaskManager.prototype.setContext=function(t){this.gl=t},t.WebGLMaskManager.prototype.pushMask=function(e,i){var r=i.gl;e.dirty&&t.WebGLGraphics.updateGraphics(e,r),e._webGL[r.id].data.length&&i.stencilManager.pushStencil(e,e._webGL[r.id].data[0],i)},t.WebGLMaskManager.prototype.popMask=function(t,e){var i=this.gl;e.stencilManager.popStencil(t,t._webGL[i.id].data[0],e)},t.WebGLMaskManager.prototype.destroy=function(){this.gl=null},t.WebGLStencilManager=function(){this.stencilStack=[],this.reverse=!0,this.count=0},t.WebGLStencilManager.prototype.setContext=function(t){this.gl=t},t.WebGLStencilManager.prototype.pushStencil=function(t,e,i){var r=this.gl;this.bindGraphics(t,e,i),0===this.stencilStack.length&&(r.enable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0),this.stencilStack.push(e);var n=this.count;r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),1===e.mode?(r.drawElements(r.TRIANGLE_FAN,e.indices.length-4,r.UNSIGNED_SHORT,0),this.reverse?(r.stencilFunc(r.EQUAL,255-n,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,n,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),this.reverse?r.stencilFunc(r.EQUAL,255-(n+1),255):r.stencilFunc(r.EQUAL,n+1,255),this.reverse=!this.reverse):(this.reverse?(r.stencilFunc(r.EQUAL,n,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,255-n,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0),this.reverse?r.stencilFunc(r.EQUAL,n+1,255):r.stencilFunc(r.EQUAL,255-(n+1),255)),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),this.count++},t.WebGLStencilManager.prototype.bindGraphics=function(e,i,r){this._currentGraphics=e;var n,s=this.gl,o=r.projection,a=r.offset;1===i.mode?(n=r.shaderManager.complexPrimitiveShader,r.shaderManager.setShader(n),s.uniformMatrix3fv(n.translationMatrix,!1,e.worldTransform.toArray(!0)),s.uniform2f(n.projectionVector,o.x,-o.y),s.uniform2f(n.offsetVector,-a.x,-a.y),s.uniform3fv(n.tintColor,t.hex2rgb(e.tint)),s.uniform3fv(n.color,i.color),s.uniform1f(n.alpha,e.worldAlpha*i.alpha),s.bindBuffer(s.ARRAY_BUFFER,i.buffer),s.vertexAttribPointer(n.aVertexPosition,2,s.FLOAT,!1,8,0),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,i.indexBuffer)):(n=r.shaderManager.primitiveShader,r.shaderManager.setShader(n),s.uniformMatrix3fv(n.translationMatrix,!1,e.worldTransform.toArray(!0)),s.uniform2f(n.projectionVector,o.x,-o.y),s.uniform2f(n.offsetVector,-a.x,-a.y),s.uniform3fv(n.tintColor,t.hex2rgb(e.tint)),s.uniform1f(n.alpha,e.worldAlpha),s.bindBuffer(s.ARRAY_BUFFER,i.buffer),s.vertexAttribPointer(n.aVertexPosition,2,s.FLOAT,!1,24,0),s.vertexAttribPointer(n.colorAttribute,4,s.FLOAT,!1,24,8),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,i.indexBuffer))},t.WebGLStencilManager.prototype.popStencil=function(t,e,i){var r=this.gl;if(this.stencilStack.pop(),this.count--,0===this.stencilStack.length)r.disable(r.STENCIL_TEST);else{var n=this.count;this.bindGraphics(t,e,i),r.colorMask(!1,!1,!1,!1),1===e.mode?(this.reverse=!this.reverse,this.reverse?(r.stencilFunc(r.EQUAL,255-(n+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,n+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),r.drawElements(r.TRIANGLE_FAN,e.indices.length-4,r.UNSIGNED_SHORT,0),this.reverse?r.stencilFunc(r.EQUAL,n,255):r.stencilFunc(r.EQUAL,255-n,255)):(this.reverse?(r.stencilFunc(r.EQUAL,n+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,255-(n+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0),this.reverse?r.stencilFunc(r.EQUAL,n,255):r.stencilFunc(r.EQUAL,255-n,255)),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)}},t.WebGLStencilManager.prototype.destroy=function(){this.stencilStack=null,this.gl=null},t.WebGLShaderManager=function(){this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var t=0;t<this.maxAttibs;t++)this.attribState[t]=!1;this.stack=[]},t.WebGLShaderManager.prototype.constructor=t.WebGLShaderManager,t.WebGLShaderManager.prototype.setContext=function(e){this.gl=e,this.primitiveShader=new t.PrimitiveShader(e),this.complexPrimitiveShader=new t.ComplexPrimitiveShader(e),this.defaultShader=new t.PixiShader(e),this.fastShader=new t.PixiFastShader(e),this.stripShader=new t.StripShader(e),this.setShader(this.defaultShader)},t.WebGLShaderManager.prototype.setAttribs=function(t){var e;for(e=0;e<this.tempAttribState.length;e++)this.tempAttribState[e]=!1;for(e=0;e<t.length;e++){var i=t[e];this.tempAttribState[i]=!0}var r=this.gl;for(e=0;e<this.attribState.length;e++)this.attribState[e]!==this.tempAttribState[e]&&(this.attribState[e]=this.tempAttribState[e],this.tempAttribState[e]?r.enableVertexAttribArray(e):r.disableVertexAttribArray(e))},t.WebGLShaderManager.prototype.setShader=function(t){return this._currentId!==t._UID&&(this._currentId=t._UID,this.currentShader=t,this.gl.useProgram(t.program),this.setAttribs(t.attributes),!0)},t.WebGLShaderManager.prototype.destroy=function(){this.attribState=null,this.tempAttribState=null,this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),this.defaultShader.destroy(),this.fastShader.destroy(),this.stripShader.destroy(),this.gl=null},t.WebGLSpriteBatch=function(){this.vertSize=6,this.size=2e3;var e=4*this.size*this.vertSize,i=6*this.size;this.vertices=new t.Float32Array(e),this.indices=new t.Uint16Array(i),this.lastIndexCount=0;for(var r=0,n=0;r<i;r+=6,n+=4)this.indices[r+0]=n+0,this.indices[r+1]=n+1,this.indices[r+2]=n+2,this.indices[r+3]=n+0,this.indices[r+4]=n+2,this.indices[r+5]=n+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.dirty=!0,this.textures=[],this.blendModes=[],this.shaders=[],this.sprites=[],this.defaultShader=new t.AbstractFilter(["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"])},t.WebGLSpriteBatch.prototype.setContext=function(e){this.gl=e,this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW),this.currentBlendMode=99999;var i=new t.PixiShader(e);i.fragmentSrc=this.defaultShader.fragmentSrc,i.uniforms={},i.init(),this.defaultShader.shaders[e.id]=i},t.WebGLSpriteBatch.prototype.begin=function(t){this.renderSession=t,this.shader=this.renderSession.shaderManager.defaultShader,this.start()},t.WebGLSpriteBatch.prototype.end=function(){this.flush()},t.WebGLSpriteBatch.prototype.render=function(t){var e=t.texture;this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=e.baseTexture);var i=e._uvs;if(i){var r,n,s,o,a=t.worldAlpha,h=t.tint,l=this.vertices,u=t.anchor.x,c=t.anchor.y;if(e.trim){var p=e.trim;r=(n=p.x-u*p.width)+e.crop.width,s=(o=p.y-c*p.height)+e.crop.height}else r=e.frame.width*(1-u),n=e.frame.width*-u,s=e.frame.height*(1-c),o=e.frame.height*-c;var d=4*this.currentBatchSize*this.vertSize,f=e.baseTexture.resolution,g=t.worldTransform,m=g.a/f,v=g.b/f,y=g.c/f,x=g.d/f,b=g.tx,_=g.ty;l[d++]=m*n+y*o+b,l[d++]=x*o+v*n+_,l[d++]=i.x0,l[d++]=i.y0,l[d++]=a,l[d++]=h,l[d++]=m*r+y*o+b,l[d++]=x*o+v*r+_,l[d++]=i.x1,l[d++]=i.y1,l[d++]=a,l[d++]=h,l[d++]=m*r+y*s+b,l[d++]=x*s+v*r+_,l[d++]=i.x2,l[d++]=i.y2,l[d++]=a,l[d++]=h,l[d++]=m*n+y*s+b,l[d++]=x*s+v*n+_,l[d++]=i.x3,l[d++]=i.y3,l[d++]=a,l[d++]=h,this.sprites[this.currentBatchSize++]=t}},t.WebGLSpriteBatch.prototype.renderTilingSprite=function(e){var i=e.tilingTexture;this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=i.baseTexture),e._uvs||(e._uvs=new t.TextureUvs);var r=e._uvs;e.tilePosition.x%=i.baseTexture.width*e.tileScaleOffset.x,e.tilePosition.y%=i.baseTexture.height*e.tileScaleOffset.y;var n=e.tilePosition.x/(i.baseTexture.width*e.tileScaleOffset.x),s=e.tilePosition.y/(i.baseTexture.height*e.tileScaleOffset.y),o=e.width/i.baseTexture.width/(e.tileScale.x*e.tileScaleOffset.x),a=e.height/i.baseTexture.height/(e.tileScale.y*e.tileScaleOffset.y);r.x0=0-n,r.y0=0-s,r.x1=1*o-n,r.y1=0-s,r.x2=1*o-n,r.y2=1*a-s,r.x3=0-n,r.y3=1*a-s;var h=e.worldAlpha,l=e.tint,u=this.vertices,c=e.width,p=e.height,d=e.anchor.x,f=e.anchor.y,g=c*(1-d),m=c*-d,v=p*(1-f),y=p*-f,x=4*this.currentBatchSize*this.vertSize,b=i.baseTexture.resolution,_=e.worldTransform,w=_.a/b,T=_.b/b,S=_.c/b,C=_.d/b,E=_.tx,A=_.ty;u[x++]=w*m+S*y+E,u[x++]=C*y+T*m+A,u[x++]=r.x0,u[x++]=r.y0,u[x++]=h,u[x++]=l,u[x++]=w*g+S*y+E,u[x++]=C*y+T*g+A,u[x++]=r.x1,u[x++]=r.y1,u[x++]=h,u[x++]=l,u[x++]=w*g+S*v+E,u[x++]=C*v+T*g+A,u[x++]=r.x2,u[x++]=r.y2,u[x++]=h,u[x++]=l,u[x++]=w*m+S*v+E,u[x++]=C*v+T*m+A,u[x++]=r.x3,u[x++]=r.y3,u[x++]=h,u[x++]=l,this.sprites[this.currentBatchSize++]=e},t.WebGLSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var e,i=this.gl;if(this.dirty){this.dirty=!1,i.activeTexture(i.TEXTURE0),i.bindBuffer(i.ARRAY_BUFFER,this.vertexBuffer),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e=this.defaultShader.shaders[i.id];var r=4*this.vertSize;i.vertexAttribPointer(e.aVertexPosition,2,i.FLOAT,!1,r,0),i.vertexAttribPointer(e.aTextureCoord,2,i.FLOAT,!1,r,8),i.vertexAttribPointer(e.colorAttribute,2,i.FLOAT,!1,r,16)}if(this.currentBatchSize>.5*this.size)i.bufferSubData(i.ARRAY_BUFFER,0,this.vertices);else{var n=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize);i.bufferSubData(i.ARRAY_BUFFER,0,n)}for(var s,o,a,h,l=0,u=0,c=null,p=this.renderSession.blendModeManager.currentBlendMode,d=null,f=!1,g=!1,m=0,v=this.currentBatchSize;m<v;m++){if(s=(h=this.sprites[m]).texture.baseTexture,f=p!==(o=h.blendMode),g=d!==(a=h.shader||this.defaultShader),(c!==s||f||g)&&(this.renderBatch(c,l,u),u=m,l=0,c=s,f&&(p=o,this.renderSession.blendModeManager.setBlendMode(p)),g)){(e=(d=a).shaders[i.id])||((e=new t.PixiShader(i)).fragmentSrc=d.fragmentSrc,e.uniforms=d.uniforms,e.init(),d.shaders[i.id]=e),this.renderSession.shaderManager.setShader(e),e.dirty&&e.syncUniforms();var y=this.renderSession.projection;i.uniform2f(e.projectionVector,y.x,y.y);var x=this.renderSession.offset;i.uniform2f(e.offsetVector,x.x,x.y)}l++}this.renderBatch(c,l,u),this.currentBatchSize=0}},t.WebGLSpriteBatch.prototype.renderBatch=function(t,e,i){if(0!==e){var r=this.gl;t._dirty[r.id]?this.renderSession.renderer.updateTexture(t):r.bindTexture(r.TEXTURE_2D,t._glTextures[r.id]),r.drawElements(r.TRIANGLES,6*e,r.UNSIGNED_SHORT,6*i*2),this.renderSession.drawCount++}},t.WebGLSpriteBatch.prototype.stop=function(){this.flush(),this.dirty=!0},t.WebGLSpriteBatch.prototype.start=function(){this.dirty=!0},t.WebGLSpriteBatch.prototype.destroy=function(){this.vertices=null,this.indices=null,this.gl.deleteBuffer(this.vertexBuffer),this.gl.deleteBuffer(this.indexBuffer),this.currentBaseTexture=null,this.gl=null},t.WebGLFastSpriteBatch=function(e){this.vertSize=10,this.maxSize=6e3,this.size=this.maxSize;var i=4*this.size*this.vertSize,r=6*this.maxSize;this.vertices=new t.Float32Array(i),this.indices=new t.Uint16Array(r),this.vertexBuffer=null,this.indexBuffer=null,this.lastIndexCount=0;for(var n=0,s=0;n<r;n+=6,s+=4)this.indices[n+0]=s+0,this.indices[n+1]=s+1,this.indices[n+2]=s+2,this.indices[n+3]=s+0,this.indices[n+4]=s+2,this.indices[n+5]=s+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.currentBlendMode=0,this.renderSession=null,this.shader=null,this.matrix=null,this.setContext(e)},t.WebGLFastSpriteBatch.prototype.constructor=t.WebGLFastSpriteBatch,t.WebGLFastSpriteBatch.prototype.setContext=function(t){this.gl=t,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW)},t.WebGLFastSpriteBatch.prototype.begin=function(t,e){this.renderSession=e,this.shader=this.renderSession.shaderManager.fastShader,this.matrix=t.worldTransform.toArray(!0),this.start()},t.WebGLFastSpriteBatch.prototype.end=function(){this.flush()},t.WebGLFastSpriteBatch.prototype.render=function(t){var e=t.children,i=e[0];if(i.texture._uvs){this.currentBaseTexture=i.texture.baseTexture,i.blendMode!==this.renderSession.blendModeManager.currentBlendMode&&(this.flush(),this.renderSession.blendModeManager.setBlendMode(i.blendMode));for(var r=0,n=e.length;r<n;r++)this.renderSprite(e[r]);this.flush()}},t.WebGLFastSpriteBatch.prototype.renderSprite=function(t){if(t.visible&&(t.texture.baseTexture===this.currentBaseTexture||(this.flush(),this.currentBaseTexture=t.texture.baseTexture,t.texture._uvs))){var e,i,r,n,s,o,a=this.vertices;if(e=t.texture._uvs,t.texture.frame.width,t.texture.frame.height,t.texture.trim){var h=t.texture.trim;i=(r=h.x-t.anchor.x*h.width)+t.texture.crop.width,n=(s=h.y-t.anchor.y*h.height)+t.texture.crop.height}else i=t.texture.frame.width*(1-t.anchor.x),r=t.texture.frame.width*-t.anchor.x,n=t.texture.frame.height*(1-t.anchor.y),s=t.texture.frame.height*-t.anchor.y;o=4*this.currentBatchSize*this.vertSize,a[o++]=r,a[o++]=s,a[o++]=t.position.x,a[o++]=t.position.y,a[o++]=t.scale.x,a[o++]=t.scale.y,a[o++]=t.rotation,a[o++]=e.x0,a[o++]=e.y1,a[o++]=t.alpha,a[o++]=i,a[o++]=s,a[o++]=t.position.x,a[o++]=t.position.y,a[o++]=t.scale.x,a[o++]=t.scale.y,a[o++]=t.rotation,a[o++]=e.x1,a[o++]=e.y1,a[o++]=t.alpha,a[o++]=i,a[o++]=n,a[o++]=t.position.x,a[o++]=t.position.y,a[o++]=t.scale.x,a[o++]=t.scale.y,a[o++]=t.rotation,a[o++]=e.x2,a[o++]=e.y2,a[o++]=t.alpha,a[o++]=r,a[o++]=n,a[o++]=t.position.x,a[o++]=t.position.y,a[o++]=t.scale.x,a[o++]=t.scale.y,a[o++]=t.rotation,a[o++]=e.x3,a[o++]=e.y3,a[o++]=t.alpha,this.currentBatchSize++,this.currentBatchSize>=this.size&&this.flush()}},t.WebGLFastSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var t=this.gl;if(this.currentBaseTexture._glTextures[t.id]||this.renderSession.renderer.updateTexture(this.currentBaseTexture,t),t.bindTexture(t.TEXTURE_2D,this.currentBaseTexture._glTextures[t.id]),this.currentBatchSize>.5*this.size)t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices);else{var e=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize);t.bufferSubData(t.ARRAY_BUFFER,0,e)}t.drawElements(t.TRIANGLES,6*this.currentBatchSize,t.UNSIGNED_SHORT,0),this.currentBatchSize=0,this.renderSession.drawCount++}},t.WebGLFastSpriteBatch.prototype.stop=function(){this.flush()},t.WebGLFastSpriteBatch.prototype.start=function(){var t=this.gl;t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.renderSession.projection;t.uniform2f(this.shader.projectionVector,e.x,e.y),t.uniformMatrix3fv(this.shader.uMatrix,!1,this.matrix);var i=4*this.vertSize;t.vertexAttribPointer(this.shader.aVertexPosition,2,t.FLOAT,!1,i,0),t.vertexAttribPointer(this.shader.aPositionCoord,2,t.FLOAT,!1,i,8),t.vertexAttribPointer(this.shader.aScale,2,t.FLOAT,!1,i,16),t.vertexAttribPointer(this.shader.aRotation,1,t.FLOAT,!1,i,24),t.vertexAttribPointer(this.shader.aTextureCoord,2,t.FLOAT,!1,i,28),t.vertexAttribPointer(this.shader.colorAttribute,1,t.FLOAT,!1,i,36)},t.WebGLFilterManager=function(){this.filterStack=[],this.offsetX=0,this.offsetY=0},t.WebGLFilterManager.prototype.constructor=t.WebGLFilterManager,t.WebGLFilterManager.prototype.setContext=function(t){this.gl=t,this.texturePool=[],this.initShaderBuffers()},t.WebGLFilterManager.prototype.begin=function(t,e){this.renderSession=t,this.defaultShader=t.shaderManager.defaultShader;var i=this.renderSession.projection;this.width=2*i.x,this.height=2*-i.y,this.buffer=e},t.WebGLFilterManager.prototype.pushFilter=function(e){var i=this.gl,r=this.renderSession.projection,n=this.renderSession.offset;e._filterArea=e.target.filterArea||e.target.getBounds(),this.filterStack.push(e);var s=e.filterPasses[0];this.offsetX+=e._filterArea.x,this.offsetY+=e._filterArea.y;var o=this.texturePool.pop();o?o.resize(this.width,this.height):o=new t.FilterTexture(this.gl,this.width,this.height),i.bindTexture(i.TEXTURE_2D,o.texture);var a=e._filterArea,h=s.padding;a.x-=h,a.y-=h,a.width+=2*h,a.height+=2*h,a.x<0&&(a.x=0),a.width>this.width&&(a.width=this.width),a.y<0&&(a.y=0),a.height>this.height&&(a.height=this.height),i.bindFramebuffer(i.FRAMEBUFFER,o.frameBuffer),i.viewport(0,0,a.width,a.height),r.x=a.width/2,r.y=-a.height/2,n.x=-a.x,n.y=-a.y,i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),e._glFilterTexture=o},t.WebGLFilterManager.prototype.popFilter=function(){var e=this.gl,i=this.filterStack.pop(),r=i._filterArea,n=i._glFilterTexture,s=this.renderSession.projection,o=this.renderSession.offset;if(i.filterPasses.length>1){e.viewport(0,0,r.width,r.height),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=0,this.vertexArray[1]=r.height,this.vertexArray[2]=r.width,this.vertexArray[3]=r.height,this.vertexArray[4]=0,this.vertexArray[5]=0,this.vertexArray[6]=r.width,this.vertexArray[7]=0,e.bufferSubData(e.ARRAY_BUFFER,0,this.vertexArray),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=r.width/this.width,this.uvArray[5]=r.height/this.height,this.uvArray[6]=r.width/this.width,this.uvArray[7]=r.height/this.height,e.bufferSubData(e.ARRAY_BUFFER,0,this.uvArray);var a=n,h=this.texturePool.pop();h||(h=new t.FilterTexture(this.gl,this.width,this.height)),h.resize(this.width,this.height),e.bindFramebuffer(e.FRAMEBUFFER,h.frameBuffer),e.clear(e.COLOR_BUFFER_BIT),e.disable(e.BLEND);for(var l=0;l<i.filterPasses.length-1;l++){var u=i.filterPasses[l];e.bindFramebuffer(e.FRAMEBUFFER,h.frameBuffer),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,a.texture),this.applyFilterPass(u,r,r.width,r.height);var c=a;a=h,h=c}e.enable(e.BLEND),n=a,this.texturePool.push(h)}var p=i.filterPasses[i.filterPasses.length-1];this.offsetX-=r.x,this.offsetY-=r.y;var d=this.width,f=this.height,g=0,m=0,v=this.buffer;if(0===this.filterStack.length)e.colorMask(!0,!0,!0,!0);else{var y=this.filterStack[this.filterStack.length-1];d=(r=y._filterArea).width,f=r.height,g=r.x,m=r.y,v=y._glFilterTexture.frameBuffer}s.x=d/2,s.y=-f/2,o.x=g,o.y=m;var x=(r=i._filterArea).x-g,b=r.y-m;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=x,this.vertexArray[1]=b+r.height,this.vertexArray[2]=x+r.width,this.vertexArray[3]=b+r.height,this.vertexArray[4]=x,this.vertexArray[5]=b,this.vertexArray[6]=x+r.width,this.vertexArray[7]=b,e.bufferSubData(e.ARRAY_BUFFER,0,this.vertexArray),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=r.width/this.width,this.uvArray[5]=r.height/this.height,this.uvArray[6]=r.width/this.width,this.uvArray[7]=r.height/this.height,e.bufferSubData(e.ARRAY_BUFFER,0,this.uvArray),e.viewport(0,0,d,f),e.bindFramebuffer(e.FRAMEBUFFER,v),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n.texture),this.applyFilterPass(p,r,d,f),this.texturePool.push(n),i._glFilterTexture=null},t.WebGLFilterManager.prototype.applyFilterPass=function(e,i,r,n){var s=this.gl,o=e.shaders[s.id];o||((o=new t.PixiShader(s)).fragmentSrc=e.fragmentSrc,o.uniforms=e.uniforms,o.init(),e.shaders[s.id]=o),this.renderSession.shaderManager.setShader(o),s.uniform2f(o.projectionVector,r/2,-n/2),s.uniform2f(o.offsetVector,0,0),e.uniforms.dimensions&&(e.uniforms.dimensions.value[0]=this.width,e.uniforms.dimensions.value[1]=this.height,e.uniforms.dimensions.value[2]=this.vertexArray[0],e.uniforms.dimensions.value[3]=this.vertexArray[5]),o.syncUniforms(),s.bindBuffer(s.ARRAY_BUFFER,this.vertexBuffer),s.vertexAttribPointer(o.aVertexPosition,2,s.FLOAT,!1,0,0),s.bindBuffer(s.ARRAY_BUFFER,this.uvBuffer),s.vertexAttribPointer(o.aTextureCoord,2,s.FLOAT,!1,0,0),s.bindBuffer(s.ARRAY_BUFFER,this.colorBuffer),s.vertexAttribPointer(o.colorAttribute,2,s.FLOAT,!1,0,0),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,this.indexBuffer),s.drawElements(s.TRIANGLES,6,s.UNSIGNED_SHORT,0),this.renderSession.drawCount++},t.WebGLFilterManager.prototype.initShaderBuffers=function(){var e=this.gl;this.vertexBuffer=e.createBuffer(),this.uvBuffer=e.createBuffer(),this.colorBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.vertexArray=new t.Float32Array([0,0,1,0,0,1,1,1]),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertexArray,e.STATIC_DRAW),this.uvArray=new t.Float32Array([0,0,1,0,0,1,1,1]),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvArray,e.STATIC_DRAW),this.colorArray=new t.Float32Array([1,16777215,1,16777215,1,16777215,1,16777215]),e.bindBuffer(e.ARRAY_BUFFER,this.colorBuffer),e.bufferData(e.ARRAY_BUFFER,this.colorArray,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,1,3,2]),e.STATIC_DRAW)},t.WebGLFilterManager.prototype.destroy=function(){var t=this.gl;this.filterStack=null,this.offsetX=0,this.offsetY=0;for(var e=0;e<this.texturePool.length;e++)this.texturePool[e].destroy();this.texturePool=null,t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.uvBuffer),t.deleteBuffer(this.colorBuffer),t.deleteBuffer(this.indexBuffer)},t.FilterTexture=function(e,i,r,n){this.gl=e,this.frameBuffer=e.createFramebuffer(),this.texture=e.createTexture(),n=n||t.scaleModes.DEFAULT,e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n===t.scaleModes.LINEAR?e.LINEAR:e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n===t.scaleModes.LINEAR?e.LINEAR:e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0),this.renderBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.renderBuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.renderBuffer),this.resize(i,r)},t.FilterTexture.prototype.constructor=t.FilterTexture,t.FilterTexture.prototype.clear=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},t.FilterTexture.prototype.resize=function(t,e){if(this.width!==t||this.height!==e){this.width=t,this.height=e;var i=this.gl;i.bindTexture(i.TEXTURE_2D,this.texture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t,e,0,i.RGBA,i.UNSIGNED_BYTE,null),i.bindRenderbuffer(i.RENDERBUFFER,this.renderBuffer),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t,e)}},t.FilterTexture.prototype.destroy=function(){var t=this.gl;t.deleteFramebuffer(this.frameBuffer),t.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null},t.CanvasBuffer=function(t,e){this.width=t,this.height=e,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e},t.CanvasBuffer.prototype.constructor=t.CanvasBuffer,t.CanvasBuffer.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.width,this.height)},t.CanvasBuffer.prototype.resize=function(t,e){this.width=this.canvas.width=t,this.height=this.canvas.height=e},t.CanvasMaskManager=function(){},t.CanvasMaskManager.prototype.constructor=t.CanvasMaskManager,t.CanvasMaskManager.prototype.pushMask=function(e,i){var r=i.context;r.save();var n=e.alpha,s=e.worldTransform,o=i.resolution;r.setTransform(s.a*o,s.b*o,s.c*o,s.d*o,s.tx*o,s.ty*o),t.CanvasGraphics.renderGraphicsMask(e,r),r.clip(),e.worldAlpha=n},t.CanvasMaskManager.prototype.popMask=function(t){t.context.restore()},t.CanvasTinter=function(){},t.CanvasTinter.getTintedTexture=function(e,i){var r=e.texture,n="#"+("00000"+(0|(i=t.CanvasTinter.roundColor(i))).toString(16)).substr(-6);if(r.tintCache=r.tintCache||{},r.tintCache[n])return r.tintCache[n];var s=t.CanvasTinter.canvas||document.createElement("canvas");if(t.CanvasTinter.tintMethod(r,i,s),t.CanvasTinter.convertTintToImage){var o=new Image;o.src=s.toDataURL(),r.tintCache[n]=o}else r.tintCache[n]=s,t.CanvasTinter.canvas=null;return s},t.CanvasTinter.tintWithMultiply=function(t,e,i){var r=i.getContext("2d"),n=t.crop;i.width=n.width,i.height=n.height,r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="multiply",r.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height)},t.CanvasTinter.tintWithOverlay=function(t,e,i){var r=i.getContext("2d"),n=t.crop;i.width=n.width,i.height=n.height,r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height)},t.CanvasTinter.tintWithPerPixel=function(e,i,r){var n=r.getContext("2d"),s=e.crop;r.width=s.width,r.height=s.height,n.globalCompositeOperation="copy",n.drawImage(e.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height);for(var o=t.hex2rgb(i),a=o[0],h=o[1],l=o[2],u=n.getImageData(0,0,s.width,s.height),c=u.data,p=0;p<c.length;p+=4)c[p+0]*=a,c[p+1]*=h,c[p+2]*=l;n.putImageData(u,0,0)},t.CanvasTinter.roundColor=function(e){var i=t.CanvasTinter.cacheStepsPerColorChannel,r=t.hex2rgb(e);return r[0]=Math.min(255,r[0]/i*i),r[1]=Math.min(255,r[1]/i*i),r[2]=Math.min(255,r[2]/i*i),t.rgb2hex(r)},t.CanvasTinter.cacheStepsPerColorChannel=8,t.CanvasTinter.convertTintToImage=!1,t.CanvasTinter.canUseMultiply=t.canUseNewCanvasBlendModes(),t.CanvasTinter.tintMethod=t.CanvasTinter.canUseMultiply?t.CanvasTinter.tintWithMultiply:t.CanvasTinter.tintWithPerPixel,t.CanvasRenderer=function(e,i,r){if(r)for(var n in t.defaultRenderOptions)void 0===r[n]&&(r[n]=t.defaultRenderOptions[n]);else r=t.defaultRenderOptions;t.defaultRenderer||(t.sayHello("Canvas"),t.defaultRenderer=this),this.type=t.CANVAS_RENDERER,this.resolution=r.resolution,this.clearBeforeRender=r.clearBeforeRender,this.transparent=r.transparent,this.autoResize=r.autoResize||!1,this.width=e||800,this.height=i||600,this.width*=this.resolution,this.height*=this.resolution,this.view=r.view||document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.view.width=this.width*this.resolution,this.view.height=this.height*this.resolution,this.count=0,this.maskManager=new t.CanvasMaskManager,this.renderSession={context:this.context,maskManager:this.maskManager,scaleMode:null,smoothProperty:null,roundPixels:!1},this.mapBlendModes(),this.resize(e,i),"imageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="imageSmoothingEnabled":"webkitImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="webkitImageSmoothingEnabled":"mozImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="mozImageSmoothingEnabled":"oImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="oImageSmoothingEnabled":"msImageSmoothingEnabled"in this.context&&(this.renderSession.smoothProperty="msImageSmoothingEnabled")},t.CanvasRenderer.prototype.constructor=t.CanvasRenderer,t.CanvasRenderer.prototype.render=function(e){e.updateTransform(),this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.renderSession.currentBlendMode=t.blendModes.NORMAL,this.context.globalCompositeOperation=t.blendModesCanvas[t.blendModes.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=e.backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(e),e.interactive&&(e._interactiveEventsAdded||(e._interactiveEventsAdded=!0,e.interactionManager.setTarget(this)))},t.CanvasRenderer.prototype.destroy=function(t){void 0===t&&(t=!0),t&&this.view.parent&&this.view.parent.removeChild(this.view),this.view=null,this.context=null,this.maskManager=null,this.renderSession=null},t.CanvasRenderer.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},t.CanvasRenderer.prototype.renderDisplayObject=function(t,e){this.renderSession.context=e||this.context,this.renderSession.resolution=this.resolution,t._renderCanvas(this.renderSession)},t.CanvasRenderer.prototype.mapBlendModes=function(){t.blendModesCanvas||(t.blendModesCanvas=[],t.canUseNewCanvasBlendModes()?(t.blendModesCanvas[t.blendModes.NORMAL]="source-over",t.blendModesCanvas[t.blendModes.ADD]="lighter",t.blendModesCanvas[t.blendModes.MULTIPLY]="multiply",t.blendModesCanvas[t.blendModes.SCREEN]="screen",t.blendModesCanvas[t.blendModes.OVERLAY]="overlay",t.blendModesCanvas[t.blendModes.DARKEN]="darken",t.blendModesCanvas[t.blendModes.LIGHTEN]="lighten",t.blendModesCanvas[t.blendModes.COLOR_DODGE]="color-dodge",t.blendModesCanvas[t.blendModes.COLOR_BURN]="color-burn",t.blendModesCanvas[t.blendModes.HARD_LIGHT]="hard-light",t.blendModesCanvas[t.blendModes.SOFT_LIGHT]="soft-light",t.blendModesCanvas[t.blendModes.DIFFERENCE]="difference",t.blendModesCanvas[t.blendModes.EXCLUSION]="exclusion",t.blendModesCanvas[t.blendModes.HUE]="hue",t.blendModesCanvas[t.blendModes.SATURATION]="saturation",t.blendModesCanvas[t.blendModes.COLOR]="color",t.blendModesCanvas[t.blendModes.LUMINOSITY]="luminosity"):(t.blendModesCanvas[t.blendModes.NORMAL]="source-over",t.blendModesCanvas[t.blendModes.ADD]="lighter",t.blendModesCanvas[t.blendModes.MULTIPLY]="source-over",t.blendModesCanvas[t.blendModes.SCREEN]="source-over",t.blendModesCanvas[t.blendModes.OVERLAY]="source-over",t.blendModesCanvas[t.blendModes.DARKEN]="source-over",t.blendModesCanvas[t.blendModes.LIGHTEN]="source-over",t.blendModesCanvas[t.blendModes.COLOR_DODGE]="source-over",t.blendModesCanvas[t.blendModes.COLOR_BURN]="source-over",t.blendModesCanvas[t.blendModes.HARD_LIGHT]="source-over",t.blendModesCanvas[t.blendModes.SOFT_LIGHT]="source-over",t.blendModesCanvas[t.blendModes.DIFFERENCE]="source-over",t.blendModesCanvas[t.blendModes.EXCLUSION]="source-over",t.blendModesCanvas[t.blendModes.HUE]="source-over",t.blendModesCanvas[t.blendModes.SATURATION]="source-over",t.blendModesCanvas[t.blendModes.COLOR]="source-over",t.blendModesCanvas[t.blendModes.LUMINOSITY]="source-over"))},t.CanvasGraphics=function(){},t.CanvasGraphics.renderGraphics=function(e,i){for(var r=e.worldAlpha,n=0;n<e.graphicsData.length;n++){var s=e.graphicsData[n],o=s.shape;if(i.strokeStyle="#"+("00000"+(0|s.lineColor).toString(16)).substr(-6),i.lineWidth=s.lineWidth,s.type===t.Graphics.POLY){i.beginPath();var a=o.points;i.moveTo(a[0],a[1]);for(var h=1;h<a.length/2;h++)i.lineTo(a[2*h],a[2*h+1]);o.closed&&i.lineTo(a[0],a[1]),a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&i.closePath(),s.fill&&(i.globalAlpha=s.fillAlpha*r,i.fillStyle="#"+("00000"+(0|s.fillColor).toString(16)).substr(-6),i.fill()),s.lineWidth&&(i.globalAlpha=s.lineAlpha*r,i.stroke())}else if(s.type===t.Graphics.RECT)(s.fillColor||0===s.fillColor)&&(i.globalAlpha=s.fillAlpha*r,i.fillStyle="#"+("00000"+(0|s.fillColor).toString(16)).substr(-6),i.fillRect(o.x,o.y,o.width,o.height)),s.lineWidth&&(i.globalAlpha=s.lineAlpha*r,i.strokeRect(o.x,o.y,o.width,o.height));else if(s.type===t.Graphics.CIRC)i.beginPath(),i.arc(o.x,o.y,o.radius,0,2*Math.PI),i.closePath(),s.fill&&(i.globalAlpha=s.fillAlpha*r,i.fillStyle="#"+("00000"+(0|s.fillColor).toString(16)).substr(-6),i.fill()),s.lineWidth&&(i.globalAlpha=s.lineAlpha*r,i.stroke());else if(s.type===t.Graphics.ELIP){var l=2*o.width,u=2*o.height,c=o.x-l/2,p=o.y-u/2;i.beginPath();var d=l/2*.5522848,f=u/2*.5522848,g=c+l,m=p+u,v=c+l/2,y=p+u/2;i.moveTo(c,y),i.bezierCurveTo(c,y-f,v-d,p,v,p),i.bezierCurveTo(v+d,p,g,y-f,g,y),i.bezierCurveTo(g,y+f,v+d,m,v,m),i.bezierCurveTo(v-d,m,c,y+f,c,y),i.closePath(),s.fill&&(i.globalAlpha=s.fillAlpha*r,i.fillStyle="#"+("00000"+(0|s.fillColor).toString(16)).substr(-6),i.fill()),s.lineWidth&&(i.globalAlpha=s.lineAlpha*r,i.stroke())}else if(s.type===t.Graphics.RREC){var x=o.x,b=o.y,_=o.width,w=o.height,T=o.radius,S=Math.min(_,w)/2|0;T=T>S?S:T,i.beginPath(),i.moveTo(x,b+T),i.lineTo(x,b+w-T),i.quadraticCurveTo(x,b+w,x+T,b+w),i.lineTo(x+_-T,b+w),i.quadraticCurveTo(x+_,b+w,x+_,b+w-T),i.lineTo(x+_,b+T),i.quadraticCurveTo(x+_,b,x+_-T,b),i.lineTo(x+T,b),i.quadraticCurveTo(x,b,x,b+T),i.closePath(),(s.fillColor||0===s.fillColor)&&(i.globalAlpha=s.fillAlpha*r,i.fillStyle="#"+("00000"+(0|s.fillColor).toString(16)).substr(-6),i.fill()),s.lineWidth&&(i.globalAlpha=s.lineAlpha*r,i.stroke())}}},t.CanvasGraphics.renderGraphicsMask=function(e,i){var r=e.graphicsData.length;if(0!==r){r>1&&(r=1,window.console.log("Pixi.js warning: masks in canvas can only mask using the first path in the graphics object"));for(var n=0;n<1;n++){var s=e.graphicsData[n],o=s.shape;if(s.type===t.Graphics.POLY){i.beginPath();var a=o.points;i.moveTo(a[0],a[1]);for(var h=1;h<a.length/2;h++)i.lineTo(a[2*h],a[2*h+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&i.closePath()}else if(s.type===t.Graphics.RECT)i.beginPath(),i.rect(o.x,o.y,o.width,o.height),i.closePath();else if(s.type===t.Graphics.CIRC)i.beginPath(),i.arc(o.x,o.y,o.radius,0,2*Math.PI),i.closePath();else if(s.type===t.Graphics.ELIP){var l=2*o.width,u=2*o.height,c=o.x-l/2,p=o.y-u/2;i.beginPath();var d=l/2*.5522848,f=u/2*.5522848,g=c+l,m=p+u,v=c+l/2,y=p+u/2;i.moveTo(c,y),i.bezierCurveTo(c,y-f,v-d,p,v,p),i.bezierCurveTo(v+d,p,g,y-f,g,y),i.bezierCurveTo(g,y+f,v+d,m,v,m),i.bezierCurveTo(v-d,m,c,y+f,c,y),i.closePath()}else if(s.type===t.Graphics.RREC){var x=o.points,b=x[0],_=x[1],w=x[2],T=x[3],S=x[4],C=Math.min(w,T)/2|0;S=S>C?C:S,i.beginPath(),i.moveTo(b,_+S),i.lineTo(b,_+T-S),i.quadraticCurveTo(b,_+T,b+S,_+T),i.lineTo(b+w-S,_+T),i.quadraticCurveTo(b+w,_+T,b+w,_+T-S),i.lineTo(b+w,_+S),i.quadraticCurveTo(b+w,_,b+w-S,_),i.lineTo(b+S,_),i.quadraticCurveTo(b,_,b,_+S),i.closePath()}}}},t.Graphics=function(){t.DisplayObjectContainer.call(this),this.renderable=!0,this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this.blendMode=t.blendModes.NORMAL,this.currentPath=null,this._webGL=[],this.isMask=!1,this.boundsPadding=0,this._localBounds=new t.Rectangle(0,0,1,1),this.dirty=!0,this.webGLDirty=!1,this.cachedSpriteDirty=!1},t.Graphics.prototype=Object.create(t.DisplayObjectContainer.prototype),t.Graphics.prototype.constructor=t.Graphics,Object.defineProperty(t.Graphics.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap=t,this._cacheAsBitmap?this._generateCachedSprite():(this.destroyCachedSprite(),this.dirty=!0)}}),t.Graphics.prototype.lineStyle=function(e,i,r){if(this.lineWidth=e||0,this.lineColor=i||0,this.lineAlpha=arguments.length<3?1:r,this.currentPath){if(this.currentPath.shape.points.length)return this.drawShape(new t.Polygon(this.currentPath.shape.points.slice(-2))),this;this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha}return this},t.Graphics.prototype.moveTo=function(e,i){return this.drawShape(new t.Polygon([e,i])),this},t.Graphics.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty=!0,this},t.Graphics.prototype.quadraticCurveTo=function(t,e,i,r){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n,s,o=this.currentPath.shape.points;0===o.length&&this.moveTo(0,0);for(var a=o[o.length-2],h=o[o.length-1],l=0,u=1;u<=20;u++)n=a+(t-a)*(l=u/20),s=h+(e-h)*l,o.push(n+(t+(i-t)*l-n)*l,s+(e+(r-e)*l-s)*l);return this.dirty=!0,this},t.Graphics.prototype.bezierCurveTo=function(t,e,i,r,n,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var o,a,h,l,u,c=this.currentPath.shape.points,p=c[c.length-2],d=c[c.length-1],f=0,g=1;g<=20;g++)h=(a=(o=1-(f=g/20))*o)*o,u=(l=f*f)*f,c.push(h*p+3*a*f*t+3*o*l*i+u*n,h*d+3*a*f*e+3*o*l*r+u*s);return this.dirty=!0,this},t.Graphics.prototype.arcTo=function(t,e,i,r,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var s=this.currentPath.shape.points,o=s[s.length-2],a=s[s.length-1]-e,h=o-t,l=r-e,u=i-t,c=Math.abs(a*u-h*l);if(c<1e-8||0===n)s[s.length-2]===t&&s[s.length-1]===e||s.push(t,e);else{var p=a*a+h*h,d=l*l+u*u,f=a*l+h*u,g=n*Math.sqrt(p)/c,m=n*Math.sqrt(d)/c,v=g*f/p,y=m*f/d,x=g*u+m*h,b=g*l+m*a,_=h*(m+v),w=a*(m+v),T=u*(g+y),S=l*(g+y),C=Math.atan2(w-b,_-x),E=Math.atan2(S-b,T-x);this.arc(x+t,b+e,n,C,E,h*l>u*a)}return this.dirty=!0,this},t.Graphics.prototype.arc=function(t,e,i,r,n,s){var o=t+Math.cos(r)*i,a=e+Math.sin(r)*i,h=this.currentPath.shape.points;if(0===h.length?(this.moveTo(o,a),h=this.currentPath.shape.points):h[h.length-2]===o&&h[h.length-1]===a||h.push(o,a),r===n)return this;!s&&n<=r?n+=2*Math.PI:s&&r<=n&&(r+=2*Math.PI);var l=s?-1*(r-n):n-r,u=Math.abs(l)/(2*Math.PI)*40;if(0===l)return this;for(var c=l/(2*u),p=2*c,d=Math.cos(c),f=Math.sin(c),g=u-1,m=g%1/g,v=0;v<=g;v++){var y=c+r+p*(v+m*v),x=Math.cos(y),b=-Math.sin(y);h.push((d*x+f*b)*i+t,(d*-b+f*x)*i+e)}return this.dirty=!0,this},t.Graphics.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},t.Graphics.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},t.Graphics.prototype.drawRect=function(e,i,r,n){return this.drawShape(new t.Rectangle(e,i,r,n)),this},t.Graphics.prototype.drawRoundedRect=function(e,i,r,n,s){return this.drawShape(new t.RoundedRectangle(e,i,r,n,s)),this},t.Graphics.prototype.drawCircle=function(e,i,r){return this.drawShape(new t.Circle(e,i,r)),this},t.Graphics.prototype.drawEllipse=function(e,i,r,n){return this.drawShape(new t.Ellipse(e,i,r,n)),this},t.Graphics.prototype.drawPolygon=function(e){return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.drawShape(new t.Polygon(e)),this},t.Graphics.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},t.Graphics.prototype.generateTexture=function(e,i){e=e||1;var r=this.getBounds(),n=new t.CanvasBuffer(r.width*e,r.height*e),s=t.Texture.fromCanvas(n.canvas,i);return s.baseTexture.resolution=e,n.context.scale(e,e),n.context.translate(-r.x,-r.y),t.CanvasGraphics.renderGraphics(this,n.context),s},t.Graphics.prototype._renderWebGL=function(e){if(!1!==this.visible&&0!==this.alpha&&!0!==this.isMask){if(this._cacheAsBitmap)return(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.worldAlpha=this.worldAlpha,void t.Sprite.prototype._renderWebGL.call(this._cachedSprite,e);if(e.spriteBatch.stop(),e.blendModeManager.setBlendMode(this.blendMode),this._mask&&e.maskManager.pushMask(this._mask,e),this._filters&&e.filterManager.pushFilter(this._filterBlock),this.blendMode!==e.spriteBatch.currentBlendMode){e.spriteBatch.currentBlendMode=this.blendMode;var i=t.blendModesWebGL[e.spriteBatch.currentBlendMode];e.spriteBatch.gl.blendFunc(i[0],i[1])}if(this.webGLDirty&&(this.dirty=!0,this.webGLDirty=!1),t.WebGLGraphics.renderGraphics(this,e),this.children.length){e.spriteBatch.start();for(var r=0,n=this.children.length;r<n;r++)this.children[r]._renderWebGL(e);e.spriteBatch.stop()}this._filters&&e.filterManager.popFilter(),this._mask&&e.maskManager.popMask(this.mask,e),e.drawCount++,e.spriteBatch.start()}},t.Graphics.prototype._renderCanvas=function(e){if(!1!==this.visible&&0!==this.alpha&&!0!==this.isMask){if(this._cacheAsBitmap)return(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.alpha=this.alpha,void t.Sprite.prototype._renderCanvas.call(this._cachedSprite,e);var i=e.context,r=this.worldTransform;this.blendMode!==e.currentBlendMode&&(e.currentBlendMode=this.blendMode,i.globalCompositeOperation=t.blendModesCanvas[e.currentBlendMode]),this._mask&&e.maskManager.pushMask(this._mask,e);var n=e.resolution;i.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n),t.CanvasGraphics.renderGraphics(this,i);for(var s=0,o=this.children.length;s<o;s++)this.children[s]._renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},t.Graphics.prototype.getBounds=function(e){if(this.isMask)return t.EmptyRectangle;this.dirty&&(this.updateLocalBounds(),this.webGLDirty=!0,this.cachedSpriteDirty=!0,this.dirty=!1);var i=this._localBounds,r=i.x,n=i.width+i.x,s=i.y,o=i.height+i.y,a=e||this.worldTransform,h=a.a,l=a.b,u=a.c,c=a.d,p=a.tx,d=a.ty,f=h*n+u*o+p,g=c*o+l*n+d,m=h*r+u*o+p,v=c*o+l*r+d,y=h*r+u*s+p,x=c*s+l*r+d,b=h*n+u*s+p,_=c*s+l*n+d,w=f,T=g,S=f,C=g;return S=b<(S=y<(S=m<S?m:S)?y:S)?b:S,C=_<(C=x<(C=v<C?v:C)?x:C)?_:C,w=b>(w=y>(w=m>w?m:w)?y:w)?b:w,T=_>(T=x>(T=v>T?v:T)?x:T)?_:T,this._bounds.x=S,this._bounds.width=w-S,this._bounds.y=C,this._bounds.height=T-C,this._bounds},t.Graphics.prototype.updateLocalBounds=function(){var e=1/0,i=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var s,o,a,h,l,u,c=0;c<this.graphicsData.length;c++){var p=this.graphicsData[c],d=p.type,f=p.lineWidth;if(s=p.shape,d===t.Graphics.RECT||d===t.Graphics.RREC)a=s.x-f/2,h=s.y-f/2,l=s.width+f,u=s.height+f,e=a<e?a:e,i=a+l>i?a+l:i,r=h<r?h:r,n=h+u>n?h+u:n;else if(d===t.Graphics.CIRC)a=s.x,h=s.y,l=s.radius+f/2,u=s.radius+f/2,e=a-l<e?a-l:e,i=a+l>i?a+l:i,r=h-u<r?h-u:r,n=h+u>n?h+u:n;else if(d===t.Graphics.ELIP)a=s.x,h=s.y,l=s.width+f/2,u=s.height+f/2,e=a-l<e?a-l:e,i=a+l>i?a+l:i,r=h-u<r?h-u:r,n=h+u>n?h+u:n;else{o=s.points;for(var g=0;g<o.length;g+=2)a=o[g],h=o[g+1],e=a-f<e?a-f:e,i=a+f>i?a+f:i,r=h-f<r?h-f:r,n=h+f>n?h+f:n}}else e=0,i=0,r=0,n=0;var m=this.boundsPadding;this._localBounds.x=e-m,this._localBounds.width=i-e+2*m,this._localBounds.y=r-m,this._localBounds.height=n-r+2*m},t.Graphics.prototype._generateCachedSprite=function(){var e=this.getLocalBounds();if(this._cachedSprite)this._cachedSprite.buffer.resize(e.width,e.height);else{var i=new t.CanvasBuffer(e.width,e.height),r=t.Texture.fromCanvas(i.canvas);this._cachedSprite=new t.Sprite(r),this._cachedSprite.buffer=i,this._cachedSprite.worldTransform=this.worldTransform}this._cachedSprite.anchor.x=-e.x/e.width,this._cachedSprite.anchor.y=-e.y/e.height,this._cachedSprite.buffer.context.translate(-e.x,-e.y),this.worldAlpha=1,t.CanvasGraphics.renderGraphics(this,this._cachedSprite.buffer.context),this._cachedSprite.alpha=this.alpha},t.Graphics.prototype.updateCachedSpriteTexture=function(){var t=this._cachedSprite,e=t.texture,i=t.buffer.canvas;e.baseTexture.width=i.width,e.baseTexture.height=i.height,e.crop.width=e.frame.width=i.width,e.crop.height=e.frame.height=i.height,t._width=i.width,t._height=i.height,e.baseTexture.dirty()},t.Graphics.prototype.destroyCachedSprite=function(){this._cachedSprite.texture.destroy(!0),this._cachedSprite=null},t.Graphics.prototype.drawShape=function(e){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var i=new t.GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,e);return this.graphicsData.push(i),i.type===t.Graphics.POLY&&(i.shape.closed=this.filling,this.currentPath=i),this.dirty=!0,i},t.GraphicsData=function(t,e,i,r,n,s,o){this.lineWidth=t,this.lineColor=e,this.lineAlpha=i,this.fillColor=r,this.fillAlpha=n,this.fill=s,this.shape=o,this.type=o.type},t.Graphics.POLY=0,t.Graphics.RECT=1,t.Graphics.CIRC=2,t.Graphics.ELIP=3,t.Graphics.RREC=4,t.Polygon.prototype.type=t.Graphics.POLY,t.Rectangle.prototype.type=t.Graphics.RECT,t.Circle.prototype.type=t.Graphics.CIRC,t.Ellipse.prototype.type=t.Graphics.ELIP,t.RoundedRectangle.prototype.type=t.Graphics.RREC,t.Strip=function(e){t.DisplayObjectContainer.call(this),this.texture=e,this.uvs=new t.Float32Array([0,1,1,1,1,0,0,1]),this.verticies=new t.Float32Array([0,0,100,0,100,100,0,100]),this.colors=new t.Float32Array([1,1,1,1]),this.indices=new t.Uint16Array([0,1,2,3]),this.dirty=!0,this.blendMode=t.blendModes.NORMAL,this.padding=0},t.Strip.prototype=Object.create(t.DisplayObjectContainer.prototype),t.Strip.prototype.constructor=t.Strip,t.Strip.prototype._renderWebGL=function(t){!this.visible||this.alpha<=0||(t.spriteBatch.stop(),this._vertexBuffer||this._initWebGL(t),t.shaderManager.setShader(t.shaderManager.stripShader),this._renderStrip(t),t.spriteBatch.start())},t.Strip.prototype._initWebGL=function(t){var e=t.gl;this._vertexBuffer=e.createBuffer(),this._indexBuffer=e.createBuffer(),this._uvBuffer=e.createBuffer(),this._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.verticies,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this._colorBuffer),e.bufferData(e.ARRAY_BUFFER,this.colors,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)},t.Strip.prototype._renderStrip=function(t){var e=t.gl,i=t.projection,r=t.offset,n=t.shaderManager.stripShader;t.blendModeManager.setBlendMode(this.blendMode),e.uniformMatrix3fv(n.translationMatrix,!1,this.worldTransform.toArray(!0)),e.uniform2f(n.projectionVector,i.x,-i.y),e.uniform2f(n.offsetVector,-r.x,-r.y),e.uniform1f(n.alpha,this.worldAlpha),this.dirty?(this.dirty=!1,e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.verticies,e.STATIC_DRAW),e.vertexAttribPointer(n.aVertexPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW),e.vertexAttribPointer(n.aTextureCoord,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),this.texture.baseTexture._dirty[e.id]?t.renderer.updateTexture(this.texture.baseTexture):e.bindTexture(e.TEXTURE_2D,this.texture.baseTexture._glTextures[e.id]),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)):(e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this.verticies),e.vertexAttribPointer(n.aVertexPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.vertexAttribPointer(n.aTextureCoord,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),this.texture.baseTexture._dirty[e.id]?t.renderer.updateTexture(this.texture.baseTexture):e.bindTexture(e.TEXTURE_2D,this.texture.baseTexture._glTextures[e.id]),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer)),e.drawElements(e.TRIANGLE_STRIP,this.indices.length,e.UNSIGNED_SHORT,0)},t.Strip.prototype._renderCanvas=function(t){var e=t.context,i=this.worldTransform;t.roundPixels?e.setTransform(i.a,i.b,i.c,i.d,0|i.tx,0|i.ty):e.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty);var r=this.verticies,n=this.uvs,s=r.length/2;this.count++;for(var o=0;o<s-2;o++){var a=2*o,h=r[a],l=r[a+2],u=r[a+4],c=r[a+1],p=r[a+3],d=r[a+5];if(this.padding>0){var f=(h+l+u)/3,g=(c+p+d)/3,m=h-f,v=c-g,y=Math.sqrt(m*m+v*v);h=f+m/y*(y+3),c=g+v/y*(y+3),v=p-g,l=f+(m=l-f)/(y=Math.sqrt(m*m+v*v))*(y+3),p=g+v/y*(y+3),v=d-g,u=f+(m=u-f)/(y=Math.sqrt(m*m+v*v))*(y+3),d=g+v/y*(y+3)}var x=n[a]*this.texture.width,b=n[a+2]*this.texture.width,_=n[a+4]*this.texture.width,w=n[a+1]*this.texture.height,T=n[a+3]*this.texture.height,S=n[a+5]*this.texture.height;e.save(),e.beginPath(),e.moveTo(h,c),e.lineTo(l,p),e.lineTo(u,d),e.closePath(),e.clip();var C=x*T+w*_+b*S-T*_-w*b-x*S,E=h*T+w*u+l*S-T*u-w*l-h*S,A=x*l+h*_+b*u-l*_-h*b-x*u,k=x*T*u+w*l*_+h*b*S-h*T*_-w*b*u-x*l*S,M=c*T+w*d+p*S-T*d-w*p-c*S,R=x*p+c*_+b*d-p*_-c*b-x*d,P=x*T*d+w*p*_+c*b*S-c*T*_-w*b*d-x*p*S;e.transform(E/C,M/C,A/C,R/C,k/C,P/C),e.drawImage(this.texture.baseTexture.source,0,0),e.restore()}},t.Strip.prototype.renderStripFlat=function(t){var e=this.context,i=t.verticies,r=i.length/2;this.count++,e.beginPath();for(var n=1;n<r-2;n++){var s=2*n,o=i[s],a=i[s+2],h=i[s+4],l=i[s+1],u=i[s+3],c=i[s+5];e.moveTo(o,l),e.lineTo(a,u),e.lineTo(h,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.Strip.prototype.onTextureUpdate=function(){this.updateFrame=!0},t.Rope=function(e,i){t.Strip.call(this,e),this.points=i,this.verticies=new t.Float32Array(4*i.length),this.uvs=new t.Float32Array(4*i.length),this.colors=new t.Float32Array(2*i.length),this.indices=new t.Uint16Array(2*i.length),this.refresh()},t.Rope.prototype=Object.create(t.Strip.prototype),t.Rope.prototype.constructor=t.Rope,t.Rope.prototype.refresh=function(){var t=this.points;if(!(t.length<1)){var e=this.uvs,i=(t[0],this.indices),r=this.colors;this.count-=.2,e[0]=0,e[1]=0,e[2]=0,e[3]=1,r[0]=1,r[1]=1,i[0]=0,i[1]=1;for(var n,s,o,a=t.length,h=1;h<a;h++)n=t[h],o=h/(a-1),e[s=4*h]=o,e[s+1]=0,e[s+2]=o,e[s+3]=1,r[s=2*h]=1,r[s+1]=1,i[s=2*h]=s,i[s+1]=s+1,n}},t.Rope.prototype.updateTransform=function(){var e=this.points;if(!(e.length<1)){var i,r=e[0],n={x:0,y:0};this.count-=.2;for(var s,o,a,h,l=this.verticies,u=e.length,c=0;c<u;c++)s=e[c],o=4*c,i=c<e.length-1?e[c+1]:s,n.y=-(i.x-r.x),n.x=i.y-r.y,10*(1-c/(u-1))>1&&1,a=Math.sqrt(n.x*n.x+n.y*n.y),h=this.texture.height/2,n.x/=a,n.y/=a,n.x*=h,n.y*=h,l[o]=s.x+n.x,l[o+1]=s.y+n.y,l[o+2]=s.x-n.x,l[o+3]=s.y-n.y,r=s;t.DisplayObjectContainer.prototype.updateTransform.call(this)}},t.Rope.prototype.setTexture=function(t){this.texture=t},t.TilingSprite=function(e,i,r){t.Sprite.call(this,e),this._width=i||100,this._height=r||100,this.tileScale=new t.Point(1,1),this.tileScaleOffset=new t.Point(1,1),this.tilePosition=new t.Point(0,0),this.renderable=!0,this.tint=16777215,this.blendMode=t.blendModes.NORMAL},t.TilingSprite.prototype=Object.create(t.Sprite.prototype),t.TilingSprite.prototype.constructor=t.TilingSprite,Object.defineProperty(t.TilingSprite.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t}}),Object.defineProperty(t.TilingSprite.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t}}),t.TilingSprite.prototype.setTexture=function(t){this.texture!==t&&(this.texture=t,this.refreshTexture=!0,this.cachedTint=16777215)},t.TilingSprite.prototype._renderWebGL=function(e){if(!1!==this.visible&&0!==this.alpha){var i,r;for(this._mask&&(e.spriteBatch.stop(),e.maskManager.pushMask(this.mask,e),e.spriteBatch.start()),this._filters&&(e.spriteBatch.flush(),e.filterManager.pushFilter(this._filterBlock)),!this.tilingTexture||this.refreshTexture?(this.generateTilingTexture(!0),this.tilingTexture&&this.tilingTexture.needsUpdate&&(t.updateWebGLTexture(this.tilingTexture.baseTexture,e.gl),this.tilingTexture.needsUpdate=!1)):e.spriteBatch.renderTilingSprite(this),i=0,r=this.children.length;i<r;i++)this.children[i]._renderWebGL(e);e.spriteBatch.stop(),this._filters&&e.filterManager.popFilter(),this._mask&&e.maskManager.popMask(this._mask,e),e.spriteBatch.start()}},t.TilingSprite.prototype._renderCanvas=function(e){if(!1!==this.visible&&0!==this.alpha){var i=e.context;this._mask&&e.maskManager.pushMask(this._mask,i),i.globalAlpha=this.worldAlpha;var r,n,s=this.worldTransform,o=e.resolution;if(i.setTransform(s.a*o,s.c*o,s.b*o,s.d*o,s.tx*o,s.ty*o),!this.__tilePattern||this.refreshTexture){if(this.generateTilingTexture(!1),!this.tilingTexture)return;this.__tilePattern=i.createPattern(this.tilingTexture.baseTexture.source,"repeat")}this.blendMode!==e.currentBlendMode&&(e.currentBlendMode=this.blendMode,i.globalCompositeOperation=t.blendModesCanvas[e.currentBlendMode]);var a=this.tilePosition,h=this.tileScale;for(a.x%=this.tilingTexture.baseTexture.width,a.y%=this.tilingTexture.baseTexture.height,i.scale(h.x,h.y),i.translate(a.x+this.anchor.x*-this._width,a.y+this.anchor.y*-this._height),i.fillStyle=this.__tilePattern,i.fillRect(-a.x,-a.y,this._width/h.x,this._height/h.y),i.scale(1/h.x,1/h.y),i.translate(-a.x+this.anchor.x*this._width,-a.y+this.anchor.y*this._height),this._mask&&e.maskManager.popMask(e.context),r=0,n=this.children.length;r<n;r++)this.children[r]._renderCanvas(e)}},t.TilingSprite.prototype.getBounds=function(){var t=this._width,e=this._height,i=t*(1-this.anchor.x),r=t*-this.anchor.x,n=e*(1-this.anchor.y),s=e*-this.anchor.y,o=this.worldTransform,a=o.a,h=o.b,l=o.c,u=o.d,c=o.tx,p=o.ty,d=a*r+l*s+c,f=u*s+h*r+p,g=a*i+l*s+c,m=u*s+h*i+p,v=a*i+l*n+c,y=u*n+h*i+p,x=a*r+l*n+c,b=u*n+h*r+p,_=-1/0,w=-1/0,T=1/0,S=1/0;T=x<(T=v<(T=g<(T=d<T?d:T)?g:T)?v:T)?x:T,S=b<(S=y<(S=m<(S=f<S?f:S)?m:S)?y:S)?b:S,_=x>(_=v>(_=g>(_=d>_?d:_)?g:_)?v:_)?x:_,w=b>(w=y>(w=m>(w=f>w?f:w)?m:w)?y:w)?b:w;var C=this._bounds;return C.x=T,C.width=_-T,C.y=S,C.height=w-S,this._currentBounds=C,C},t.TilingSprite.prototype.onTextureUpdate=function(){},t.TilingSprite.prototype.generateTilingTexture=function(e){if(this.texture.baseTexture.hasLoaded){var i,r,n=this.originalTexture||this.texture,s=n.frame,o=s.width!==n.baseTexture.width||s.height!==n.baseTexture.height,a=!1;if(e?(i=t.getNextPowerOfTwo(s.width),r=t.getNextPowerOfTwo(s.height),s.width===i&&s.height===r||(a=!0)):o&&(i=s.width,r=s.height,a=!0),a){var h;this.tilingTexture&&this.tilingTexture.isTiling?((h=this.tilingTexture.canvasBuffer).resize(i,r),this.tilingTexture.baseTexture.width=i,this.tilingTexture.baseTexture.height=r,this.tilingTexture.needsUpdate=!0):(h=new t.CanvasBuffer(i,r),this.tilingTexture=t.Texture.fromCanvas(h.canvas),this.tilingTexture.canvasBuffer=h,this.tilingTexture.isTiling=!0),h.context.drawImage(n.baseTexture.source,n.crop.x,n.crop.y,n.crop.width,n.crop.height,0,0,i,r),this.tileScaleOffset.x=s.width/i,this.tileScaleOffset.y=s.height/r}else this.tilingTexture&&this.tilingTexture.isTiling&&this.tilingTexture.destroy(!0),this.tileScaleOffset.x=1,this.tileScaleOffset.y=1,this.tilingTexture=n;this.refreshTexture=!1,this.originalTexture=this.texture,this.texture=this.tilingTexture,this.tilingTexture.baseTexture._powerOf2=!0}};var e={};e.BoneData=function(t,e){this.name=t,this.parent=e},e.BoneData.prototype={length:0,x:0,y:0,rotation:0,scaleX:1,scaleY:1},e.SlotData=function(t,e){this.name=t,this.boneData=e},e.SlotData.prototype={r:1,g:1,b:1,a:1,attachmentName:null},e.Bone=function(t,e){this.data=t,this.parent=e,this.setToSetupPose()},e.Bone.yDown=!1,e.Bone.prototype={x:0,y:0,rotation:0,scaleX:1,scaleY:1,m00:0,m01:0,worldX:0,m10:0,m11:0,worldY:0,worldRotation:0,worldScaleX:1,worldScaleY:1,updateWorldTransform:function(t,i){var r=this.parent;null!=r?(this.worldX=this.x*r.m00+this.y*r.m01+r.worldX,this.worldY=this.x*r.m10+this.y*r.m11+r.worldY,this.worldScaleX=r.worldScaleX*this.scaleX,this.worldScaleY=r.worldScaleY*this.scaleY,this.worldRotation=r.worldRotation+this.rotation):(this.worldX=this.x,this.worldY=this.y,this.worldScaleX=this.scaleX,this.worldScaleY=this.scaleY,this.worldRotation=this.rotation);var n=this.worldRotation*Math.PI/180,s=Math.cos(n),o=Math.sin(n);this.m00=s*this.worldScaleX,this.m10=o*this.worldScaleX,this.m01=-o*this.worldScaleY,this.m11=s*this.worldScaleY,t&&(this.m00=-this.m00,this.m01=-this.m01),i&&(this.m10=-this.m10,this.m11=-this.m11),e.Bone.yDown&&(this.m10=-this.m10,this.m11=-this.m11)},setToSetupPose:function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY}},e.Slot=function(t,e,i){this.data=t,this.skeleton=e,this.bone=i,this.setToSetupPose()},e.Slot.prototype={r:1,g:1,b:1,a:1,_attachmentTime:0,attachment:null,setAttachment:function(t){this.attachment=t,this._attachmentTime=this.skeleton.time},setAttachmentTime:function(t){this._attachmentTime=this.skeleton.time-t},getAttachmentTime:function(){return this.skeleton.time-this._attachmentTime},setToSetupPose:function(){var t=this.data;this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a;for(var e=this.skeleton.data.slots,i=0,r=e.length;i<r;i++)if(e[i]==t){this.setAttachment(t.attachmentName?this.skeleton.getAttachmentBySlotIndex(i,t.attachmentName):null);break}}},e.Skin=function(t){this.name=t,this.attachments={}},e.Skin.prototype={addAttachment:function(t,e,i){this.attachments[t+":"+e]=i},getAttachment:function(t,e){return this.attachments[t+":"+e]},_attachAll:function(t,e){for(var i in e.attachments){var r=i.indexOf(":"),n=parseInt(i.substring(0,r),10),s=i.substring(r+1),o=t.slots[n];if(o.attachment&&o.attachment.name==s){var a=this.getAttachment(n,s);a&&o.setAttachment(a)}}}},e.Animation=function(t,e,i){this.name=t,this.timelines=e,this.duration=i},e.Animation.prototype={apply:function(t,e,i){i&&this.duration&&(e%=this.duration);for(var r=this.timelines,n=0,s=r.length;n<s;n++)r[n].apply(t,e,1)},mix:function(t,e,i,r){i&&this.duration&&(e%=this.duration);for(var n=this.timelines,s=0,o=n.length;s<o;s++)n[s].apply(t,e,r)}},e.binarySearch=function(t,e,i){var r=0,n=Math.floor(t.length/i)-2;if(!n)return i;for(var s=n>>>1;;){if(t[(s+1)*i]<=e?r=s+1:n=s,r==n)return(r+1)*i;s=r+n>>>1}},e.linearSearch=function(t,e,i){for(var r=0,n=t.length-i;r<=n;r+=i)if(t[r]>e)return r;return-1},e.Curves=function(t){this.curves=[],this.curves.length=6*(t-1)},e.Curves.prototype={setLinear:function(t){this.curves[6*t]=0},setStepped:function(t){this.curves[6*t]=-1},setCurve:function(t,e,i,r,n){var s=.1*.1*.1*6,o=2*-e+r,a=2*-i+n,h=3*(e-r)+1,l=3*(i-n)+1,u=6*t,c=this.curves;c[u]=e*(3*.1)+o*(.1*.1*3)+h*(.1*.1*.1),c[u+1]=i*(3*.1)+a*(.1*.1*3)+l*(.1*.1*.1),c[u+2]=o*(.1*.1*6)+h*s,c[u+3]=a*(.1*.1*6)+l*s,c[u+4]=h*s,c[u+5]=l*s},getCurvePercent:function(t,e){e=e<0?0:e>1?1:e;var i=6*t,r=this.curves,n=r[i];if(!n)return e;if(-1==n)return 0;for(var s=r[i+1],o=r[i+2],a=r[i+3],h=r[i+4],l=r[i+5],u=n,c=s,p=8;;){if(u>=e){var d=u-n,f=c-s;return f+(c-f)*(e-d)/(u-d)}if(!p)break;p--,n+=o,s+=a,o+=h,a+=l,u+=n,c+=s}return c+(1-c)*(e-u)/(1-u)}},e.RotateTimeline=function(t){this.curves=new e.Curves(t),this.frames=[],this.frames.length=2*t},e.RotateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(t,e,i){t*=2,this.frames[t]=e,this.frames[t+1]=i},apply:function(t,i,r){var n,s=this.frames;if(!(i<s[0])){var o=t.bones[this.boneIndex];if(i>=s[s.length-2]){for(n=o.data.rotation+s[s.length-1]-o.rotation;n>180;)n-=360;for(;n<-180;)n+=360;o.rotation+=n*r}else{var a=e.binarySearch(s,i,2),h=s[a-1],l=s[a],u=1-(i-l)/(s[a-2]-l);for(u=this.curves.getCurvePercent(a/2-1,u),n=s[a+1]-h;n>180;)n-=360;for(;n<-180;)n+=360;for(n=o.data.rotation+(h+n*u)-o.rotation;n>180;)n-=360;for(;n<-180;)n+=360;o.rotation+=n*r}}}},e.TranslateTimeline=function(t){this.curves=new e.Curves(t),this.frames=[],this.frames.length=3*t},e.TranslateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,i,r){t*=3,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=r},apply:function(t,i,r){var n=this.frames;if(!(i<n[0])){var s=t.bones[this.boneIndex];if(i>=n[n.length-3])return s.x+=(s.data.x+n[n.length-2]-s.x)*r,void(s.y+=(s.data.y+n[n.length-1]-s.y)*r);var o=e.binarySearch(n,i,3),a=n[o-2],h=n[o-1],l=n[o],u=1-(i-l)/(n[o+-3]-l);u=this.curves.getCurvePercent(o/3-1,u),s.x+=(s.data.x+a+(n[o+1]-a)*u-s.x)*r,s.y+=(s.data.y+h+(n[o+2]-h)*u-s.y)*r}}},e.ScaleTimeline=function(t){this.curves=new e.Curves(t),this.frames=[],this.frames.length=3*t},e.ScaleTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,i,r){t*=3,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=r},apply:function(t,i,r){var n=this.frames;if(!(i<n[0])){var s=t.bones[this.boneIndex];if(i>=n[n.length-3])return s.scaleX+=(s.data.scaleX-1+n[n.length-2]-s.scaleX)*r,void(s.scaleY+=(s.data.scaleY-1+n[n.length-1]-s.scaleY)*r);var o=e.binarySearch(n,i,3),a=n[o-2],h=n[o-1],l=n[o],u=1-(i-l)/(n[o+-3]-l);u=this.curves.getCurvePercent(o/3-1,u),s.scaleX+=(s.data.scaleX-1+a+(n[o+1]-a)*u-s.scaleX)*r,s.scaleY+=(s.data.scaleY-1+h+(n[o+2]-h)*u-s.scaleY)*r}}},e.ColorTimeline=function(t){this.curves=new e.Curves(t),this.frames=[],this.frames.length=5*t},e.ColorTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length/5},setFrame:function(t,e,i,r,n,s){t*=5,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=r,this.frames[t+3]=n,this.frames[t+4]=s},apply:function(t,i,r){var n=this.frames;if(!(i<n[0])){var s=t.slots[this.slotIndex];if(i>=n[n.length-5]){var o=n.length-1;return s.r=n[o-3],s.g=n[o-2],s.b=n[o-1],void(s.a=n[o])}var a=e.binarySearch(n,i,5),h=n[a-4],l=n[a-3],u=n[a-2],c=n[a-1],p=n[a],d=1-(i-p)/(n[a-5]-p);d=this.curves.getCurvePercent(a/5-1,d);var f=h+(n[a+1]-h)*d,g=l+(n[a+2]-l)*d,m=u+(n[a+3]-u)*d,v=c+(n[a+4]-c)*d;r<1?(s.r+=(f-s.r)*r,s.g+=(g-s.g)*r,s.b+=(m-s.b)*r,s.a+=(v-s.a)*r):(s.r=f,s.g=g,s.b=m,s.a=v)}}},e.AttachmentTimeline=function(t){this.curves=new e.Curves(t),this.frames=[],this.frames.length=t,this.attachmentNames=[],this.attachmentNames.length=t},e.AttachmentTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length},setFrame:function(t,e,i){this.frames[t]=e,this.attachmentNames[t]=i},apply:function(t,i,r){var n=this.frames;if(!(i<n[0])){var s;s=i>=n[n.length-1]?n.length-1:e.binarySearch(n,i,1)-1;var o=this.attachmentNames[s];t.slots[this.slotIndex].setAttachment(o?t.getAttachmentBySlotIndex(this.slotIndex,o):null)}}},e.SkeletonData=function(){this.bones=[],this.slots=[],this.skins=[],this.animations=[]},e.SkeletonData.prototype={defaultSkin:null,findBone:function(t){for(var e=this.bones,i=0,r=e.length;i<r;i++)if(e[i].name==t)return e[i];return null},findBoneIndex:function(t){for(var e=this.bones,i=0,r=e.length;i<r;i++)if(e[i].name==t)return i;return-1},findSlot:function(t){for(var e=this.slots,i=0,r=e.length;i<r;i++)if(e[i].name==t)return slot[i];return null},findSlotIndex:function(t){for(var e=this.slots,i=0,r=e.length;i<r;i++)if(e[i].name==t)return i;return-1},findSkin:function(t){for(var e=this.skins,i=0,r=e.length;i<r;i++)if(e[i].name==t)return e[i];return null},findAnimation:function(t){for(var e=this.animations,i=0,r=e.length;i<r;i++)if(e[i].name==t)return e[i];return null}},e.Skeleton=function(t){this.data=t,this.bones=[];for(var i=0,r=t.bones.length;i<r;i++){var n=t.bones[i],s=n.parent?this.bones[t.bones.indexOf(n.parent)]:null;this.bones.push(new e.Bone(n,s))}for(this.slots=[],this.drawOrder=[],i=0,r=t.slots.length;i<r;i++){var o=t.slots[i],a=this.bones[t.bones.indexOf(o.boneData)],h=new e.Slot(o,this,a);this.slots.push(h),this.drawOrder.push(h)}},e.Skeleton.prototype={x:0,y:0,skin:null,r:1,g:1,b:1,a:1,time:0,flipX:!1,flipY:!1,updateWorldTransform:function(){for(var t=this.flipX,e=this.flipY,i=this.bones,r=0,n=i.length;r<n;r++)i[r].updateWorldTransform(t,e)},setToSetupPose:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},setBonesToSetupPose:function(){for(var t=this.bones,e=0,i=t.length;e<i;e++)t[e].setToSetupPose()},setSlotsToSetupPose:function(){for(var t=this.slots,e=0,i=t.length;e<i;e++)t[e].setToSetupPose(e)},getRootBone:function(){return this.bones.length?this.bones[0]:null},findBone:function(t){for(var e=this.bones,i=0,r=e.length;i<r;i++)if(e[i].data.name==t)return e[i];return null},findBoneIndex:function(t){for(var e=this.bones,i=0,r=e.length;i<r;i++)if(e[i].data.name==t)return i;return-1},findSlot:function(t){for(var e=this.slots,i=0,r=e.length;i<r;i++)if(e[i].data.name==t)return e[i];return null},findSlotIndex:function(t){for(var e=this.slots,i=0,r=e.length;i<r;i++)if(e[i].data.name==t)return i;return-1},setSkinByName:function(t){var e=this.data.findSkin(t);if(!e)throw"Skin not found: "+t;this.setSkin(e)},setSkin:function(t){this.skin&&t&&t._attachAll(this,this.skin),this.skin=t},getAttachmentBySlotName:function(t,e){return this.getAttachmentBySlotIndex(this.data.findSlotIndex(t),e)},getAttachmentBySlotIndex:function(t,e){if(this.skin){var i=this.skin.getAttachment(t,e);if(i)return i}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},setAttachment:function(t,e){for(var i=this.slots,r=0,n=i.size;r<n;r++){var s=i[r];if(s.data.name==t){var o=null;if(e&&null==(o=this.getAttachment(r,e)))throw"Attachment not found: "+e+", for slot: "+t;return void s.setAttachment(o)}}throw"Slot not found: "+t},update:function(t){time+=t}},e.AttachmentType={region:0},e.RegionAttachment=function(){this.offset=[],this.offset.length=8,this.uvs=[],this.uvs.length=8},e.RegionAttachment.prototype={x:0,y:0,rotation:0,scaleX:1,scaleY:1,width:0,height:0,rendererObject:null,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,setUVs:function(t,e,i,r,n){var s=this.uvs;n?(s[2]=t,s[3]=r,s[4]=t,s[5]=e,s[6]=i,s[7]=e,s[0]=i,s[1]=r):(s[0]=t,s[1]=r,s[2]=t,s[3]=e,s[4]=i,s[5]=e,s[6]=i,s[7]=r)},updateOffset:function(){var t=this.width/this.regionOriginalWidth*this.scaleX,e=this.height/this.regionOriginalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.regionOffsetX*t,r=-this.height/2*this.scaleY+this.regionOffsetY*e,n=i+this.regionWidth*t,s=r+this.regionHeight*e,o=this.rotation*Math.PI/180,a=Math.cos(o),h=Math.sin(o),l=i*a+this.x,u=i*h,c=r*a+this.y,p=r*h,d=n*a+this.x,f=n*h,g=s*a+this.y,m=s*h,v=this.offset;v[0]=l-p,v[1]=c+u,v[2]=l-m,v[3]=g+u,v[4]=d-m,v[5]=g+f,v[6]=d-p,v[7]=c+f},computeVertices:function(t,e,i,r){t+=i.worldX,e+=i.worldY;var n=i.m00,s=i.m01,o=i.m10,a=i.m11,h=this.offset;r[0]=h[0]*n+h[1]*s+t,r[1]=h[0]*o+h[1]*a+e,r[2]=h[2]*n+h[3]*s+t,r[3]=h[2]*o+h[3]*a+e,r[4]=h[4]*n+h[5]*s+t,r[5]=h[4]*o+h[5]*a+e,r[6]=h[6]*n+h[7]*s+t,r[7]=h[6]*o+h[7]*a+e}},e.AnimationStateData=function(t){this.skeletonData=t,this.animationToMixTime={}},e.AnimationStateData.prototype={defaultMix:0,setMixByName:function(t,e,i){var r=this.skeletonData.findAnimation(t);if(!r)throw"Animation not found: "+t;var n=this.skeletonData.findAnimation(e);if(!n)throw"Animation not found: "+e;this.setMix(r,n,i)},setMix:function(t,e,i){this.animationToMixTime[t.name+":"+e.name]=i},getMix:function(t,e){var i=this.animationToMixTime[t.name+":"+e.name];return i||this.defaultMix}},e.AnimationState=function(t){this.data=t,this.queue=[]},e.AnimationState.prototype={animationSpeed:1,current:null,previous:null,currentTime:0,previousTime:0,currentLoop:!1,previousLoop:!1,mixTime:0,mixDuration:0,update:function(t){if(this.currentTime+=t*this.animationSpeed,this.previousTime+=t,this.mixTime+=t,this.queue.length>0){var e=this.queue[0];this.currentTime>=e.delay&&(this._setAnimation(e.animation,e.loop),this.queue.shift())}},apply:function(t){if(this.current)if(this.previous){this.previous.apply(t,this.previousTime,this.previousLoop);var e=this.mixTime/this.mixDuration;e>=1&&(e=1,this.previous=null),this.current.mix(t,this.currentTime,this.currentLoop,e)}else this.current.apply(t,this.currentTime,this.currentLoop)},clearAnimation:function(){this.previous=null,this.current=null,this.queue.length=0},_setAnimation:function(t,e){this.previous=null,t&&this.current&&(this.mixDuration=this.data.getMix(this.current,t),this.mixDuration>0&&(this.mixTime=0,this.previous=this.current,this.previousTime=this.currentTime,this.previousLoop=this.currentLoop)),this.current=t,this.currentLoop=e,this.currentTime=0},setAnimationByName:function(t,e){var i=this.data.skeletonData.findAnimation(t);if(!i)throw"Animation not found: "+t;this.setAnimation(i,e)},setAnimation:function(t,e){this.queue.length=0,this._setAnimation(t,e)},addAnimationByName:function(t,e,i){var r=this.data.skeletonData.findAnimation(t);if(!r)throw"Animation not found: "+t;this.addAnimation(r,e,i)},addAnimation:function(t,e,i){var r={};if(r.animation=t,r.loop=e,!i||i<=0){var n=this.queue.length?this.queue[this.queue.length-1].animation:this.current;i=null!=n?n.duration-this.data.getMix(n,t)+(i||0):0}r.delay=i,this.queue.push(r)},isComplete:function(){return!this.current||this.currentTime>=this.current.duration}},e.SkeletonJson=function(t){this.attachmentLoader=t},e.SkeletonJson.prototype={scale:1,readSkeletonData:function(t){for(var i,r=new e.SkeletonData,n=t.bones,s=0,o=n.length;s<o;s++){var a=n[s],h=null;if(a.parent&&!(h=r.findBone(a.parent)))throw"Parent bone not found: "+a.parent;(i=new e.BoneData(a.name,h)).length=(a.length||0)*this.scale,i.x=(a.x||0)*this.scale,i.y=(a.y||0)*this.scale,i.rotation=a.rotation||0,i.scaleX=a.scaleX||1,i.scaleY=a.scaleY||1,r.bones.push(i)}var l=t.slots;for(s=0,o=l.length;s<o;s++){var u=l[s];if(!(i=r.findBone(u.bone)))throw"Slot bone not found: "+u.bone;var c=new e.SlotData(u.name,i),p=u.color;p&&(c.r=e.SkeletonJson.toColor(p,0),c.g=e.SkeletonJson.toColor(p,1),c.b=e.SkeletonJson.toColor(p,2),c.a=e.SkeletonJson.toColor(p,3)),c.attachmentName=u.attachment,r.slots.push(c)}var d=t.skins;for(var f in d)if(d.hasOwnProperty(f)){var g=d[f],m=new e.Skin(f);for(var v in g)if(g.hasOwnProperty(v)){var y=r.findSlotIndex(v),x=g[v];for(var b in x)if(x.hasOwnProperty(b)){var _=this.readAttachment(m,b,x[b]);null!=_&&m.addAttachment(y,b,_)}}r.skins.push(m),"default"==m.name&&(r.defaultSkin=m)}var w=t.animations;for(var T in w)w.hasOwnProperty(T)&&this.readAnimation(T,w[T],r);return r},readAttachment:function(t,i,r){i=r.name||i;var n=e.AttachmentType[r.type||"region"];if(n==e.AttachmentType.region){var s=new e.RegionAttachment;return s.x=(r.x||0)*this.scale,s.y=(r.y||0)*this.scale,s.scaleX=r.scaleX||1,s.scaleY=r.scaleY||1,s.rotation=r.rotation||0,s.width=(r.width||32)*this.scale,s.height=(r.height||32)*this.scale,s.updateOffset(),s.rendererObject={},s.rendererObject.name=i,s.rendererObject.scale={},s.rendererObject.scale.x=s.scaleX,s.rendererObject.scale.y=s.scaleY,s.rendererObject.rotation=-s.rotation*Math.PI/180,s}throw"Unknown attachment type: "+n},readAnimation:function(t,i,r){var n,s,o,a,h,l,u,c=[],p=0,d=i.bones;for(var f in d)if(d.hasOwnProperty(f)){var g=r.findBoneIndex(f);if(-1==g)throw"Bone not found: "+f;var m=d[f];for(o in m)if(m.hasOwnProperty(o))if(h=m[o],"rotate"==o){for((s=new e.RotateTimeline(h.length)).boneIndex=g,n=0,l=0,u=h.length;l<u;l++)a=h[l],s.setFrame(n,a.time,a.angle),e.SkeletonJson.readCurve(s,n,a),n++;c.push(s),p=Math.max(p,s.frames[2*s.getFrameCount()-2])}else{if("translate"!=o&&"scale"!=o)throw"Invalid timeline type for a bone: "+o+" ("+f+")";var v=1;for("scale"==o?s=new e.ScaleTimeline(h.length):(s=new e.TranslateTimeline(h.length),v=this.scale),s.boneIndex=g,n=0,l=0,u=h.length;l<u;l++){var y=((a=h[l]).x||0)*v,x=(a.y||0)*v;s.setFrame(n,a.time,y,x),e.SkeletonJson.readCurve(s,n,a),n++}c.push(s),p=Math.max(p,s.frames[3*s.getFrameCount()-3])}}var b=i.slots;for(var _ in b)if(b.hasOwnProperty(_)){var w=b[_],T=r.findSlotIndex(_);for(o in w)if(w.hasOwnProperty(o))if(h=w[o],"color"==o){for((s=new e.ColorTimeline(h.length)).slotIndex=T,n=0,l=0,u=h.length;l<u;l++){var S=(a=h[l]).color,C=e.SkeletonJson.toColor(S,0),E=e.SkeletonJson.toColor(S,1),A=e.SkeletonJson.toColor(S,2),k=e.SkeletonJson.toColor(S,3);s.setFrame(n,a.time,C,E,A,k),e.SkeletonJson.readCurve(s,n,a),n++}c.push(s),p=Math.max(p,s.frames[5*s.getFrameCount()-5])}else{if("attachment"!=o)throw"Invalid timeline type for a slot: "+o+" ("+_+")";for((s=new e.AttachmentTimeline(h.length)).slotIndex=T,n=0,l=0,u=h.length;l<u;l++)a=h[l],s.setFrame(n++,a.time,a.name);c.push(s),p=Math.max(p,s.frames[s.getFrameCount()-1])}}r.animations.push(new e.Animation(t,c,p))}},e.SkeletonJson.readCurve=function(t,e,i){var r=i.curve;r&&("stepped"==r?t.curves.setStepped(e):r instanceof Array&&t.curves.setCurve(e,r[0],r[1],r[2],r[3]))},e.SkeletonJson.toColor=function(t,e){if(8!=t.length)throw"Color hexidecimal length must be 8, recieved: "+t;return parseInt(t.substr(2*e,2),16)/255},e.Atlas=function(t,i){this.textureLoader=i,this.pages=[],this.regions=[];var r=new e.AtlasReader(t),n=[];n.length=4;for(var s=null;;){var o=r.readLine();if(null==o)break;if((o=r.trim(o)).length)if(s){var a=new e.AtlasRegion;a.name=o,a.page=s,a.rotate="true"==r.readValue(),r.readTuple(n);var h=parseInt(n[0],10),l=parseInt(n[1],10);r.readTuple(n);var u=parseInt(n[0],10),c=parseInt(n[1],10);a.u=h/s.width,a.v=l/s.height,a.rotate?(a.u2=(h+c)/s.width,a.v2=(l+u)/s.height):(a.u2=(h+u)/s.width,a.v2=(l+c)/s.height),a.x=h,a.y=l,a.width=Math.abs(u),a.height=Math.abs(c),4==r.readTuple(n)&&(a.splits=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)],4==r.readTuple(n)&&(a.pads=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)],r.readTuple(n))),a.originalWidth=parseInt(n[0],10),a.originalHeight=parseInt(n[1],10),r.readTuple(n),a.offsetX=parseInt(n[0],10),a.offsetY=parseInt(n[1],10),a.index=parseInt(r.readValue(),10),this.regions.push(a)}else{(s=new e.AtlasPage).name=o,s.format=e.Atlas.Format[r.readValue()],r.readTuple(n),s.minFilter=e.Atlas.TextureFilter[n[0]],s.magFilter=e.Atlas.TextureFilter[n[1]];var p=r.readValue();s.uWrap=e.Atlas.TextureWrap.clampToEdge,s.vWrap=e.Atlas.TextureWrap.clampToEdge,"x"==p?s.uWrap=e.Atlas.TextureWrap.repeat:"y"==p?s.vWrap=e.Atlas.TextureWrap.repeat:"xy"==p&&(s.uWrap=s.vWrap=e.Atlas.TextureWrap.repeat),i.load(s,o),this.pages.push(s)}else s=null}},e.Atlas.prototype={findRegion:function(t){for(var e=this.regions,i=0,r=e.length;i<r;i++)if(e[i].name==t)return e[i];return null},dispose:function(){for(var t=this.pages,e=0,i=t.length;e<i;e++)this.textureLoader.unload(t[e].rendererObject)},updateUVs:function(t){for(var e=this.regions,i=0,r=e.length;i<r;i++){var n=e[i];n.page==t&&(n.u=n.x/t.width,n.v=n.y/t.height,n.rotate?(n.u2=(n.x+n.height)/t.width,n.v2=(n.y+n.width)/t.height):(n.u2=(n.x+n.width)/t.width,n.v2=(n.y+n.height)/t.height))}}},e.Atlas.Format={alpha:0,intensity:1,luminanceAlpha:2,rgb565:3,rgba4444:4,rgb888:5,rgba8888:6},e.Atlas.TextureFilter={nearest:0,linear:1,mipMap:2,mipMapNearestNearest:3,mipMapLinearNearest:4,mipMapNearestLinear:5,mipMapLinearLinear:6},e.Atlas.TextureWrap={mirroredRepeat:0,clampToEdge:1,repeat:2},e.AtlasPage=function(){},e.AtlasPage.prototype={name:null,format:null,minFilter:null,magFilter:null,uWrap:null,vWrap:null,rendererObject:null,width:0,height:0},e.AtlasRegion=function(){},e.AtlasRegion.prototype={page:null,name:null,x:0,y:0,width:0,height:0,u:0,v:0,u2:0,v2:0,offsetX:0,offsetY:0,originalWidth:0,originalHeight:0,index:0,rotate:!1,splits:null,pads:null},e.AtlasReader=function(t){this.lines=t.split(/\r\n|\r|\n/)},e.AtlasReader.prototype={index:0,trim:function(t){return t.replace(/^\s+|\s+$/g,"")},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw"Invalid line: "+t;return this.trim(t.substring(e+1))},readTuple:function(t){var e=this.readLine(),i=e.indexOf(":");if(-1==i)throw"Invalid line: "+e;for(var r=0,n=i+1;r<3;r++){var s=e.indexOf(",",n);if(-1==s){if(!r)throw"Invalid line: "+e;break}t[r]=this.trim(e.substr(n,s-n)),n=s+1}return t[r]=this.trim(e.substring(n)),r+1}},e.AtlasAttachmentLoader=function(t){this.atlas=t},e.AtlasAttachmentLoader.prototype={newAttachment:function(t,i,r){switch(i){case e.AttachmentType.region:var n=this.atlas.findRegion(r);if(!n)throw"Region not found in atlas: "+r+" ("+i+")";var s=new e.RegionAttachment(r);return s.rendererObject=n,s.setUVs(n.u,n.v,n.u2,n.v2,n.rotate),s.regionOffsetX=n.offsetX,s.regionOffsetY=n.offsetY,s.regionWidth=n.width,s.regionHeight=n.height,s.regionOriginalWidth=n.originalWidth,s.regionOriginalHeight=n.originalHeight,s}throw"Unknown attachment type: "+i}},e.Bone.yDown=!0,t.AnimCache={},t.Spine=function(i){if(t.DisplayObjectContainer.call(this),this.spineData=t.AnimCache[i],!this.spineData)throw new Error("Spine data must be preloaded using PIXI.SpineLoader or PIXI.AssetLoader: "+i);this.skeleton=new e.Skeleton(this.spineData),this.skeleton.updateWorldTransform(),this.stateData=new e.AnimationStateData(this.spineData),this.state=new e.AnimationState(this.stateData),this.slotContainers=[];for(var r=0,n=this.skeleton.drawOrder.length;r<n;r++){var s=this.skeleton.drawOrder[r],o=s.attachment,a=new t.DisplayObjectContainer;if(this.slotContainers.push(a),this.addChild(a),o instanceof e.RegionAttachment){var h=o.rendererObject.name,l=this.createSprite(s,o.rendererObject);s.currentSprite=l,s.currentSpriteName=h,a.addChild(l)}}},t.Spine.prototype=Object.create(t.DisplayObjectContainer.prototype),t.Spine.prototype.constructor=t.Spine,t.Spine.prototype.updateTransform=function(){this.lastTime=this.lastTime||Date.now();var i=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.state.update(i),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();for(var r=this.skeleton.drawOrder,n=0,s=r.length;n<s;n++){var o=r[n],a=o.attachment,h=this.slotContainers[n];if(a instanceof e.RegionAttachment){if(a.rendererObject&&(!o.currentSpriteName||o.currentSpriteName!=a.name)){var l=a.rendererObject.name;if(void 0!==o.currentSprite&&(o.currentSprite.visible=!1),o.sprites=o.sprites||{},void 0!==o.sprites[l])o.sprites[l].visible=!0;else{var u=this.createSprite(o,a.rendererObject);h.addChild(u)}o.currentSprite=o.sprites[l],o.currentSpriteName=l}h.visible=!0;var c=o.bone;h.position.x=c.worldX+a.x*c.m00+a.y*c.m01,h.position.y=c.worldY+a.x*c.m10+a.y*c.m11,h.scale.x=c.worldScaleX,h.scale.y=c.worldScaleY,h.rotation=-o.bone.worldRotation*Math.PI/180,h.alpha=o.a,o.currentSprite.tint=t.rgb2hex([o.r,o.g,o.b])}else h.visible=!1}t.DisplayObjectContainer.prototype.updateTransform.call(this)},t.Spine.prototype.createSprite=function(e,i){var r=t.TextureCache[i.name]?i.name:i.name+".png",n=new t.Sprite(t.Texture.fromFrame(r));return n.scale=i.scale,n.rotation=i.rotation,n.anchor.x=n.anchor.y=.5,e.sprites=e.sprites||{},e.sprites[i.name]=n,n},t.BaseTextureCache={},t.BaseTextureCacheIdGenerator=0,t.BaseTexture=function(e,i){if(this.resolution=1,this.width=100,this.height=100,this.scaleMode=i||t.scaleModes.DEFAULT,this.hasLoaded=!1,this.source=e,this._UID=t._UID++,this.premultipliedAlpha=!0,this._glTextures=[],this._dirty=[!0,!0,!0,!0],e){if((this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this.hasLoaded=!0,this.width=this.source.naturalWidth||this.source.width,this.height=this.source.naturalHeight||this.source.height,this.dirty();else{var r=this;this.source.onload=function(){r.hasLoaded=!0,r.width=r.source.naturalWidth||r.source.width,r.height=r.source.naturalHeight||r.source.height,r.dirty(),r.dispatchEvent({type:"loaded",content:r})},this.source.onerror=function(){r.dispatchEvent({type:"error",content:r})}}this.imageUrl=null,this._powerOf2=!1}},t.BaseTexture.prototype.constructor=t.BaseTexture,t.EventTarget.mixin(t.BaseTexture.prototype),t.BaseTexture.prototype.destroy=function(){this.imageUrl?(delete t.BaseTextureCache[this.imageUrl],delete t.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete t.BaseTextureCache[this.source._pixiId],this.source=null,this.unloadFromGPU()},t.BaseTexture.prototype.updateSourceImage=function(t){this.hasLoaded=!1,this.source.src=null,this.source.src=t},t.BaseTexture.prototype.dirty=function(){for(var t=0;t<this._glTextures.length;t++)this._dirty[t]=!0},t.BaseTexture.prototype.unloadFromGPU=function(){this.dirty();for(var e=this._glTextures.length-1;e>=0;e--){var i=this._glTextures[e],r=t.glContexts[e];r&&i&&r.deleteTexture(i)}this._glTextures.length=0,this.dirty()},t.BaseTexture.fromImage=function(e,i,r){var n=t.BaseTextureCache[e];if(void 0===i&&-1===e.indexOf("data:")&&(i=!0),!n){var s=new Image;i&&(s.crossOrigin=""),s.src=e,(n=new t.BaseTexture(s,r)).imageUrl=e,t.BaseTextureCache[e]=n,-1!==e.indexOf(t.RETINA_PREFIX+".")&&(n.resolution=2)}return n},t.BaseTexture.fromCanvas=function(e,i){e._pixiId||(e._pixiId="canvas_"+t.TextureCacheIdGenerator++);var r=t.BaseTextureCache[e._pixiId];return r||(r=new t.BaseTexture(e,i),t.BaseTextureCache[e._pixiId]=r),r},t.TextureCache={},t.FrameCache={},t.TextureCacheIdGenerator=0,t.Texture=function(e,i,r,n){this.noFrame=!1,i||(this.noFrame=!0,i=new t.Rectangle(0,0,1,1)),e instanceof t.Texture&&(e=e.baseTexture),this.baseTexture=e,this.frame=i,this.trim=n,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=r||new t.Rectangle(0,0,1,1),e.hasLoaded?(this.noFrame&&(i=new t.Rectangle(0,0,e.width,e.height)),this.setFrame(i)):e.addEventListener("loaded",this.onBaseTextureLoaded.bind(this))},t.Texture.prototype.constructor=t.Texture,t.EventTarget.mixin(t.Texture.prototype),t.Texture.prototype.onBaseTextureLoaded=function(){var e=this.baseTexture;e.removeEventListener("loaded",this.onLoaded),this.noFrame&&(this.frame=new t.Rectangle(0,0,e.width,e.height)),this.setFrame(this.frame),this.dispatchEvent({type:"update",content:this})},t.Texture.prototype.destroy=function(t){t&&this.baseTexture.destroy(),this.valid=!1},t.Texture.prototype.setFrame=function(t){if(this.noFrame=!1,this.frame=t,this.width=t.width,this.height=t.height,this.crop.x=t.x,this.crop.y=t.y,this.crop.width=t.width,this.crop.height=t.height,!this.trim&&(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=t&&t.width&&t.height&&this.baseTexture.source&&this.baseTexture.hasLoaded,this.trim&&(this.width=this.trim.width,this.height=this.trim.height,this.frame.width=this.trim.width,this.frame.height=this.trim.height),this.valid&&this._updateUvs()},t.Texture.prototype._updateUvs=function(){this._uvs||(this._uvs=new t.TextureUvs);var e=this.crop,i=this.baseTexture.width,r=this.baseTexture.height;this._uvs.x0=e.x/i,this._uvs.y0=e.y/r,this._uvs.x1=(e.x+e.width)/i,this._uvs.y1=e.y/r,this._uvs.x2=(e.x+e.width)/i,this._uvs.y2=(e.y+e.height)/r,this._uvs.x3=e.x/i,this._uvs.y3=(e.y+e.height)/r},t.Texture.fromImage=function(e,i,r){var n=t.TextureCache[e];return n||(n=new t.Texture(t.BaseTexture.fromImage(e,i,r)),t.TextureCache[e]=n),n},t.Texture.fromFrame=function(e){var i=t.TextureCache[e];if(!i)throw new Error('The frameId "'+e+'" does not exist in the texture cache ');return i},t.Texture.fromCanvas=function(e,i){var r=t.BaseTexture.fromCanvas(e,i);return new t.Texture(r)},t.Texture.addTextureToCache=function(e,i){t.TextureCache[i]=e},t.Texture.removeTextureFromCache=function(e){var i=t.TextureCache[e];return delete t.TextureCache[e],delete t.BaseTextureCache[e],i},t.TextureUvs=function(){this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0},t.Texture.emptyTexture=new t.Texture(new t.BaseTexture),t.RenderTexture=function(e,i,r,n,s){if(this.width=e||100,this.height=i||100,this.resolution=s||1,this.frame=new t.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.crop=new t.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.baseTexture=new t.BaseTexture,this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution,this.baseTexture._glTextures=[],this.baseTexture.resolution=this.resolution,this.baseTexture.scaleMode=n||t.scaleModes.DEFAULT,this.baseTexture.hasLoaded=!0,t.Texture.call(this,this.baseTexture,new t.Rectangle(0,0,this.width,this.height)),this.renderer=r||t.defaultRenderer,this.renderer.type===t.WEBGL_RENDERER){var o=this.renderer.gl;this.baseTexture._dirty[o.id]=!1,this.textureBuffer=new t.FilterTexture(o,this.width*this.resolution,this.height*this.resolution,this.baseTexture.scaleMode),this.baseTexture._glTextures[o.id]=this.textureBuffer.texture,this.render=this.renderWebGL,this.projection=new t.Point(.5*this.width,.5*-this.height)}else this.render=this.renderCanvas,this.textureBuffer=new t.CanvasBuffer(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()},t.RenderTexture.prototype=Object.create(t.Texture.prototype),t.RenderTexture.prototype.constructor=t.RenderTexture,t.RenderTexture.prototype.resize=function(e,i,r){e===this.width&&i===this.height||(this.valid=e>0&&i>0,this.width=this.frame.width=this.crop.width=e,this.height=this.frame.height=this.crop.height=i,r&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.renderer.type===t.WEBGL_RENDERER&&(this.projection.x=this.width/2,this.projection.y=-this.height/2),this.valid&&this.textureBuffer.resize(this.width*this.resolution,this.height*this.resolution))},t.RenderTexture.prototype.clear=function(){this.valid&&(this.renderer.type===t.WEBGL_RENDERER&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},t.RenderTexture.prototype.renderWebGL=function(t,e,i){if(this.valid){var r=t.worldTransform;r.identity(),r.translate(0,2*this.projection.y),e&&r.append(e),r.scale(1,-1),t.worldAlpha=1;for(var n=t.children,s=0,o=n.length;s<o;s++)n[s].updateTransform();var a=this.renderer.gl;a.viewport(0,0,this.width*this.resolution,this.height*this.resolution),a.bindFramebuffer(a.FRAMEBUFFER,this.textureBuffer.frameBuffer),i&&this.textureBuffer.clear(),this.renderer.spriteBatch.dirty=!0,this.renderer.renderDisplayObject(t,this.projection,this.textureBuffer.frameBuffer),this.renderer.spriteBatch.dirty=!0}},t.RenderTexture.prototype.renderCanvas=function(t,e,i){if(this.valid){var r=t.worldTransform;r.identity(),e&&r.append(e),t.worldAlpha=1;for(var n=t.children,s=0,o=n.length;s<o;s++)n[s].updateTransform();i&&this.textureBuffer.clear();var a=this.textureBuffer.context,h=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,a),this.renderer.resolution=h}},t.RenderTexture.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},t.RenderTexture.prototype.getBase64=function(){return this.getCanvas().toDataURL()},t.RenderTexture.prototype.getCanvas=function(){if(this.renderer.type===t.WEBGL_RENDERER){var e=this.renderer.gl,i=this.textureBuffer.width,r=this.textureBuffer.height,n=new Uint8Array(4*i*r);e.bindFramebuffer(e.FRAMEBUFFER,this.textureBuffer.frameBuffer),e.readPixels(0,0,i,r,e.RGBA,e.UNSIGNED_BYTE,n),e.bindFramebuffer(e.FRAMEBUFFER,null);var s=new t.CanvasBuffer(i,r),o=s.context.getImageData(0,0,i,r);return o.data.set(n),s.context.putImageData(o,0,0),s.canvas}return this.textureBuffer.canvas},t.RenderTexture.tempMatrix=new t.Matrix,t.VideoTexture=function(e,i){if(!e)throw new Error("No video source element specified.");(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),t.BaseTexture.call(this,e,i),this.autoUpdate=!1,this.updateBound=this._onUpdate.bind(this),e.complete||(this._onCanPlay=this.onCanPlay.bind(this),e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("play",this.onPlayStart.bind(this)),e.addEventListener("pause",this.onPlayStop.bind(this)))},t.VideoTexture.prototype=Object.create(t.BaseTexture.prototype),t.VideoTexture.constructor=t.VideoTexture,t.VideoTexture.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this.updateBound),this.dirty())},t.VideoTexture.prototype.onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this.updateBound),this.autoUpdate=!0)},t.VideoTexture.prototype.onPlayStop=function(){this.autoUpdate=!1},t.VideoTexture.prototype.onCanPlay=function(){"canplaythrough"===event.type&&(this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.dispatchEvent({type:"loaded",content:this}))))},t.VideoTexture.baseTextureFromVideo=function(e,i){e._pixiId||(e._pixiId="video_"+t.TextureCacheIdGenerator++);var r=t.BaseTextureCache[e._pixiId];return r||(r=new t.VideoTexture(e,i),t.BaseTextureCache[e._pixiId]=r),r},t.VideoTexture.prototype.destroy=function(){this.source&&this.source._pixiId&&(t.BaseTextureCache[this.source._pixiId]=null,delete t.BaseTextureCache[this.source._pixiId],this.source._pixiId=null,delete this.source._pixiId),t.BaseTexture.prototype.destroy.call(this)},t.VideoTexture.textureFromVideo=function(e,i){var r=t.VideoTexture.baseTextureFromVideo(e,i);return new t.Texture(r)},t.VideoTexture.fromUrl=function(e,i){var r=document.createElement("video");return r.src=e,r.autoPlay=!0,r.play(),t.VideoTexture.textureFromVideo(r,i)},t.AssetLoader=function(e,i){this.assetURLs=e,this.crossorigin=i,this.loadersByType={jpg:t.ImageLoader,jpeg:t.ImageLoader,png:t.ImageLoader,gif:t.ImageLoader,webp:t.ImageLoader,json:t.JsonLoader,atlas:t.AtlasLoader,anim:t.SpineLoader,xml:t.BitmapFontLoader,fnt:t.BitmapFontLoader}},t.EventTarget.mixin(t.AssetLoader.prototype),t.AssetLoader.prototype.constructor=t.AssetLoader,t.AssetLoader.prototype._getDataType=function(t){if("data:"===t.slice(0,"data:".length).toLowerCase()){var e=t.slice("data:".length),i=e.indexOf(",");if(-1===i)return null;var r=e.slice(0,i).split(";")[0];return r&&"text/plain"!==r.toLowerCase()?r.split("/").pop().toLowerCase():"txt"}return null},t.AssetLoader.prototype.load=function(){var t=this;function e(e){t.onAssetLoaded(e.data.content)}this.loadCount=this.assetURLs.length;for(var i=0;i<this.assetURLs.length;i++){var r=this.assetURLs[i],n=this._getDataType(r);n||(n=r.split("?").shift().split(".").pop().toLowerCase());var s=this.loadersByType[n];if(!s)throw new Error(n+" is an unsupported file type");var o=new s(r,this.crossorigin);o.on("loaded",e),o.load()}},t.AssetLoader.prototype.onAssetLoaded=function(t){this.loadCount--,this.emit("onProgress",{content:this,loader:t}),this.onProgress&&this.onProgress(t),this.loadCount||(this.emit("onComplete",{content:this}),this.onComplete&&this.onComplete())},t.JsonLoader=function(t,e){this.url=t,this.crossorigin=e,this.baseUrl=t.replace(/[^\/]*$/,""),this.loaded=!1},t.JsonLoader.prototype.constructor=t.JsonLoader,t.EventTarget.mixin(t.JsonLoader.prototype),t.JsonLoader.prototype.load=function(){window.XDomainRequest&&this.crossorigin?(this.ajaxRequest=new window.XDomainRequest,this.ajaxRequest.timeout=3e3,this.ajaxRequest.onerror=this.onError.bind(this),this.ajaxRequest.ontimeout=this.onError.bind(this),this.ajaxRequest.onprogress=function(){}):window.XMLHttpRequest?this.ajaxRequest=new window.XMLHttpRequest:this.ajaxRequest=new window.ActiveXObject("Microsoft.XMLHTTP"),this.ajaxRequest.onload=this.onJSONLoaded.bind(this),this.ajaxRequest.open("GET",this.url,!0),this.ajaxRequest.send()},t.JsonLoader.prototype.onJSONLoaded=function(){if(this.ajaxRequest.responseText)if(this.json=JSON.parse(this.ajaxRequest.responseText),this.json.frames){var i=this.baseUrl+this.json.meta.image,r=new t.ImageLoader(i,this.crossorigin),n=this.json.frames;this.texture=r.texture.baseTexture,r.addEventListener("loaded",this.onLoaded.bind(this));for(var s in n){var o=n[s].frame;if(o){var a=new t.Rectangle(o.x,o.y,o.w,o.h),h=a.clone(),l=null;if(n[s].trimmed){var u=n[s].sourceSize,c=n[s].spriteSourceSize;l=new t.Rectangle(c.x,c.y,u.w,u.h)}t.TextureCache[s]=new t.Texture(this.texture,a,h,l)}}r.load()}else if(this.json.bones){var p=(new e.SkeletonJson).readSkeletonData(this.json);t.AnimCache[this.url]=p,this.onLoaded()}else this.onLoaded();else this.onError()},t.JsonLoader.prototype.onLoaded=function(){this.loaded=!0,this.dispatchEvent({type:"loaded",content:this})},t.JsonLoader.prototype.onError=function(){this.dispatchEvent({type:"error",content:this})},t.AtlasLoader=function(t,e){this.url=t,this.baseUrl=t.replace(/[^\/]*$/,""),this.crossorigin=e,this.loaded=!1},t.AtlasLoader.constructor=t.AtlasLoader,t.EventTarget.mixin(t.AtlasLoader.prototype),t.AtlasLoader.prototype.load=function(){this.ajaxRequest=new t.AjaxRequest,this.ajaxRequest.onreadystatechange=this.onAtlasLoaded.bind(this),this.ajaxRequest.open("GET",this.url,!0),this.ajaxRequest.overrideMimeType&&this.ajaxRequest.overrideMimeType("application/json"),this.ajaxRequest.send(null)},t.AtlasLoader.prototype.onAtlasLoaded=function(){if(4===this.ajaxRequest.readyState)if(200===this.ajaxRequest.status||-1===window.location.href.indexOf("http")){this.atlas={meta:{image:[]},frames:[]};var e=this.ajaxRequest.responseText.split(/\r?\n/),i=-3,r=0,n=null,s=!1,o=0,a=0,h=this.onLoaded.bind(this);for(o=0;o<e.length;o++)if(e[o]=e[o].replace(/^\s+|\s+$/g,""),""===e[o]&&(s=o+1),e[o].length>0){if(s===o)this.atlas.meta.image.push(e[o]),r=this.atlas.meta.image.length-1,this.atlas.frames.push({}),i=-3;else if(i>0)if(i%7==1)null!=n&&(this.atlas.frames[r][n.name]=n),n={name:e[o],frame:{}};else{var l=e[o].split(" ");if(i%7==3)n.frame.x=Number(l[1].replace(",","")),n.frame.y=Number(l[2]);else if(i%7==4)n.frame.w=Number(l[1].replace(",","")),n.frame.h=Number(l[2]);else if(i%7==5){var u={x:0,y:0,w:Number(l[1].replace(",","")),h:Number(l[2])};u.w>n.frame.w||u.h>n.frame.h?(n.trimmed=!0,n.realSize=u):n.trimmed=!1}}i++}if(null!=n&&(this.atlas.frames[r][n.name]=n),this.atlas.meta.image.length>0){for(this.images=[],a=0;a<this.atlas.meta.image.length;a++){var c=this.baseUrl+this.atlas.meta.image[a],p=this.atlas.frames[a];this.images.push(new t.ImageLoader(c,this.crossorigin));for(o in p){var d=p[o].frame;d&&(t.TextureCache[o]=new t.Texture(this.images[a].texture.baseTexture,{x:d.x,y:d.y,width:d.w,height:d.h}),p[o].trimmed&&(t.TextureCache[o].realSize=p[o].realSize,t.TextureCache[o].trim.x=0,t.TextureCache[o].trim.y=0))}}for(this.currentImageId=0,a=0;a<this.images.length;a++)this.images[a].on("loaded",h);this.images[this.currentImageId].load()}else this.onLoaded()}else this.onError()},t.AtlasLoader.prototype.onLoaded=function(){this.images.length-1>this.currentImageId?(this.currentImageId++,this.images[this.currentImageId].load()):(this.loaded=!0,this.emit("loaded",{content:this}))},t.AtlasLoader.prototype.onError=function(){this.emit("error",{content:this})},t.SpriteSheetLoader=function(t,e){this.url=t,this.crossorigin=e,this.baseUrl=t.replace(/[^\/]*$/,""),this.texture=null,this.frames={}},t.SpriteSheetLoader.prototype.constructor=t.SpriteSheetLoader,t.EventTarget.mixin(t.SpriteSheetLoader.prototype),t.SpriteSheetLoader.prototype.load=function(){var e=this,i=new t.JsonLoader(this.url,this.crossorigin);i.on("loaded",function(t){e.json=t.data.content.json,e.onLoaded()}),i.load()},t.SpriteSheetLoader.prototype.onLoaded=function(){this.emit("loaded",{content:this})},t.ImageLoader=function(e,i){this.texture=t.Texture.fromImage(e,i),this.frames=[]},t.ImageLoader.prototype.constructor=t.ImageLoader,t.EventTarget.mixin(t.ImageLoader.prototype),t.ImageLoader.prototype.load=function(){this.texture.baseTexture.hasLoaded?this.onLoaded():this.texture.baseTexture.on("loaded",this.onLoaded.bind(this))},t.ImageLoader.prototype.onLoaded=function(){this.emit("loaded",{content:this})},t.ImageLoader.prototype.loadFramedSpriteSheet=function(e,i,r){this.frames=[];for(var n=Math.floor(this.texture.width/e),s=Math.floor(this.texture.height/i),o=0,a=0;a<s;a++)for(var h=0;h<n;h++,o++){var l=new t.Texture(this.texture.baseTexture,{x:h*e,y:a*i,width:e,height:i});this.frames.push(l),r&&(t.TextureCache[r+"-"+o]=l)}this.load()},t.BitmapFontLoader=function(t,e){this.url=t,this.crossorigin=e,this.baseUrl=t.replace(/[^\/]*$/,""),this.texture=null},t.BitmapFontLoader.prototype.constructor=t.BitmapFontLoader,t.EventTarget.mixin(t.BitmapFontLoader.prototype),t.BitmapFontLoader.prototype.load=function(){this.ajaxRequest=new t.AjaxRequest,this.ajaxRequest.onreadystatechange=this.onXMLLoaded.bind(this),this.ajaxRequest.open("GET",this.url,!0),this.ajaxRequest.overrideMimeType&&this.ajaxRequest.overrideMimeType("application/xml"),this.ajaxRequest.send(null)},t.BitmapFontLoader.prototype.onXMLLoaded=function(){if(4===this.ajaxRequest.readyState&&(200===this.ajaxRequest.status||-1===window.location.protocol.indexOf("http"))){var e=this.ajaxRequest.responseXML;if(!e||/MSIE 9/i.test(navigator.userAgent)||navigator.isCocoonJS)if("function"==typeof window.DOMParser){e=(new DOMParser).parseFromString(this.ajaxRequest.responseText,"text/xml")}else{var i=document.createElement("div");i.innerHTML=this.ajaxRequest.responseText,e=i}var r=this.baseUrl+e.getElementsByTagName("page")[0].getAttribute("file"),n=new t.ImageLoader(r,this.crossorigin);this.texture=n.texture.baseTexture;var s={},o=e.getElementsByTagName("info")[0],a=e.getElementsByTagName("common")[0];s.font=o.getAttribute("face"),s.size=parseInt(o.getAttribute("size"),10),s.lineHeight=parseInt(a.getAttribute("lineHeight"),10),s.chars={};for(var h=e.getElementsByTagName("char"),l=0;l<h.length;l++){var u=parseInt(h[l].getAttribute("id"),10),c=new t.Rectangle(parseInt(h[l].getAttribute("x"),10),parseInt(h[l].getAttribute("y"),10),parseInt(h[l].getAttribute("width"),10),parseInt(h[l].getAttribute("height"),10));s.chars[u]={xOffset:parseInt(h[l].getAttribute("xoffset"),10),yOffset:parseInt(h[l].getAttribute("yoffset"),10),xAdvance:parseInt(h[l].getAttribute("xadvance"),10),kerning:{},texture:t.TextureCache[u]=new t.Texture(this.texture,c)}}var p=e.getElementsByTagName("kerning");for(l=0;l<p.length;l++){var d=parseInt(p[l].getAttribute("first"),10),f=parseInt(p[l].getAttribute("second"),10),g=parseInt(p[l].getAttribute("amount"),10);s.chars[f].kerning[d]=g}t.BitmapText.fonts[s.font]=s,n.addEventListener("loaded",this.onLoaded.bind(this)),n.load()}},t.BitmapFontLoader.prototype.onLoaded=function(){this.emit("loaded",{content:this})},t.SpineLoader=function(t,e){this.url=t,this.crossorigin=e,this.loaded=!1},t.SpineLoader.prototype.constructor=t.SpineLoader,t.EventTarget.mixin(t.SpineLoader.prototype),t.SpineLoader.prototype.load=function(){var e=this,i=new t.JsonLoader(this.url,this.crossorigin);i.on("loaded",function(t){e.json=t.data.content.json,e.onLoaded()}),i.load()},t.SpineLoader.prototype.onLoaded=function(){this.loaded=!0,this.emit("loaded",{content:this})},t.AbstractFilter=function(t,e){this.passes=[this],this.shaders=[],this.dirty=!0,this.padding=0,this.uniforms=e||{},this.fragmentSrc=t||[]},t.AbstractFilter.prototype.constructor=t.AbstractFilter,t.AbstractFilter.prototype.syncUniforms=function(){for(var t=0,e=this.shaders.length;t<e;t++)this.shaders[t].dirty=!0},t.AlphaMaskFilter=function(e){t.AbstractFilter.call(this),this.passes=[this],e.baseTexture._powerOf2=!0,this.uniforms={mask:{type:"sampler2D",value:e},mapDimensions:{type:"2f",value:{x:1,y:5112}},dimensions:{type:"4fv",value:[0,0,0,0]}},e.baseTexture.hasLoaded?(this.uniforms.mask.value.x=e.width,this.uniforms.mask.value.y=e.height):(this.boundLoadedFunction=this.onTextureLoaded.bind(this),e.baseTexture.on("loaded",this.boundLoadedFunction)),this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D mask;","uniform sampler2D uSampler;","uniform vec2 offset;","uniform vec4 dimensions;","uniform vec2 mapDimensions;","void main(void) {","   vec2 mapCords = vTextureCoord.xy;","   mapCords += (dimensions.zw + offset)/ dimensions.xy ;","   mapCords.y *= -1.0;","   mapCords.y += 1.0;","   mapCords *= dimensions.xy / mapDimensions;","   vec4 original =  texture2D(uSampler, vTextureCoord);","   float maskAlpha =  texture2D(mask, mapCords).r;","   original *= maskAlpha;","   gl_FragColor =  original;","}"]},t.AlphaMaskFilter.prototype=Object.create(t.AbstractFilter.prototype),t.AlphaMaskFilter.prototype.constructor=t.AlphaMaskFilter,t.AlphaMaskFilter.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.mask.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.mask.value.height,this.uniforms.mask.value.baseTexture.off("loaded",this.boundLoadedFunction)},Object.defineProperty(t.AlphaMaskFilter.prototype,"map",{get:function(){return this.uniforms.mask.value},set:function(t){this.uniforms.mask.value=t}}),t.ColorMatrixFilter=function(){t.AbstractFilter.call(this),this.passes=[this],this.uniforms={matrix:{type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float invert;","uniform mat4 matrix;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * matrix;","}"]},t.ColorMatrixFilter.prototype=Object.create(t.AbstractFilter.prototype),t.ColorMatrixFilter.prototype.constructor=t.ColorMatrixFilter,Object.defineProperty(t.ColorMatrixFilter.prototype,"matrix",{get:function(){return this.uniforms.matrix.value},set:function(t){this.uniforms.matrix.value=t}}),t.GrayFilter=function(){t.AbstractFilter.call(this),this.passes=[this],this.uniforms={gray:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform float gray;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);","}"]},t.GrayFilter.prototype=Object.create(t.AbstractFilter.prototype),t.GrayFilter.prototype.constructor=t.GrayFilter,Object.defineProperty(t.GrayFilter.prototype,"gray",{get:function(){return this.uniforms.gray.value},set:function(t){this.uniforms.gray.value=t}}),t.DisplacementFilter=function(e){t.AbstractFilter.call(this),this.passes=[this],e.baseTexture._powerOf2=!0,this.uniforms={displacementMap:{type:"sampler2D",value:e},scale:{type:"2f",value:{x:30,y:30}},offset:{type:"2f",value:{x:0,y:0}},mapDimensions:{type:"2f",value:{x:1,y:5112}},dimensions:{type:"4fv",value:[0,0,0,0]}},e.baseTexture.hasLoaded?(this.uniforms.mapDimensions.value.x=e.width,this.uniforms.mapDimensions.value.y=e.height):(this.boundLoadedFunction=this.onTextureLoaded.bind(this),e.baseTexture.on("loaded",this.boundLoadedFunction)),this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D displacementMap;","uniform sampler2D uSampler;","uniform vec2 scale;","uniform vec2 offset;","uniform vec4 dimensions;","uniform vec2 mapDimensions;","void main(void) {","   vec2 mapCords = vTextureCoord.xy;","   mapCords += (dimensions.zw + offset)/ dimensions.xy ;","   mapCords.y *= -1.0;","   mapCords.y += 1.0;","   vec2 matSample = texture2D(displacementMap, mapCords).xy;","   matSample -= 0.5;","   matSample *= scale;","   matSample /= mapDimensions;","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + matSample.x, vTextureCoord.y + matSample.y));","   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb, 1.0);","   vec2 cord = vTextureCoord;","}"]},t.DisplacementFilter.prototype=Object.create(t.AbstractFilter.prototype),t.DisplacementFilter.prototype.constructor=t.DisplacementFilter,t.DisplacementFilter.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.displacementMap.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.displacementMap.value.height,this.uniforms.displacementMap.value.baseTexture.off("loaded",this.boundLoadedFunction)},Object.defineProperty(t.DisplacementFilter.prototype,"map",{get:function(){return this.uniforms.displacementMap.value},set:function(t){this.uniforms.displacementMap.value=t}}),Object.defineProperty(t.DisplacementFilter.prototype,"scale",{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}}),Object.defineProperty(t.DisplacementFilter.prototype,"offset",{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}),t.PixelateFilter=function(){t.AbstractFilter.call(this),this.passes=[this],this.uniforms={invert:{type:"1f",value:0},dimensions:{type:"4fv",value:new t.Float32Array([1e4,100,10,10])},pixelSize:{type:"2f",value:{x:10,y:10}}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec2 testDim;","uniform vec4 dimensions;","uniform vec2 pixelSize;","uniform sampler2D uSampler;","void main(void) {","   vec2 coord = vTextureCoord;","   vec2 size = dimensions.xy/pixelSize;","   vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;","   gl_FragColor = texture2D(uSampler, color);","}"]},t.PixelateFilter.prototype=Object.create(t.AbstractFilter.prototype),t.PixelateFilter.prototype.constructor=t.PixelateFilter,Object.defineProperty(t.PixelateFilter.prototype,"size",{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.dirty=!0,this.uniforms.pixelSize.value=t}}),t.BlurXFilter=function(){t.AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","   vec4 sum = vec4(0.0);","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 4.0*blur, vTextureCoord.y)) * 0.05;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 3.0*blur, vTextureCoord.y)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 2.0*blur, vTextureCoord.y)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - blur, vTextureCoord.y)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + blur, vTextureCoord.y)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 2.0*blur, vTextureCoord.y)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 3.0*blur, vTextureCoord.y)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 4.0*blur, vTextureCoord.y)) * 0.05;","   gl_FragColor = sum;","}"]},t.BlurXFilter.prototype=Object.create(t.AbstractFilter.prototype),t.BlurXFilter.prototype.constructor=t.BlurXFilter,Object.defineProperty(t.BlurXFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.dirty=!0,this.uniforms.blur.value=1/7e3*t}}),t.BlurYFilter=function(){t.AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","   vec4 sum = vec4(0.0);","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 4.0*blur)) * 0.05;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 3.0*blur)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 2.0*blur)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - blur)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + blur)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 2.0*blur)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 3.0*blur)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 4.0*blur)) * 0.05;","   gl_FragColor = sum;","}"]},t.BlurYFilter.prototype=Object.create(t.AbstractFilter.prototype),t.BlurYFilter.prototype.constructor=t.BlurYFilter,Object.defineProperty(t.BlurYFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.uniforms.blur.value=1/7e3*t}}),t.BlurFilter=function(){this.blurXFilter=new t.BlurXFilter,this.blurYFilter=new t.BlurYFilter,this.passes=[this.blurXFilter,this.blurYFilter]},t.BlurFilter.prototype=Object.create(t.AbstractFilter.prototype),t.BlurFilter.prototype.constructor=t.BlurFilter,Object.defineProperty(t.BlurFilter.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t}}),Object.defineProperty(t.BlurFilter.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}}),Object.defineProperty(t.BlurFilter.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}),t.InvertFilter=function(){t.AbstractFilter.call(this),this.passes=[this],this.uniforms={invert:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float invert;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);","}"]},t.InvertFilter.prototype=Object.create(t.AbstractFilter.prototype),t.InvertFilter.prototype.constructor=t.InvertFilter,Object.defineProperty(t.InvertFilter.prototype,"invert",{get:function(){return this.uniforms.invert.value},set:function(t){this.uniforms.invert.value=t}}),t.SepiaFilter=function(){t.AbstractFilter.call(this),this.passes=[this],this.uniforms={sepia:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float sepia;","uniform sampler2D uSampler;","const mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);","}"]},t.SepiaFilter.prototype=Object.create(t.AbstractFilter.prototype),t.SepiaFilter.prototype.constructor=t.SepiaFilter,Object.defineProperty(t.SepiaFilter.prototype,"sepia",{get:function(){return this.uniforms.sepia.value},set:function(t){this.uniforms.sepia.value=t}}),t.TwistFilter=function(){t.AbstractFilter.call(this),this.passes=[this],this.uniforms={radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"2f",value:{x:.5,y:.5}}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec4 dimensions;","uniform sampler2D uSampler;","uniform float radius;","uniform float angle;","uniform vec2 offset;","void main(void) {","   vec2 coord = vTextureCoord - offset;","   float distance = length(coord);","   if (distance < radius) {","       float ratio = (radius - distance) / radius;","       float angleMod = ratio * ratio * angle;","       float s = sin(angleMod);","       float c = cos(angleMod);","       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);","   }","   gl_FragColor = texture2D(uSampler, coord+offset);","}"]},t.TwistFilter.prototype=Object.create(t.AbstractFilter.prototype),t.TwistFilter.prototype.constructor=t.TwistFilter,Object.defineProperty(t.TwistFilter.prototype,"offset",{get:function(){return this.uniforms.offset.value},set:function(t){this.dirty=!0,this.uniforms.offset.value=t}}),Object.defineProperty(t.TwistFilter.prototype,"radius",{get:function(){return this.uniforms.radius.value},set:function(t){this.dirty=!0,this.uniforms.radius.value=t}}),Object.defineProperty(t.TwistFilter.prototype,"angle",{get:function(){return this.uniforms.angle.value},set:function(t){this.dirty=!0,this.uniforms.angle.value=t}}),t.ColorStepFilter=function(){t.AbstractFilter.call(this),this.passes=[this],this.uniforms={step:{type:"1f",value:5}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform float step;","void main(void) {","   vec4 color = texture2D(uSampler, vTextureCoord);","   color = floor(color * step) / step;","   gl_FragColor = color;","}"]},t.ColorStepFilter.prototype=Object.create(t.AbstractFilter.prototype),t.ColorStepFilter.prototype.constructor=t.ColorStepFilter,Object.defineProperty(t.ColorStepFilter.prototype,"step",{get:function(){return this.uniforms.step.value},set:function(t){this.uniforms.step.value=t}}),t.DotScreenFilter=function(){t.AbstractFilter.call(this),this.passes=[this],this.uniforms={scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec4 dimensions;","uniform sampler2D uSampler;","uniform float angle;","uniform float scale;","float pattern() {","   float s = sin(angle), c = cos(angle);","   vec2 tex = vTextureCoord * dimensions.xy;","   vec2 point = vec2(","       c * tex.x - s * tex.y,","       s * tex.x + c * tex.y","   ) * scale;","   return (sin(point.x) * sin(point.y)) * 4.0;","}","void main() {","   vec4 color = texture2D(uSampler, vTextureCoord);","   float average = (color.r + color.g + color.b) / 3.0;","   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);","}"]},t.DotScreenFilter.prototype=Object.create(t.AbstractFilter.prototype),t.DotScreenFilter.prototype.constructor=t.DotScreenFilter,Object.defineProperty(t.DotScreenFilter.prototype,"scale",{get:function(){return this.uniforms.scale.value},set:function(t){this.dirty=!0,this.uniforms.scale.value=t}}),Object.defineProperty(t.DotScreenFilter.prototype,"angle",{get:function(){return this.uniforms.angle.value},set:function(t){this.dirty=!0,this.uniforms.angle.value=t}}),t.CrossHatchFilter=function(){t.AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);","    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);","    if (lum < 1.00) {","        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.75) {","        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.50) {","        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.3) {","        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","}"]},t.CrossHatchFilter.prototype=Object.create(t.AbstractFilter.prototype),t.CrossHatchFilter.prototype.constructor=t.CrossHatchFilter,Object.defineProperty(t.CrossHatchFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.uniforms.blur.value=1/7e3*t}}),t.RGBSplitFilter=function(){t.AbstractFilter.call(this),this.passes=[this],this.uniforms={red:{type:"2f",value:{x:20,y:20}},green:{type:"2f",value:{x:-20,y:20}},blue:{type:"2f",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec2 red;","uniform vec2 green;","uniform vec2 blue;","uniform vec4 dimensions;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;","   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;","   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;","   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;","}"]},t.RGBSplitFilter.prototype=Object.create(t.AbstractFilter.prototype),t.RGBSplitFilter.prototype.constructor=t.RGBSplitFilter,Object.defineProperty(t.RGBSplitFilter.prototype,"red",{get:function(){return this.uniforms.red.value},set:function(t){this.uniforms.red.value=t}}),Object.defineProperty(t.RGBSplitFilter.prototype,"green",{get:function(){return this.uniforms.green.value},set:function(t){this.uniforms.green.value=t}}),Object.defineProperty(t.RGBSplitFilter.prototype,"blue",{get:function(){return this.uniforms.blue.value},set:function(t){this.uniforms.blue.value=t}}),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.PIXI=t):void 0!==define&&define.amd?define(t):this.PIXI=t}.call(this);var requirejs,require,define;!function(global){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.17",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function isFunction(t){return"[object Function]"===ostring.call(t)}function isArray(t){return"[object Array]"===ostring.call(t)}function each(t,e){if(t){var i;for(i=0;i<t.length&&(!t[i]||!e(t[i],i,t));i+=1);}}function eachReverse(t,e){if(t){var i;for(i=t.length-1;i>-1&&(!t[i]||!e(t[i],i,t));i-=1);}}function hasProp(t,e){return hasOwn.call(t,e)}function getOwn(t,e){return hasProp(t,e)&&t[e]}function eachProp(t,e){var i;for(i in t)if(hasProp(t,i)&&e(t[i],i))break}function mixin(t,e,i,r){return e&&eachProp(e,function(e,n){!i&&hasProp(t,n)||(!r||"object"!=typeof e||!e||isArray(e)||isFunction(e)||e instanceof RegExp?t[n]=e:(t[n]||(t[n]={}),mixin(t[n],e,i,r)))}),t}function bind(t,e){return function(){return e.apply(t,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(t){throw t}function getGlobal(t){if(!t)return t;var e=global;return each(t.split("."),function(t){e=e[t]}),e}function makeError(t,e,i,r){var n=new Error(e+"\nhttp://requirejs.org/docs/errors.html#"+t);return n.requireType=t,n.requireModules=r,i&&(n.originalError=i),n}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(t,e,i,r){var n,s,o=defContextName;return isArray(t)||"string"==typeof t||(s=t,isArray(e)?(t=e,e=i,i=r):t=[]),s&&s.context&&(o=s.context),(n=getOwn(contexts,o))||(n=contexts[o]=req.s.newContext(o)),s&&n.configure(s),n.require(t,e,i)},req.config=function(t){return req(t)},req.nextTick="undefined"!=typeof setTimeout?function(t){setTimeout(t,4)}:function(t){t()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(t,e,i){var r=t.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=t.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(t,e,i){var r,n=t&&t.config||{};if(isBrowser)return(r=req.createNode(n,e,i)).setAttribute("data-requirecontext",t.contextName),r.setAttribute("data-requiremodule",e),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",t.onScriptLoad,!1),r.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",t.onScriptLoad)),r.src=i,currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{importScripts(i),t.completeLoad(e)}catch(r){t.onError(makeError("importscripts","importScripts failed for "+e+" at "+i,r,[e]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(t){if(head||(head=t.parentNode),dataMain=t.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(t,e,i){var r,n;"string"!=typeof t&&(i=e,e=t,t=null),isArray(e)||(i=e,e=null),!e&&isFunction(i)&&(e=[],i.length&&(i.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(t,i){e.push(i)}),e=(1===i.length?["require"]:["require","exports","module"]).concat(e))),useInteractive&&(r=currentlyAddingScript||(interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(t){if("interactive"===t.readyState)return interactiveScript=t}),interactiveScript)))&&(t||(t=r.getAttribute("data-requiremodule")),n=contexts[r.getAttribute("data-requirecontext")]),(n?n.defQueue:globalDefQueue).push([t,e,i])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}function newContext(t){var e,i,r,n,s,o={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},a={},h={},l={},u=[],c={},p={},d={},f=1,g=1;function m(t,e,i){var r,n,s,a,h,l,u,c,p,d,f=e&&e.split("/"),g=o.map,m=g&&g["*"];if(t&&(l=(t=t.split("/")).length-1,o.nodeIdCompat&&jsSuffixRegExp.test(t[l])&&(t[l]=t[l].replace(jsSuffixRegExp,"")),"."===t[0].charAt(0)&&f&&(t=f.slice(0,f.length-1).concat(t)),function(t){var e,i;for(e=0;e<t.length;e++)if("."===(i=t[e]))t.splice(e,1),e-=1;else if(".."===i){if(0===e||1===e&&".."===t[2]||".."===t[e-1])continue;e>0&&(t.splice(e-1,2),e-=2)}}(t),t=t.join("/")),i&&g&&(f||m)){n=t.split("/");t:for(s=n.length;s>0;s-=1){if(h=n.slice(0,s).join("/"),f)for(a=f.length;a>0;a-=1)if((r=getOwn(g,f.slice(0,a).join("/")))&&(r=getOwn(r,h))){u=r,c=s;break t}!p&&m&&getOwn(m,h)&&(p=getOwn(m,h),d=s)}!u&&p&&(u=p,c=d),u&&(n.splice(0,c,u),t=n.join("/"))}return getOwn(o.pkgs,t)||t}function v(t){isBrowser&&each(scripts(),function(e){if(e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===r.contextName)return e.parentNode.removeChild(e),!0})}function y(t){var e=getOwn(o.paths,t);if(e&&isArray(e)&&e.length>1)return e.shift(),r.require.undef(t),r.makeRequire(null,{skipMap:!0})([t]),!0}function x(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function b(t,e,i,n){var s,o,a,h,l=null,u=e?e.name:null,p=t,d=!0,v="";return t||(d=!1,t="_@r"+(f+=1)),l=(h=x(t))[0],t=h[1],l&&(l=m(l,u,n),o=getOwn(c,l)),t&&(l?v=o&&o.normalize?o.normalize(t,function(t){return m(t,u,n)}):-1===t.indexOf("!")?m(t,u,n):t:(l=(h=x(v=m(t,u,n)))[0],v=h[1],i=!0,s=r.nameToUrl(v))),{prefix:l,name:v,parentMap:e,unnormalized:!!(a=!l||o||i?"":"_unnormalized"+(g+=1)),url:s,originalName:p,isDefine:d,id:(l?l+"!"+v:v)+a}}function _(t){var e=t.id,i=getOwn(a,e);return i||(i=a[e]=new r.Module(t)),i}function w(t,e,i){var r=t.id,n=getOwn(a,r);!hasProp(c,r)||n&&!n.defineEmitComplete?(n=_(t)).error&&"error"===e?i(n.error):n.on(e,i):"defined"===e&&i(c[r])}function T(t,e){var i=t.requireModules,r=!1;e?e(t):(each(i,function(e){var i=getOwn(a,e);i&&(i.error=t,i.events.error&&(r=!0,i.emit("error",t)))}),r||req.onError(t))}function S(){globalDefQueue.length&&(apsp.apply(u,[u.length,0].concat(globalDefQueue)),globalDefQueue=[])}n={require:function(t){return t.require?t.require:t.require=r.makeRequire(t.map)},exports:function(t){if(t.usingExports=!0,t.map.isDefine)return t.exports?c[t.map.id]=t.exports:t.exports=c[t.map.id]={}},module:function(t){return t.module?t.module:t.module={id:t.map.id,uri:t.map.url,config:function(){return getOwn(o.config,t.map.id)||{}},exports:t.exports||(t.exports={})}}};function C(t){delete a[t],delete h[t]}function E(){var t,i,n=1e3*o.waitSeconds,l=n&&r.startTime+n<(new Date).getTime(),u=[],p=[],d=!1,f=!0;if(!e){if(e=!0,eachProp(h,function(t){var e=t.map,r=e.id;if(t.enabled&&(e.isDefine||p.push(t),!t.error))if(!t.inited&&l)y(r)?(i=!0,d=!0):(u.push(r),v(r));else if(!t.inited&&t.fetched&&e.isDefine&&(d=!0,!e.prefix))return f=!1}),l&&u.length)return(t=makeError("timeout","Load timeout for modules: "+u,null,u)).contextName=r.contextName,T(t);f&&each(p,function(t){!function t(e,i,r){var n=e.map.id;e.error?e.emit("error",e.error):(i[n]=!0,each(e.depMaps,function(n,s){var o=n.id,h=getOwn(a,o);!h||e.depMatched[s]||r[o]||(getOwn(i,o)?(e.defineDep(s,c[o]),e.check()):t(h,i,r))}),r[n]=!0)}(t,{},{})}),l&&!i||!d||!isBrowser&&!isWebWorker||s||(s=setTimeout(function(){s=0,E()},50)),e=!1}}(i=function(t){this.events=getOwn(l,t.id)||{},this.map=t,this.shim=getOwn(o.shim,t.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(t,e,i,r){r=r||{},this.inited||(this.factory=e,i?this.on("error",i):this.events.error&&(i=bind(this,function(t){this.emit("error",t)})),this.depMaps=t&&t.slice(0),this.errback=i,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(t,e){this.depMatched[t]||(this.depMatched[t]=!0,this.depCount-=1,this.depExports[t]=e)},fetch:function(){if(!this.fetched){this.fetched=!0,r.startTime=(new Date).getTime();var t=this.map;if(!this.shim)return t.prefix?this.callPlugin():this.load();r.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return t.prefix?this.callPlugin():this.load()}))}},load:function(){var t=this.map.url;p[t]||(p[t]=!0,r.load(this.map.id,t))},check:function(){if(this.enabled&&!this.enabling){var t,e,i=this.map.id,n=this.depExports,s=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{s=r.execCb(i,o,n,s)}catch(e){t=e}else s=r.execCb(i,o,n,s);if(this.map.isDefine&&void 0===s&&((e=this.module)?s=e.exports:this.usingExports&&(s=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",T(this.error=t)}else s=o;this.exports=s,this.map.isDefine&&!this.ignore&&(c[i]=s,req.onResourceLoad&&req.onResourceLoad(r,this.map,this.depMaps)),C(i),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var t=this.map,e=t.id,i=b(t.prefix);this.depMaps.push(i),w(i,"defined",bind(this,function(i){var n,s,h,l=getOwn(d,this.map.id),u=this.map.name,c=this.map.parentMap?this.map.parentMap.name:null,p=r.makeRequire(t.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(u=i.normalize(u,function(t){return m(t,c,!0)})||""),w(s=b(t.prefix+"!"+u,this.map.parentMap),"defined",bind(this,function(t){this.init([],function(){return t},null,{enabled:!0,ignore:!0})})),void((h=getOwn(a,s.id))&&(this.depMaps.push(s),this.events.error&&h.on("error",bind(this,function(t){this.emit("error",t)})),h.enable()))):l?(this.map.url=r.nameToUrl(l),void this.load()):((n=bind(this,function(t){this.init([],function(){return t},null,{enabled:!0})})).error=bind(this,function(t){this.inited=!0,this.error=t,t.requireModules=[e],eachProp(a,function(t){0===t.map.id.indexOf(e+"_unnormalized")&&C(t.map.id)}),T(t)}),n.fromText=bind(this,function(i,s){var a=t.name,h=b(a),l=useInteractive;s&&(i=s),l&&(useInteractive=!1),_(h),hasProp(o.config,e)&&(o.config[a]=o.config[e]);try{req.exec(i)}catch(t){return T(makeError("fromtexteval","fromText eval for "+e+" failed: "+t,t,[e]))}l&&(useInteractive=!0),this.depMaps.push(h),r.completeLoad(a),p([a],n)}),void i.load(t.name,p,n,o))})),r.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){h[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(t,e){var i,s,o;if("string"==typeof t){if(t=b(t,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[e]=t,o=getOwn(n,t.id))return void(this.depExports[e]=o(this));this.depCount+=1,w(t,"defined",bind(this,function(t){this.defineDep(e,t),this.check()})),this.errback?w(t,"error",bind(this,this.errback)):this.events.error&&w(t,"error",bind(this,function(t){this.emit("error",t)}))}i=t.id,s=a[i],hasProp(n,i)||!s||s.enabled||r.enable(t,this)})),eachProp(this.pluginMaps,bind(this,function(t){var e=getOwn(a,t.id);e&&!e.enabled&&r.enable(t,this)})),this.enabling=!1,this.check()},on:function(t,e){var i=this.events[t];i||(i=this.events[t]=[]),i.push(e)},emit:function(t,e){each(this.events[t],function(t){t(e)}),"error"===t&&delete this.events[t]}};function A(t){hasProp(c,t[0])||_(b(t[0],null,!0)).init(t[1],t[2])}function k(t,e,i,r){t.detachEvent&&!isOpera?r&&t.detachEvent(r,e):t.removeEventListener(i,e,!1)}function M(t){var e=t.currentTarget||t.srcElement;return k(e,r.onScriptLoad,"load","onreadystatechange"),k(e,r.onScriptError,"error"),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function R(){var t;for(S();u.length;){if(null===(t=u.shift())[0])return T(makeError("mismatch","Mismatched anonymous define() module: "+t[t.length-1]));A(t)}}return(r={config:o,contextName:t,registry:a,defined:c,urlFetched:p,defQueue:u,Module:i,makeModuleMap:b,nextTick:req.nextTick,onError:T,configure:function(t){t.baseUrl&&"/"!==t.baseUrl.charAt(t.baseUrl.length-1)&&(t.baseUrl+="/");var e=o.shim,i={paths:!0,bundles:!0,config:!0,map:!0};eachProp(t,function(t,e){i[e]?(o[e]||(o[e]={}),mixin(o[e],t,!0,!0)):o[e]=t}),t.bundles&&eachProp(t.bundles,function(t,e){each(t,function(t){t!==e&&(d[t]=e)})}),t.shim&&(eachProp(t.shim,function(t,i){isArray(t)&&(t={deps:t}),!t.exports&&!t.init||t.exportsFn||(t.exportsFn=r.makeShimExports(t)),e[i]=t}),o.shim=e),t.packages&&each(t.packages,function(t){var e;e=(t="string"==typeof t?{name:t}:t).name,t.location&&(o.paths[e]=t.location),o.pkgs[e]=t.name+"/"+(t.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(a,function(t,e){t.inited||t.map.unnormalized||(t.map=b(e))}),(t.deps||t.callback)&&r.require(t.deps||[],t.callback)},makeShimExports:function(t){return function(){var e;return t.init&&(e=t.init.apply(global,arguments)),e||t.exports&&getGlobal(t.exports)}},makeRequire:function(e,i){i=i||{};function s(o,h,l){var u,p;return i.enableBuildCallback&&h&&isFunction(h)&&(h.__requireJsBuild=!0),"string"==typeof o?isFunction(h)?T(makeError("requireargs","Invalid require call"),l):e&&hasProp(n,o)?n[o](a[e.id]):req.get?req.get(r,o,e,s):(u=b(o,e,!1,!0).id,hasProp(c,u)?c[u]:T(makeError("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+t+(e?"":". Use require([])")))):(R(),r.nextTick(function(){R(),(p=_(b(null,e))).skipMap=i.skipMap,p.init(o,h,l,{enabled:!0}),E()}),s)}return mixin(s,{isBrowser:isBrowser,toUrl:function(t){var i,n=t.lastIndexOf("."),s=t.split("/")[0];return-1!==n&&(!("."===s||".."===s)||n>1)&&(i=t.substring(n,t.length),t=t.substring(0,n)),r.nameToUrl(m(t,e&&e.id,!0),i,!0)},defined:function(t){return hasProp(c,b(t,e,!1,!0).id)},specified:function(t){return t=b(t,e,!1,!0).id,hasProp(c,t)||hasProp(a,t)}}),e||(s.undef=function(t){S();var i=b(t,e,!0),r=getOwn(a,t);v(t),delete c[t],delete p[i.url],delete l[t],eachReverse(u,function(e,i){e[0]===t&&u.splice(i,1)}),r&&(r.events.defined&&(l[t]=r.events),C(t))}),s},enable:function(t){getOwn(a,t.id)&&_(t).enable()},completeLoad:function(t){var e,i,r,n=getOwn(o.shim,t)||{},s=n.exports;for(S();u.length;){if(null===(i=u.shift())[0]){if(i[0]=t,e)break;e=!0}else i[0]===t&&(e=!0);A(i)}if(r=getOwn(a,t),!e&&!hasProp(c,t)&&r&&!r.inited){if(!(!o.enforceDefine||s&&getGlobal(s)))return y(t)?void 0:T(makeError("nodefine","No define call for "+t,null,[t]));A([t,n.deps||[],n.exportsFn])}E()},nameToUrl:function(t,e,i){var n,s,a,h,l,u,c=getOwn(o.pkgs,t);if(c&&(t=c),u=getOwn(d,t))return r.nameToUrl(u,e,i);if(req.jsExtRegExp.test(t))h=t+(e||"");else{for(n=o.paths,a=(s=t.split("/")).length;a>0;a-=1)if(l=getOwn(n,s.slice(0,a).join("/"))){isArray(l)&&(l=l[0]),s.splice(0,a,l);break}h=s.join("/"),h=("/"===(h+=e||(/^data\:|\?/.test(h)||i?"":".js")).charAt(0)||h.match(/^[\w\+\.\-]+:/)?"":o.baseUrl)+h}return o.urlArgs?h+(-1===h.indexOf("?")?"?":"&")+o.urlArgs:h},load:function(t,e){req.load(r,t,e)},execCb:function(t,e,i,r){return e.apply(r,i)},onScriptLoad:function(t){if("load"===t.type||readyRegExp.test((t.currentTarget||t.srcElement).readyState)){interactiveScript=null;var e=M(t);r.completeLoad(e.id)}},onScriptError:function(t){var e=M(t);if(!y(e.id))return T(makeError("scripterror","Script error for: "+e.id,t,[e.id]))}}).require=r.makeRequire(),r}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(t){if("interactive"===t.readyState)return interactiveScript=t}),interactiveScript)}}(this),function(t){var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.html2canvas=function t(e,i,r){function n(o,a){if(!i[o]){if(!e[o]){var h="function"==typeof require&&require;if(!a&&h)return h(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[o]={exports:{}};e[o][0].call(u.exports,function(t){var i=e[o][1][t];return n(i||t)},u,u.exports,t,e,i,r)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)n(r[o]);return n}({1:[function(t,e,i){(function(t,i){(function(){"use strict";function r(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};Date.now;Object.create;var s=0,o=function(t,e){u[s]=t,u[s+1]=e,2===(s+=2)&&p()},a="undefined"!=typeof window?window:{},h=a.MutationObserver||a.WebKitMutationObserver,l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,u=new Array(1e3);function c(){for(var t=0;t<s;t+=2){var e=u[t],i=u[t+1];e(i),u[t]=void 0,u[t+1]=void 0}s=0}var p;p=void 0!==t&&"[object process]"==={}.toString.call(t)?function(){t.nextTick(c)}:h?function(){var t=0,e=new h(c),i=document.createTextNode("");return e.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}():l?function(){var t=new MessageChannel;return t.port1.onmessage=c,function(){t.port2.postMessage(0)}}():function(){setTimeout(c,1)};function d(){}var f=void 0,g=1,m=2,v=new C;function y(t,e){if(e.constructor===t.constructor)a=t,(h=e)._state===g?_(a,h._result):a._state===m?w(a,h._result):T(h,void 0,function(t){x(a,t)},function(t){w(a,t)});else{var i=function(t){try{return t.then}catch(t){return v.error=t,v}}(e);i===v?w(t,v.error):void 0===i?_(t,e):r(i)?(n=e,s=i,o(function(t){var e=!1,i=function(t,e,i,r){try{t.call(e,i,r)}catch(t){return t}}(s,n,function(i){e||(e=!0,n!==i?x(t,i):_(t,i))},function(i){e||(e=!0,w(t,i))},t._label);!e&&i&&(e=!0,w(t,i))},t)):_(t,e)}var n,s,a,h}function x(t,e){t===e?w(t,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(i=e)||"object"==typeof i&&null!==i?y(t,e):_(t,e);var i}function b(t){t._onerror&&t._onerror(t._result),S(t)}function _(t,e){t._state===f&&(t._result=e,t._state=g,0===t._subscribers.length||o(S,t))}function w(t,e){t._state===f&&(t._state=m,t._result=e,o(b,t))}function T(t,e,i,r){var n=t._subscribers,s=n.length;t._onerror=null,n[s]=e,n[s+g]=i,n[s+m]=r,0===s&&t._state&&o(S,t)}function S(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var r,n,s=t._result,o=0;o<e.length;o+=3)r=e[o],n=e[o+i],r?A(i,r,n,s):n(s);t._subscribers.length=0}}function C(){this.error=null}var E=new C;function A(t,e,i,n){var s,o,a,h,l=r(i);if(l){if((s=function(t,e){try{return t(e)}catch(t){return E.error=t,E}}(i,n))===E?(h=!0,o=s.error,s=null):a=!0,e===s)return void w(e,new TypeError("A promises callback cannot return that same promise."))}else s=n,a=!0;e._state!==f||(l&&a?x(e,s):h?w(e,o):t===g?_(e,s):t===m&&w(e,s))}function k(t,e,i,r){this._instanceConstructor=t,this.promise=new t(d,r),this._abortOnReject=i,this._validateInput(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._init(),0===this.length?_(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&_(this.promise,this._result))):w(this.promise,this._validationError())}k.prototype._validateInput=function(t){return n(t)},k.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},k.prototype._init=function(){this._result=new Array(this.length)};var M=k;k.prototype._enumerate=function(){for(var t=this.length,e=this.promise,i=this._input,r=0;e._state===f&&r<t;r++)this._eachEntry(i[r],r)},k.prototype._eachEntry=function(t,e){var i=this._instanceConstructor;"object"==typeof(r=t)&&null!==r?t.constructor===i&&t._state!==f?(t._onerror=null,this._settledAt(t._state,e,t._result)):this._willSettleAt(i.resolve(t),e):(this._remaining--,this._result[e]=this._makeResult(g,e,t));var r},k.prototype._settledAt=function(t,e,i){var r=this.promise;r._state===f&&(this._remaining--,this._abortOnReject&&t===m?w(r,i):this._result[e]=this._makeResult(t,e,i)),0===this._remaining&&_(r,this._result)},k.prototype._makeResult=function(t,e,i){return i},k.prototype._willSettleAt=function(t,e){var i=this;T(t,void 0,function(t){i._settledAt(g,e,t)},function(t){i._settledAt(m,e,t)})};var R=0,P=L;function L(t){this._id=R++,this._state=void 0,this._result=void 0,this._subscribers=[],d!==t&&(r(t)||function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof L||function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}(),function(t,e){try{e(function(e){x(t,e)},function(e){w(t,e)})}catch(e){w(t,e)}}(this,t))}L.all=function(t,e){return new M(this,t,!0,e).promise},L.race=function(t,e){var i=new this(d,e);if(!n(t))return w(i,new TypeError("You must pass an array to race.")),i;var r=t.length;function s(t){x(i,t)}function o(t){w(i,t)}for(var a=0;i._state===f&&a<r;a++)T(this.resolve(t[a]),void 0,s,o);return i},L.resolve=function(t,e){if(t&&"object"==typeof t&&t.constructor===this)return t;var i=new this(d,e);return x(i,t),i},L.reject=function(t,e){var i=new this(d,e);return w(i,t),i},L.prototype={constructor:L,then:function(t,e){var i=this._state;if(i===g&&!t||i===m&&!e)return this;var r=new this.constructor(d),n=this._result;if(i){var s=arguments[i-1];o(function(){A(i,r,s,n)})}else T(this,r,t,e);return r},catch:function(t){return this.then(null,t)}};var O={Promise:P,polyfill:function(){var t;"Promise"in(t=void 0!==i?i:"undefined"!=typeof window&&window.document?window:self)&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise(function(t){e=t}),r(e)}()||(t.Promise=P)}};void 0!==e&&e.exports?e.exports=O:void 0!==this&&(this.ES6Promise=O)}).call(this)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:2}],2:[function(t,e,i){var r=e.exports={},n=[],s=!1;function o(){if(!s){s=!0;for(var t,e=n.length;e;){t=n,n=[];for(var i=-1;++i<e;)t[i]();e=n.length}s=!1}}r.nextTick=function(t){n.push(t),s||setTimeout(o,0)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="";function a(){}r.on=a,r.addListener=a,r.once=a,r.off=a,r.removeListener=a,r.removeAllListeners=a,r.emit=a,r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],3:[function(t,e,i){(function(t){!function(r){var n="object"==typeof i&&i,s="object"==typeof e&&e&&e.exports==n&&e,o="object"==typeof t&&t;o.global!==o&&o.window!==o||(r=o);var a,h,l=2147483647,u=36,c=1,p=26,d=38,f=700,g=72,m=128,v="-",y=/^xn--/,x=/[^ -~]/,b=/\x2E|\u3002|\uFF0E|\uFF61/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=u-c,T=Math.floor,S=String.fromCharCode;function C(t){throw RangeError(_[t])}function E(t,e){for(var i=t.length;i--;)t[i]=e(t[i]);return t}function A(t,e){return E(t.split(b),e).join(".")}function k(t){for(var e,i,r=[],n=0,s=t.length;n<s;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<s?56320==(64512&(i=t.charCodeAt(n++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),n--):r.push(e);return r}function M(t){return E(t,function(t){var e="";return t>65535&&(e+=S((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=S(t)}).join("")}function R(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:u}function P(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function L(t,e,i){var r=0;for(t=i?T(t/f):t>>1,t+=T(t/e);t>w*p>>1;r+=u)t=T(t/w);return T(r+(w+1)*t/(t+d))}function O(t){var e,i,r,n,s,o,a,h,d,f,y=[],x=t.length,b=0,_=m,w=g;for((i=t.lastIndexOf(v))<0&&(i=0),r=0;r<i;++r)t.charCodeAt(r)>=128&&C("not-basic"),y.push(t.charCodeAt(r));for(n=i>0?i+1:0;n<x;){for(s=b,o=1,a=u;n>=x&&C("invalid-input"),((h=R(t.charCodeAt(n++)))>=u||h>T((l-b)/o))&&C("overflow"),b+=h*o,!(h<(d=a<=w?c:a>=w+p?p:a-w));a+=u)o>T(l/(f=u-d))&&C("overflow"),o*=f;e=y.length+1,w=L(b-s,e,0==s),T(b/e)>l-_&&C("overflow"),_+=T(b/e),b%=e,y.splice(b++,0,_)}return M(y)}function D(t){var e,i,r,n,s,o,a,h,d,f,y,x,b,_,w,E=[];for(t=k(t),x=t.length,e=m,i=0,s=g,o=0;o<x;++o)(y=t[o])<128&&E.push(S(y));for(r=n=E.length,n&&E.push(v);r<x;){for(a=l,o=0;o<x;++o)(y=t[o])>=e&&y<a&&(a=y);for(a-e>T((l-i)/(b=r+1))&&C("overflow"),i+=(a-e)*b,e=a,o=0;o<x;++o)if((y=t[o])<e&&++i>l&&C("overflow"),y==e){for(h=i,d=u;!(h<(f=d<=s?c:d>=s+p?p:d-s));d+=u)w=h-f,_=u-f,E.push(S(P(f+w%_,0))),h=T(w/_);E.push(S(P(h,0))),s=L(i,b,r==n),i=0,++r}++i,++e}return E.join("")}if(a={version:"1.2.4",ucs2:{decode:k,encode:M},decode:O,encode:D,toASCII:function(t){return A(t,function(t){return x.test(t)?"xn--"+D(t):t})},toUnicode:function(t){return A(t,function(t){return y.test(t)?O(t.slice(4).toLowerCase()):t})}},n&&!n.nodeType)if(s)s.exports=a;else for(h in a)a.hasOwnProperty(h)&&(n[h]=a[h]);else r.punycode=a}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e,i){var r=t("./log"),n=t("./promise"),s="data-html2canvas-canvas-clone",o=0;function a(t,e,i){for(var r=t.getElementsByTagName(i),n=e.getElementsByTagName(i),s=r.length,o=0;o<s;o++)n[o].value=r[o].value}function h(t){return t.nodeType===Node.ELEMENT_NODE}e.exports=function(t,e,i,l,u,c,p){d=t,[].slice.call(d.querySelectorAll("canvas"),0).forEach(function(t){t.setAttribute(s,"canvas-"+o++)});var d,f=document.documentMode&&document.documentMode<=9?function t(e,i){for(var r=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),n=e.firstChild;n;)!0!==i&&1===n.nodeType&&"SCRIPT"===n.nodeName||r.appendChild(t(n,i)),n=n.nextSibling;return r}(t.documentElement,u.javascriptEnabled):t.documentElement.cloneNode(!0),g=e.createElement("iframe");return g.className="html2canvas-container",g.style.visibility="hidden",g.style.position="fixed",g.style.left="-10000px",g.style.top="0px",g.style.border="0",g.width=i,g.height=l,g.scrolling="no",e.body.appendChild(g),new n(function(e){var i=g.contentWindow.document;a(t.documentElement,f,"textarea"),a(t.documentElement,f,"select"),g.contentWindow.onload=g.onload=function(){var n=setInterval(function(){i.body.childNodes.length>0&&(o=t,a=i,[].slice.call(o.querySelectorAll("["+s+"]"),0).forEach(function(t){try{var e=a.querySelector("["+s+'="'+t.getAttribute(s)+'"]');e&&(e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t.getContext("2d").getImageData(0,0,t.width,t.height),0,0))}catch(e){r("Unable to copy canvas content from",t,e)}t.removeAttribute(s)}),clearInterval(n),"view"===u.type&&g.contentWindow.scrollTo(c,p),e(g));var o,a},50)},i.open(),i.write("<!DOCTYPE html><html></html>"),o=c,l=p,!(n=t).defaultView||o===n.defaultView.pageXOffset&&l===n.defaultView.pageYOffset||n.defaultView.scrollTo(o,l);var n,o,l;i.replaceChild(!0===u.javascriptEnabled?i.adoptNode(f):function t(e){return[].slice.call(e.childNodes,0).filter(h).forEach(function(i){"SCRIPT"===i.tagName?e.removeChild(i):t(i)}),e}(i.adoptNode(f)),i.documentElement),i.close()})}},{"./log":15,"./promise":18}],5:[function(t,e,i){function r(t){this.r=0,this.g=0,this.b=0,this.a=null,this.fromArray(t)||this.namedColor(t)||this.rgb(t)||this.rgba(t)||this.hex6(t)||this.hex3(t)}r.prototype.darken=function(t){var e=1-t;return new r([Math.round(this.r*e),Math.round(this.g*e),Math.round(this.b*e),this.a])},r.prototype.isTransparent=function(){return 0===this.a},r.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},r.prototype.fromArray=function(t){return Array.isArray(t)&&(this.r=Math.min(t[0],255),this.g=Math.min(t[1],255),this.b=Math.min(t[2],255),t.length>3&&(this.a=t[3])),Array.isArray(t)};var n=/^#([a-f0-9]{3})$/i;r.prototype.hex3=function(t){var e=null;return null!==(e=t.match(n))&&(this.r=parseInt(e[1][0]+e[1][0],16),this.g=parseInt(e[1][1]+e[1][1],16),this.b=parseInt(e[1][2]+e[1][2],16)),null!==e};var s=/^#([a-f0-9]{6})$/i;r.prototype.hex6=function(t){var e=null;return null!==(e=t.match(s))&&(this.r=parseInt(e[1].substring(0,2),16),this.g=parseInt(e[1].substring(2,4),16),this.b=parseInt(e[1].substring(4,6),16)),null!==e};var o=/^rgb\((\d{1,3}) *, *(\d{1,3}) *, *(\d{1,3})\)$/;r.prototype.rgb=function(t){var e=null;return null!==(e=t.match(o))&&(this.r=Number(e[1]),this.g=Number(e[2]),this.b=Number(e[3])),null!==e};var a=/^rgba\((\d{1,3}) *, *(\d{1,3}) *, *(\d{1,3}) *, *(\d+\.?\d*)\)$/;r.prototype.rgba=function(t){var e=null;return null!==(e=t.match(a))&&(this.r=Number(e[1]),this.g=Number(e[2]),this.b=Number(e[3]),this.a=Number(e[4])),null!==e},r.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},r.prototype.namedColor=function(t){var e=h[t.toLowerCase()];if(e)this.r=e[0],this.g=e[1],this.b=e[2];else if("transparent"===t.toLowerCase())return this.r=this.g=this.b=this.a=0,!0;return!!e},r.prototype.isColor=!0;var h={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};e.exports=r},{}],6:[function(t,e,i){var r=t("./promise"),n=t("./support"),s=t("./renderers/canvas"),o=t("./imageloader"),a=t("./nodeparser"),h=t("./nodecontainer"),l=t("./log"),u=t("./utils"),c=t("./clone"),p=t("./proxy").loadUrlDocument,d=u.getBounds,f="data-html2canvas-node",g=0;function m(t,e){var i=g++;if((e=e||{}).logging&&(window.html2canvas.logging=!0,window.html2canvas.start=Date.now()),e.async=void 0===e.async||e.async,e.allowTaint=void 0!==e.allowTaint&&e.allowTaint,e.removeContainer=void 0===e.removeContainer||e.removeContainer,e.javascriptEnabled=void 0!==e.javascriptEnabled&&e.javascriptEnabled,e.imageTimeout=void 0===e.imageTimeout?1e4:e.imageTimeout,e.renderer="function"==typeof e.renderer?e.renderer:s,e.strict=!!e.strict,"string"==typeof t){if("string"!=typeof e.proxy)return r.reject("Proxy must be used when rendering url");var n=null!=e.width?e.width:window.innerWidth,o=null!=e.height?e.height:window.innerHeight;return p(function(t){var e=document.createElement("a");return e.href=t,e.href=e.href,e}(t),e.proxy,document,n,o,e).then(function(t){return v(t.contentWindow.document.documentElement,t,e,n,o)})}var a=(void 0===t?[document.documentElement]:t.length?t:[t])[0];return a.setAttribute(f+i,i),(h=a.ownerDocument,u=e,d=a.ownerDocument.defaultView.innerWidth,m=a.ownerDocument.defaultView.innerHeight,y=i,c(h,h,d,m,u,h.defaultView.pageXOffset,h.defaultView.pageYOffset).then(function(t){l("Document cloned");var e=f+y,i="["+e+"='"+y+"']";h.querySelector(i).removeAttribute(e);var n=t.contentWindow,s=n.document.querySelector(i),o="function"==typeof u.onclone?r.resolve(u.onclone(n.document)):r.resolve(!0);return o.then(function(){return v(s,t,u,d,m)})})).then(function(t){return"function"==typeof e.onrendered&&(l("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),e.onrendered(t)),t});var h,u,d,m,y}m.Promise=r,m.CanvasRenderer=s,m.NodeContainer=h,m.log=l,m.utils=u,e.exports="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return r.reject("No canvas support")}:m;function v(t,e,i,r,s){var h,u,c=e.contentWindow,p=new n(c.document),f=new o(i,p),g=d(t),m="view"===i.type?r:(h=c.document,Math.max(Math.max(h.body.scrollWidth,h.documentElement.scrollWidth),Math.max(h.body.offsetWidth,h.documentElement.offsetWidth),Math.max(h.body.clientWidth,h.documentElement.clientWidth))),v="view"===i.type?s:(u=c.document,Math.max(Math.max(u.body.scrollHeight,u.documentElement.scrollHeight),Math.max(u.body.offsetHeight,u.documentElement.offsetHeight),Math.max(u.body.clientHeight,u.documentElement.clientHeight))),x=new i.renderer(m,v,f,i,document),b=new a(t,x,p,f,i);return b.ready.then(function(){l("Finished rendering");var r;r="view"===i.type?y(x.canvas,{width:x.canvas.width,height:x.canvas.height,top:0,left:0,x:0,y:0}):t===c.document.body||t===c.document.documentElement||null!=i.canvas?x.canvas:y(x.canvas,{width:null!=i.width?i.width:g.width,height:null!=i.height?i.height:g.height,top:g.top,left:g.left,x:c.pageXOffset,y:c.pageYOffset}),n=e,i.removeContainer&&(n.parentNode.removeChild(n),l("Cleaned up container"));var n;return r})}function y(t,e){var i=document.createElement("canvas"),r=Math.min(t.width-1,Math.max(0,e.left)),n=Math.min(t.width,Math.max(1,e.left+e.width)),s=Math.min(t.height-1,Math.max(0,e.top)),o=Math.min(t.height,Math.max(1,e.top+e.height));return i.width=e.width,i.height=e.height,l("Cropping canvas at:","left:",e.left,"top:",e.top,"width:",n-r,"height:",o-s),l("Resulting crop with width",e.width,"and height",e.height," with x",r,"and y",s),i.getContext("2d").drawImage(t,r,s,n-r,o-s,e.x,e.y,n-r,o-s),i}},{"./clone":4,"./imageloader":13,"./log":15,"./nodecontainer":16,"./nodeparser":17,"./promise":18,"./proxy":19,"./renderers/canvas":23,"./support":25,"./utils":29}],7:[function(t,e,i){var r=t("./promise"),n=t("./log"),s=t("./utils").smallImage;e.exports=function t(e){if(this.src=e,n("DummyImageContainer for",e),!this.promise||!this.image){n("Initiating DummyImageContainer"),t.prototype.image=new Image;var i=this.image;t.prototype.promise=new r(function(t,e){i.onload=t,i.onerror=e,i.src=s(),!0===i.complete&&t(i)})}}},{"./log":15,"./promise":18,"./utils":29}],8:[function(t,e,i){var r=t("./utils").smallImage;e.exports=function(t,e){var i,n,s=document.createElement("div"),o=document.createElement("img"),a=document.createElement("span");s.style.visibility="hidden",s.style.fontFamily=t,s.style.fontSize=e,s.style.margin=0,s.style.padding=0,document.body.appendChild(s),o.src=r(),o.width=1,o.height=1,o.style.margin=0,o.style.padding=0,o.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=e,a.style.margin=0,a.style.padding=0,a.appendChild(document.createTextNode("Hidden Text")),s.appendChild(a),s.appendChild(o),i=o.offsetTop-a.offsetTop+1,s.removeChild(a),s.appendChild(document.createTextNode("Hidden Text")),s.style.lineHeight="normal",o.style.verticalAlign="super",n=o.offsetTop-s.offsetTop+1,document.body.removeChild(s),this.baseline=i,this.lineWidth=1,this.middle=n}},{"./utils":29}],9:[function(t,e,i){var r=t("./font");function n(){this.data={}}n.prototype.getMetrics=function(t,e){return void 0===this.data[t+"-"+e]&&(this.data[t+"-"+e]=new r(t,e)),this.data[t+"-"+e]},e.exports=n},{"./font":8}],10:[function(t,e,i){var r=t("./utils"),n=t("./promise"),s=r.getBounds,o=t("./proxy").loadUrlDocument;function a(e,i,r){this.image=null,this.src=e;var o=this,a=s(e);this.promise=(i?new n(function(t){"about:blank"===e.contentWindow.document.URL||null==e.contentWindow.document.documentElement?e.contentWindow.onload=e.onload=function(){t(e)}:t(e)}):this.proxyLoad(r.proxy,a,r)).then(function(e){var i=t("./core");return i(e.contentWindow.document.documentElement,{type:"view",width:e.width,height:e.height,proxy:r.proxy,javascriptEnabled:r.javascriptEnabled,removeContainer:r.removeContainer,allowTaint:r.allowTaint,imageTimeout:r.imageTimeout/2})}).then(function(t){return o.image=t})}a.prototype.proxyLoad=function(t,e,i){var r=this.src;return o(r.src,t,r.ownerDocument,e.width,e.height,i)},e.exports=a},{"./core":6,"./promise":18,"./proxy":19,"./utils":29}],11:[function(t,e,i){var r=t("./promise");function n(t){this.src=t.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=r.resolve(!0)}n.prototype.TYPES={LINEAR:1,RADIAL:2},e.exports=n},{"./promise":18}],12:[function(t,e,i){var r=t("./promise");e.exports=function(t,e){this.src=t,this.image=new Image;var i=this;this.tainted=null,this.promise=new r(function(r,n){i.image.onload=r,i.image.onerror=n,e&&(i.image.crossOrigin="anonymous"),i.image.src=t,!0===i.image.complete&&r(i.image)})}},{"./promise":18}],13:[function(t,e,i){var r=t("./promise"),n=t("./log"),s=t("./imagecontainer"),o=t("./dummyimagecontainer"),a=t("./proxyimagecontainer"),h=t("./framecontainer"),l=t("./svgcontainer"),u=t("./svgnodecontainer"),c=t("./lineargradientcontainer"),p=t("./webkitgradientcontainer"),d=t("./utils").bind;function f(t,e){this.link=null,this.options=t,this.support=e,this.origin=this.getOrigin(window.location.href)}f.prototype.findImages=function(t){var e=[];return t.reduce(function(t,e){switch(e.node.nodeName){case"IMG":return t.concat([{args:[e.node.src],method:"url"}]);case"svg":case"IFRAME":return t.concat([{args:[e.node],method:e.node.nodeName}])}return t},[]).forEach(this.addImage(e,this.loadImage),this),e},f.prototype.findBackgroundImage=function(t,e){return e.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(t,this.loadImage),this),t},f.prototype.addImage=function(t,e){return function(i){i.args.forEach(function(r){this.imageExists(t,r)||(t.splice(0,0,e.call(this,i)),n("Added image #"+t.length,"string"==typeof r?r.substring(0,100):r))},this)}},f.prototype.hasImageBackground=function(t){return"none"!==t.method},f.prototype.loadImage=function(t){if("url"===t.method){var e=t.args[0];return!this.isSVG(e)||this.support.svg||this.options.allowTaint?e.match(/data:image\/.*;base64,/i)?new s(e.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(e)||!0===this.options.allowTaint||this.isSVG(e)?new s(e,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new s(e,!0):this.options.proxy?new a(e,this.options.proxy):new o(e):new l(e)}return"linear-gradient"===t.method?new c(t):"gradient"===t.method?new p(t):"svg"===t.method?new u(t.args[0],this.support.svg):"IFRAME"===t.method?new h(t.args[0],this.isSameOrigin(t.args[0].src),this.options):new o(t)},f.prototype.isSVG=function(t){return"svg"===t.substring(t.length-3).toLowerCase()||l.prototype.isInline(t)},f.prototype.imageExists=function(t,e){return t.some(function(t){return t.src===e})},f.prototype.isSameOrigin=function(t){return this.getOrigin(t)===this.origin},f.prototype.getOrigin=function(t){var e=this.link||(this.link=document.createElement("a"));return e.href=t,e.href=e.href,e.protocol+e.hostname+e.port},f.prototype.getPromise=function(t){return this.timeout(t,this.options.imageTimeout).catch(function(){var e=new o(t.src);return e.promise.then(function(e){t.image=e})})},f.prototype.get=function(t){var e=null;return this.images.some(function(i){return(e=i).src===t})?e:null},f.prototype.fetch=function(t){return this.images=t.reduce(d(this.findBackgroundImage,this),this.findImages(t)),this.images.forEach(function(t,e){t.promise.then(function(){n("Succesfully loaded image #"+(e+1),t)},function(i){n("Failed loading image #"+(e+1),t,i)})}),this.ready=r.all(this.images.map(this.getPromise,this)),n("Finished searching images"),this},f.prototype.timeout=function(t,e){var i,s=r.race([t.promise,new r(function(r,s){i=setTimeout(function(){n("Timed out loading image",t),s(t)},e)})]).then(function(t){return clearTimeout(i),t});return s.catch(function(){clearTimeout(i)}),s},e.exports=f},{"./dummyimagecontainer":7,"./framecontainer":10,"./imagecontainer":12,"./lineargradientcontainer":14,"./log":15,"./promise":18,"./proxyimagecontainer":20,"./svgcontainer":26,"./svgnodecontainer":27,"./utils":29,"./webkitgradientcontainer":30}],14:[function(t,e,i){var r=t("./gradientcontainer"),n=t("./color");function s(t){r.apply(this,arguments),this.type=this.TYPES.LINEAR;var e=null===t.args[0].match(this.stepRegExp);e?t.args[0].split(" ").reverse().forEach(function(t){switch(t){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var e=this.y0,i=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=i,this.y1=e}},this):(this.y0=0,this.y1=1),this.colorStops=t.args.slice(e?1:0).map(function(t){var e=t.match(this.stepRegExp);return{color:new n(e[1]),stop:"%"===e[3]?e[2]/100:null}},this),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(t,e){null===t.stop&&this.colorStops.slice(e).some(function(i,r){return null!==i.stop&&(t.stop=(i.stop-this.colorStops[e-1].stop)/(r+1)+this.colorStops[e-1].stop,!0)},this)},this)}s.prototype=Object.create(r.prototype),s.prototype.stepRegExp=/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/,e.exports=s},{"./color":5,"./gradientcontainer":11}],15:[function(t,e,i){e.exports=function(){window.html2canvas.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-window.html2canvas.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))}},{}],16:[function(t,e,i){var r=t("./color"),n=t("./utils"),s=n.getBounds,o=n.parseBackgrounds,a=n.offsetBounds;function h(t,e){this.node=t,this.parent=e,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}h.prototype.cloneTo=function(t){t.visible=this.visible,t.borders=this.borders,t.bounds=this.bounds,t.clip=this.clip,t.backgroundClip=this.backgroundClip,t.computedStyles=this.computedStyles,t.styles=this.styles,t.backgroundImages=this.backgroundImages,t.opacity=this.opacity},h.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},h.prototype.assignStack=function(t){this.stack=t,t.children.push(this)},h.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},h.prototype.css=function(t){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[t]||(this.styles[t]=this.computedStyles[t])},h.prototype.prefixedCss=function(t){var e=this.css(t);return void 0===e&&["webkit","moz","ms","o"].some(function(i){return void 0!==(e=this.css(i+t.substr(0,1).toUpperCase()+t.substr(1)))},this),void 0===e?null:e},h.prototype.computedStyle=function(t){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,t)},h.prototype.cssInt=function(t){var e=parseInt(this.css(t),10);return isNaN(e)?0:e},h.prototype.color=function(t){return this.colors[t]||(this.colors[t]=new r(this.css(t)))},h.prototype.cssFloat=function(t){var e=parseFloat(this.css(t));return isNaN(e)?0:e},h.prototype.fontWeight=function(){var t=this.css("fontWeight");switch(parseInt(t,10)){case 401:t="bold";break;case 400:t="normal"}return t},h.prototype.parseClip=function(){var t=this.css("clip").match(this.CLIP);return t?{top:parseInt(t[1],10),right:parseInt(t[2],10),bottom:parseInt(t[3],10),left:parseInt(t[4],10)}:null},h.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=o(this.css("backgroundImage")))},h.prototype.cssList=function(t,e){var i=(this.css(t)||"").split(",");return 1===(i=(i=i[e||0]||i[0]||"auto").trim().split(" ")).length&&(i=[i[0],l(i[0])?"auto":i[0]]),i},h.prototype.parseBackgroundSize=function(t,e,i){var r,n,s=this.cssList("backgroundSize",i);if(l(s[0]))r=t.width*parseFloat(s[0])/100;else{if(/contain|cover/.test(s[0])){var o=t.width/t.height,a=e.width/e.height;return o<a^"contain"===s[0]?{width:t.height*a,height:t.height}:{width:t.width,height:t.width/a}}r=parseInt(s[0],10)}return n="auto"===s[0]&&"auto"===s[1]?e.height:"auto"===s[1]?r/e.width*e.height:l(s[1])?t.height*parseFloat(s[1])/100:parseInt(s[1],10),"auto"===s[0]&&(r=n/e.height*e.width),{width:r,height:n}},h.prototype.parseBackgroundPosition=function(t,e,i,r){var n,s,o=this.cssList("backgroundPosition",i);return n=l(o[0])?(t.width-(r||e).width)*(parseFloat(o[0])/100):parseInt(o[0],10),s="auto"===o[1]?n/e.width*e.height:l(o[1])?(t.height-(r||e).height)*parseFloat(o[1])/100:parseInt(o[1],10),"auto"===o[0]&&(n=s/e.height*e.width),{left:n,top:s}},h.prototype.parseBackgroundRepeat=function(t){return this.cssList("backgroundRepeat",t)[0]},h.prototype.parseTextShadows=function(){var t=this.css("textShadow"),e=[];if(t&&"none"!==t)for(var i=t.match(this.TEXT_SHADOW_PROPERTY),n=0;i&&n<i.length;n++){var s=i[n].match(this.TEXT_SHADOW_VALUES);e.push({color:new r(s[0]),offsetX:s[1]?parseFloat(s[1].replace("px","")):0,offsetY:s[2]?parseFloat(s[2].replace("px","")):0,blur:s[3]?s[3].replace("px",""):0})}return e},h.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var t=this.parseBounds(),e=this.prefixedCss("transformOrigin").split(" ").map(u).map(c);e[0]+=t.left,e[1]+=t.top,this.transformData={origin:e,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},h.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var t=this.prefixedCss("transform"),e=t?function(t){if(t&&"matrix"===t[1])return t[2].split(",").map(function(t){return parseFloat(t.trim())})}(t.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=e||[1,0,0,1,0,0]}return this.transformMatrix},h.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?a(this.node):s(this.node))},h.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},h.prototype.getValue=function(){var t=this.node.value||"";return"SELECT"===this.node.tagName?t=function(t){var e=t.options[t.selectedIndex||0];return e?e.text||"":""}(this.node):"password"===this.node.type&&(t=Array(t.length+1).join("•")),0===t.length?this.node.placeholder||"":t},h.prototype.MATRIX_PROPERTY=/(matrix)\((.+)\)/,h.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,h.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,h.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/;function l(t){return-1!==t.toString().indexOf("%")}function u(t){return t.replace("px","")}function c(t){return parseFloat(t)}e.exports=h},{"./color":5,"./utils":29}],17:[function(t,e,i){var r=t("./log"),n=t("punycode"),s=t("./nodecontainer"),o=t("./textcontainer"),a=t("./pseudoelementcontainer"),h=t("./fontmetrics"),l=t("./color"),u=t("./promise"),c=t("./stackingcontext"),p=t("./utils"),d=p.bind,f=p.getBounds,g=p.parseBackgrounds,m=p.offsetBounds;function v(t,e,i,n,o){r("Starting NodeParser"),this.renderer=e,this.options=o,this.range=null,this.support=i,this.renderQueue=[],this.stack=new c(!0,1,t.ownerDocument,null);var a=new s(t,null);if(o.background&&e.rectangle(0,0,e.width,e.height,new l(o.background)),t===t.ownerDocument.documentElement){var p=new s(a.color("backgroundColor").isTransparent()?t.ownerDocument.body:t.ownerDocument.documentElement,null);e.rectangle(0,0,e.width,e.height,p.color("backgroundColor"))}a.visibile=a.isElementVisible(),this.createPseudoHideStyles(t.ownerDocument),this.disableAnimations(t.ownerDocument),this.nodes=$([a].concat(this.getChildren(a)).filter(function(t){return t.visible=t.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new h,r("Fetched nodes, total:",this.nodes.length),r("Calculate overflow clips"),this.calculateOverflowClips(),r("Start fetching images"),this.images=n.fetch(this.nodes.filter(B)),this.ready=this.images.ready.then(d(function(){return r("Images loaded, starting parsing"),r("Creating stacking contexts"),this.createStackingContexts(),r("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),r("Render queue created with "+this.renderQueue.length+" items"),new u(d(function(t){o.async?"function"==typeof o.async?o.async.call(this,this.renderQueue,t):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,t)):t():(this.renderQueue.forEach(this.paint,this),t())},this))},this))}v.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(t){if(B(t)){N(t)&&t.appendToDOM(),t.borders=this.parseBorders(t);var e="hidden"===t.css("overflow")?[t.borders.clip]:[],i=t.parseClip();i&&-1!==["absolute","fixed"].indexOf(t.css("position"))&&e.push([["rect",t.bounds.left+i.left,t.bounds.top+i.top,i.right-i.left,i.bottom-i.top]]),t.clip=y(t)?t.parent.clip.concat(e):e,t.backgroundClip="hidden"!==t.css("overflow")?t.clip.concat([t.borders.clip]):t.clip,N(t)&&t.cleanDOM()}else j(t)&&(t.clip=y(t)?t.parent.clip:[]);N(t)||(t.bounds=null)},this)};function y(t){return t.parent&&t.parent.clip.length}v.prototype.asyncRenderer=function(t,e,i){i=i||Date.now(),this.paint(t[this.renderIndex++]),t.length===this.renderIndex?e():i+20>Date.now()?this.asyncRenderer(t,e,i):setTimeout(d(function(){this.asyncRenderer(t,e)},this),0)},v.prototype.createPseudoHideStyles=function(t){this.createStyles(t,"."+a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},v.prototype.disableAnimations=function(t){this.createStyles(t,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},v.prototype.createStyles=function(t,e){var i=t.createElement("style");i.innerHTML=e,t.body.appendChild(i)},v.prototype.getPseudoElements=function(t){var e=[[t]];if(t.node.nodeType===Node.ELEMENT_NODE){var i=this.getPseudoElement(t,":before"),r=this.getPseudoElement(t,":after");i&&e.push(i),r&&e.push(r)}return $(e)},v.prototype.getPseudoElement=function(t,e){var i=t.computedStyle(e);if(!i||!i.content||"none"===i.content||"-moz-alt-content"===i.content||"none"===i.display)return null;for(var r=function(t){var e=t.substr(0,1);return e===t.substr(t.length-1)&&e.match(/'|"/)?t.substr(1,t.length-2):t}(i.content),n="url"===r.substr(0,3),s=document.createElement(n?"img":"html2canvaspseudoelement"),h=new a(s,t,e),l=i.length-1;l>=0;l--){var u=(c=i.item(l),c.replace(/(\-[a-z])/g,function(t){return t.toUpperCase().replace("-","")}));s.style[u]=i[u]}var c;if(s.className=a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,n)return s.src=g(r)[0].args[0],[h];var p=document.createTextNode(r);return s.appendChild(p),[h,new o(p,h)]},v.prototype.getChildren=function(t){return $([].filter.call(t.node.childNodes,O).map(function(e){var i=[e.nodeType===Node.TEXT_NODE?new o(e,t):new s(e,t)].filter(W);return e.nodeType===Node.ELEMENT_NODE&&i.length&&"TEXTAREA"!==e.tagName?i[0].isElementVisible()?i.concat(this.getChildren(i[0])):[]:i},this))},v.prototype.newStackingContext=function(t,e){var i=new c(e,t.getOpacity(),t.node,t.parent);t.cloneTo(i);var r=e?i.getParentStack(this):i.parent.stack;r.contexts.push(i),t.stack=i},v.prototype.createStackingContexts=function(){this.nodes.forEach(function(t){B(t)&&(this.isRootElement(t)||(i=t,i.getOpacity()<1)||function(t){var e=t.css("position");return"auto"!==(-1!==["absolute","relative","fixed"].indexOf(e)?t.css("zIndex"):"auto")}(t)||this.isBodyWithTransparentRoot(t)||t.hasTransform())?this.newStackingContext(t,!0):B(t)&&(D(t)&&M(t)||(e=t,-1!==["inline-block","inline-table"].indexOf(e.css("display")))||I(t))?this.newStackingContext(t,!1):t.assignStack(t.parent.stack);var e,i},this)},v.prototype.isBodyWithTransparentRoot=function(t){return"BODY"===t.node.nodeName&&t.parent.color("backgroundColor").isTransparent()},v.prototype.isRootElement=function(t){return null===t.parent},v.prototype.sortStackingContexts=function(t){t.contexts.sort((e=t.contexts.slice(0),function(t,i){return t.cssInt("zIndex")+e.indexOf(t)/e.length-(i.cssInt("zIndex")+e.indexOf(i)/e.length)}));var e;t.contexts.forEach(this.sortStackingContexts,this)},v.prototype.parseTextBounds=function(t){return function(e,i,r){if("none"!==t.parent.css("textDecoration").substr(0,4)||0!==e.trim().length){if(this.support.rangeBounds&&!t.parent.hasTransform()){var n=r.slice(0,i).join("").length;return this.getRangeBounds(t.node,n,e.length)}if(t.node&&"string"==typeof t.node.data){var s=t.node.splitText(e.length),o=this.getWrapperBounds(t.node,t.parent.hasTransform());return t.node=s,o}}else this.support.rangeBounds&&!t.parent.hasTransform()||(t.node=t.node.splitText(e.length));return{}}},v.prototype.getWrapperBounds=function(t,e){var i=t.ownerDocument.createElement("html2canvaswrapper"),r=t.parentNode,n=t.cloneNode(!0);i.appendChild(t.cloneNode(!0)),r.replaceChild(i,t);var s=e?m(i):f(i);return r.replaceChild(n,i),s},v.prototype.getRangeBounds=function(t,e,i){var r=this.range||(this.range=t.ownerDocument.createRange());return r.setStart(t,e),r.setEnd(t,e+i),r.getBoundingClientRect()};function x(){}v.prototype.parse=function(t){var e=t.contexts.filter(A),i=t.children.filter(B),r=i.filter(F(I)),n=r.filter(F(D)).filter(F(R)),s=i.filter(F(D)).filter(I),o=r.filter(F(D)).filter(R),a=t.contexts.concat(r.filter(D)).filter(M),h=t.children.filter(j).filter(L),l=t.contexts.filter(k);e.concat(n).concat(s).concat(o).concat(a).concat(h).concat(l).forEach(function(t){this.renderQueue.push(t),P(t)&&(this.parse(t),this.renderQueue.push(new x))},this)},v.prototype.paint=function(t){try{t instanceof x?this.renderer.ctx.restore():j(t)?(N(t.parent)&&t.parent.appendToDOM(),this.paintText(t),N(t.parent)&&t.parent.cleanDOM()):this.paintNode(t)}catch(t){if(r(t),this.options.strict)throw t}},v.prototype.paintNode=function(t){P(t)&&(this.renderer.setOpacity(t.opacity),this.renderer.ctx.save(),t.hasTransform()&&this.renderer.setTransform(t.parseTransform())),"INPUT"===t.node.nodeName&&"checkbox"===t.node.type?this.paintCheckbox(t):"INPUT"===t.node.nodeName&&"radio"===t.node.type?this.paintRadio(t):this.paintElement(t)},v.prototype.paintElement=function(t){var e=t.parseBounds();this.renderer.clip(t.backgroundClip,function(){this.renderer.renderBackground(t,e,t.borders.borders.map(G))},this),this.renderer.clip(t.clip,function(){this.renderer.renderBorders(t.borders.borders)},this),this.renderer.clip(t.backgroundClip,function(){switch(t.node.nodeName){case"svg":case"IFRAME":var i=this.images.get(t.node);i?this.renderer.renderImage(t,e,t.borders,i):r("Error loading <"+t.node.nodeName+">",t.node);break;case"IMG":var n=this.images.get(t.node.src);n?this.renderer.renderImage(t,e,t.borders,n):r("Error loading <img>",t.node.src);break;case"CANVAS":this.renderer.renderImage(t,e,t.borders,{image:t.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(t)}},this)},v.prototype.paintCheckbox=function(t){var e=t.parseBounds(),i=Math.min(e.width,e.height),r={width:i-1,height:i-1,top:e.top,left:e.left},n=[3,3],s=[n,n,n,n],o=[1,1,1,1].map(function(t){return{color:new l("#A5A5A5"),width:t}}),a=T(r,s,o);this.renderer.clip(t.backgroundClip,function(){this.renderer.rectangle(r.left+1,r.top+1,r.width-2,r.height-2,new l("#DEDEDE")),this.renderer.renderBorders(_(o,r,a,s)),t.node.checked&&(this.renderer.font(new l("#424242"),"normal","normal","bold",i-3+"px","arial"),this.renderer.text("✔",r.left+i/6,r.top+i-1))},this)},v.prototype.paintRadio=function(t){var e=t.parseBounds(),i=Math.min(e.width,e.height)-2;this.renderer.clip(t.backgroundClip,function(){this.renderer.circleStroke(e.left+1,e.top+1,i,new l("#DEDEDE"),1,new l("#A5A5A5")),t.node.checked&&this.renderer.circle(Math.ceil(e.left+i/4)+1,Math.ceil(e.top+i/4)+1,Math.floor(i/2),new l("#424242"))},this)},v.prototype.paintFormValue=function(t){var e=t.getValue();if(e.length>0){var i=t.node.ownerDocument,n=i.createElement("html2canvaswrapper");["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"].forEach(function(e){try{n.style[e]=t.css(e)}catch(t){r("html2canvas: Parse: Exception caught in renderFormValue: "+t.message)}});var s=t.parseBounds();n.style.position="fixed",n.style.left=s.left+"px",n.style.top=s.top+"px",n.textContent=e,i.body.appendChild(n),this.paintText(new o(n.firstChild,t)),i.body.removeChild(n)}},v.prototype.paintText=function(t){t.applyTextTransform();var e,i,r=n.ucs2.decode(t.node.data),s=this.options.letterRendering&&(i=t,!/^(normal|none|0px)$/.test(i.parent.css("letterSpacing")))||(e=t.node.data,/[^\u0000-\u00ff]/.test(e))?r.map(function(t){return n.ucs2.encode([t])}):function(t){for(var e,i=[],r=0,s=!1;t.length;)o=t[r],-1!==[32,13,10,9,45].indexOf(o)===s?((e=t.splice(0,r)).length&&i.push(n.ucs2.encode(e)),s=!s,r=0):r++,r>=t.length&&(e=t.splice(0,r)).length&&i.push(n.ucs2.encode(e));var o;return i}(r),o=t.parent.fontWeight(),a=t.parent.css("fontSize"),h=t.parent.css("fontFamily"),l=t.parent.parseTextShadows();this.renderer.font(t.parent.color("color"),t.parent.css("fontStyle"),t.parent.css("fontVariant"),o,a,h),l.length?this.renderer.fontShadow(l[0].color,l[0].offsetX,l[0].offsetY,l[0].blur):this.renderer.clearShadow(),this.renderer.clip(t.parent.clip,function(){s.map(this.parseTextBounds(t),this).forEach(function(e,i){e&&(this.renderer.text(s[i],e.left,e.bottom),this.renderTextDecoration(t.parent,e,this.fontMetrics.getMetrics(h,a)))},this)},this)},v.prototype.renderTextDecoration=function(t,e,i){switch(t.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(e.left,Math.round(e.top+i.baseline+i.lineWidth),e.width,1,t.color("color"));break;case"overline":this.renderer.rectangle(e.left,Math.round(e.top),e.width,1,t.color("color"));break;case"line-through":this.renderer.rectangle(e.left,Math.ceil(e.top+i.middle+i.lineWidth),e.width,1,t.color("color"))}};var b={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};v.prototype.parseBorders=function(t){var e,i=t.parseBounds(),r=(e=t,["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(t){var i=e.css("border"+t+"Radius"),r=i.split(" ");return r.length<=1&&(r[1]=r[0]),r.map(U)})),n=["Top","Right","Bottom","Left"].map(function(e,i){var r=t.css("border"+e+"Style"),n=t.color("border"+e+"Color");"inset"===r&&n.isBlack()&&(n=new l([255,255,255,n.a]));var s=b[r]?b[r][i]:null;return{width:t.cssInt("border"+e+"Width"),color:s?n[s[0]](s[1]):n,args:null}}),s=T(i,r,n);return{clip:this.parseBackgroundClip(t,s,n,r,i),borders:_(n,i,s,r)}};function _(t,e,i,r){return t.map(function(n,s){if(n.width>0){var o=e.left,a=e.top,h=e.width,l=e.height-t[2].width;switch(s){case 0:l=t[0].width,n.args=C({c1:[o,a],c2:[o+h,a],c3:[o+h-t[1].width,a+l],c4:[o+t[3].width,a+l]},r[0],r[1],i.topLeftOuter,i.topLeftInner,i.topRightOuter,i.topRightInner);break;case 1:o=e.left+e.width-t[1].width,h=t[1].width,n.args=C({c1:[o+h,a],c2:[o+h,a+l+t[2].width],c3:[o,a+l],c4:[o,a+t[0].width]},r[1],r[2],i.topRightOuter,i.topRightInner,i.bottomRightOuter,i.bottomRightInner);break;case 2:a=a+e.height-t[2].width,l=t[2].width,n.args=C({c1:[o+h,a+l],c2:[o,a+l],c3:[o+t[3].width,a],c4:[o+h-t[3].width,a]},r[2],r[3],i.bottomRightOuter,i.bottomRightInner,i.bottomLeftOuter,i.bottomLeftInner);break;case 3:h=t[3].width,n.args=C({c1:[o,a+l+t[2].width],c2:[o,a],c3:[o+h,a+t[0].width],c4:[o+h,a+l]},r[3],r[0],i.bottomLeftOuter,i.bottomLeftInner,i.topLeftOuter,i.topLeftInner)}}return n})}v.prototype.parseBackgroundClip=function(t,e,i,r,n){var s=t.css("backgroundClip"),o=[];switch(s){case"content-box":case"padding-box":E(o,r[0],r[1],e.topLeftInner,e.topRightInner,n.left+i[3].width,n.top+i[0].width),E(o,r[1],r[2],e.topRightInner,e.bottomRightInner,n.left+n.width-i[1].width,n.top+i[0].width),E(o,r[2],r[3],e.bottomRightInner,e.bottomLeftInner,n.left+n.width-i[1].width,n.top+n.height-i[2].width),E(o,r[3],r[0],e.bottomLeftInner,e.topLeftInner,n.left+i[3].width,n.top+n.height-i[2].width);break;default:E(o,r[0],r[1],e.topLeftOuter,e.topRightOuter,n.left,n.top),E(o,r[1],r[2],e.topRightOuter,e.bottomRightOuter,n.left+n.width,n.top),E(o,r[2],r[3],e.bottomRightOuter,e.bottomLeftOuter,n.left+n.width,n.top+n.height),E(o,r[3],r[0],e.bottomLeftOuter,e.topLeftOuter,n.left,n.top+n.height)}return o};function w(t,e,i,r){var n=(Math.sqrt(2)-1)/3*4,s=i*n,o=r*n,a=t+i,h=e+r;return{topLeft:S({x:t,y:h},{x:t,y:h-o},{x:a-s,y:e},{x:a,y:e}),topRight:S({x:t,y:e},{x:t+s,y:e},{x:a,y:h-o},{x:a,y:h}),bottomRight:S({x:a,y:e},{x:a,y:e+o},{x:t+s,y:h},{x:t,y:h}),bottomLeft:S({x:a,y:h},{x:a-s,y:h},{x:t,y:e+o},{x:t,y:e})}}function T(t,e,i){var r=t.left,n=t.top,s=t.width,o=t.height,a=e[0][0],h=e[0][1],l=e[1][0],u=e[1][1],c=e[2][0],p=e[2][1],d=e[3][0],f=e[3][1],g=s-l,m=o-p,v=s-c,y=o-f;return{topLeftOuter:w(r,n,a,h).topLeft.subdivide(.5),topLeftInner:w(r+i[3].width,n+i[0].width,Math.max(0,a-i[3].width),Math.max(0,h-i[0].width)).topLeft.subdivide(.5),topRightOuter:w(r+g,n,l,u).topRight.subdivide(.5),topRightInner:w(r+Math.min(g,s+i[3].width),n+i[0].width,g>s+i[3].width?0:l-i[3].width,u-i[0].width).topRight.subdivide(.5),bottomRightOuter:w(r+v,n+m,c,p).bottomRight.subdivide(.5),bottomRightInner:w(r+Math.min(v,s-i[3].width),n+Math.min(m,o+i[0].width),Math.max(0,c-i[1].width),p-i[2].width).bottomRight.subdivide(.5),bottomLeftOuter:w(r,n+y,d,f).bottomLeft.subdivide(.5),bottomLeftInner:w(r+i[3].width,n+y,Math.max(0,d-i[3].width),f-i[2].width).bottomLeft.subdivide(.5)}}function S(t,e,i,r){var n=function(t,e,i){return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}};return{start:t,startControl:e,endControl:i,end:r,subdivide:function(s){var o=n(t,e,s),a=n(e,i,s),h=n(i,r,s),l=n(o,a,s),u=n(a,h,s),c=n(l,u,s);return[S(t,o,l,c),S(c,u,h,r)]},curveTo:function(t){t.push(["bezierCurve",e.x,e.y,i.x,i.y,r.x,r.y])},curveToReversed:function(r){r.push(["bezierCurve",i.x,i.y,e.x,e.y,t.x,t.y])}}}function C(t,e,i,r,n,s,o){var a=[];return e[0]>0||e[1]>0?(a.push(["line",r[1].start.x,r[1].start.y]),r[1].curveTo(a)):a.push(["line",t.c1[0],t.c1[1]]),i[0]>0||i[1]>0?(a.push(["line",s[0].start.x,s[0].start.y]),s[0].curveTo(a),a.push(["line",o[0].end.x,o[0].end.y]),o[0].curveToReversed(a)):(a.push(["line",t.c2[0],t.c2[1]]),a.push(["line",t.c3[0],t.c3[1]])),e[0]>0||e[1]>0?(a.push(["line",n[1].end.x,n[1].end.y]),n[1].curveToReversed(a)):a.push(["line",t.c4[0],t.c4[1]]),a}function E(t,e,i,r,n,s,o){e[0]>0||e[1]>0?(t.push(["line",r[0].start.x,r[0].start.y]),r[0].curveTo(t),r[1].curveTo(t)):t.push(["line",s,o]),(i[0]>0||i[1]>0)&&t.push(["line",n[0].start.x,n[0].start.y])}function A(t){return t.cssInt("zIndex")<0}function k(t){return t.cssInt("zIndex")>0}function M(t){return 0===t.cssInt("zIndex")}function R(t){return-1!==["inline","inline-block","inline-table"].indexOf(t.css("display"))}function P(t){return t instanceof c}function L(t){return t.node.data.trim().length>0}function O(t){return t.nodeType===Node.TEXT_NODE||t.nodeType===Node.ELEMENT_NODE}function D(t){return"static"!==t.css("position")}function I(t){return"none"!==t.css("float")}function F(t){var e=this;return function(){return!t.apply(e,arguments)}}function B(t){return t.node.nodeType===Node.ELEMENT_NODE}function N(t){return!0===t.isPseudoElement}function j(t){return t.node.nodeType===Node.TEXT_NODE}function U(t){return parseInt(t,10)}function G(t){return t.width}function W(t){return t.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(t.node.nodeName)}function $(t){return[].concat.apply([],t)}e.exports=v},{"./color":5,"./fontmetrics":9,"./log":15,"./nodecontainer":16,"./promise":18,"./pseudoelementcontainer":21,"./stackingcontext":24,"./textcontainer":28,"./utils":29,punycode:3}],18:[function(t,e,i){e.exports=t("es6-promise").Promise},{"es6-promise":1}],19:[function(t,e,i){var r=t("./promise"),n=t("./xhr"),s=t("./utils"),o=t("./log"),a=t("./clone"),h=s.decode64;function l(t,e,i){var s="withCredentials"in new XMLHttpRequest;if(!e)return r.reject("No proxy configured");var o=p(s),a=d(e,t,o);return s?n(a):c(i,a,o).then(function(t){return h(t.content)})}var u=0;function c(t,e,i){return new r(function(r,n){var s=t.createElement("script"),o=function(){delete window.html2canvas.proxy[i],t.body.removeChild(s)};window.html2canvas.proxy[i]=function(t){o(),r(t)},s.src=e,s.onerror=function(t){o(),n(t)},t.body.appendChild(s)})}function p(t){return t?"":"html2canvas_"+Date.now()+"_"+ ++u+"_"+Math.round(1e5*Math.random())}function d(t,e,i){return t+"?url="+encodeURIComponent(e)+(i.length?"&callback=html2canvas.proxy."+i:"")}i.Proxy=l,i.ProxyURL=function(t,e,i){var n="crossOrigin"in new Image,s=p(n),o=d(e,t,s);return n?r.resolve(o):c(i,o,s).then(function(t){return"data:"+t.type+";base64,"+t.content})},i.loadUrlDocument=function(t,e,i,r,n,s){return new l(t,e,window.document).then(function(t){return function(e){var i,r=new DOMParser;try{i=r.parseFromString(e,"text/html")}catch(t){o("DOMParser not supported, falling back to createHTMLDocument"),i=document.implementation.createHTMLDocument("");try{i.open(),i.write(e),i.close()}catch(t){o("createHTMLDocument write not supported, falling back to document.body.innerHTML"),i.body.innerHTML=e}}var n=i.querySelector("base");if(!n||!n.href.host){var s=i.createElement("base");s.href=t,i.head.insertBefore(s,i.head.firstChild)}return i}}(t)).then(function(t){return a(t,i,r,n,s,0,0)})}},{"./clone":4,"./log":15,"./promise":18,"./utils":29,"./xhr":31}],20:[function(t,e,i){var r=t("./proxy").ProxyURL,n=t("./promise");e.exports=function(t,e){var i=document.createElement("a");i.href=t,t=i.href,this.src=t,this.image=new Image;var s=this;this.promise=new n(function(i,n){s.image.crossOrigin="Anonymous",s.image.onload=i,s.image.onerror=n,new r(t,e,document).then(function(t){s.image.src=t}).catch(n)})}},{"./promise":18,"./proxy":19}],21:[function(t,e,i){var r=t("./nodecontainer");function n(t,e,i){r.call(this,t,e),this.isPseudoElement=!0,this.before=":before"===i}n.prototype.cloneTo=function(t){n.prototype.cloneTo.call(this,t),t.isPseudoElement=!0,t.before=this.before},n.prototype=Object.create(r.prototype),n.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},n.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},n.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},n.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",n.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",e.exports=n},{"./nodecontainer":16}],22:[function(t,e,i){var r=t("./log");function n(t,e,i,r,n){this.width=t,this.height=e,this.images=i,this.options=r,this.document=n}n.prototype.renderImage=function(t,e,i,r){var n=t.cssInt("paddingLeft"),s=t.cssInt("paddingTop"),o=t.cssInt("paddingRight"),a=t.cssInt("paddingBottom"),h=i.borders,l=e.width-(h[1].width+h[3].width+n+o),u=e.height-(h[0].width+h[2].width+s+a);this.drawImage(r,0,0,r.image.width||l,r.image.height||u,e.left+n+h[3].width,e.top+s+h[0].width,l,u)},n.prototype.renderBackground=function(t,e,i){e.height>0&&e.width>0&&(this.renderBackgroundColor(t,e),this.renderBackgroundImage(t,e,i))},n.prototype.renderBackgroundColor=function(t,e){var i=t.color("backgroundColor");i.isTransparent()||this.rectangle(e.left,e.top,e.width,e.height,i)},n.prototype.renderBorders=function(t){t.forEach(this.renderBorder,this)},n.prototype.renderBorder=function(t){t.color.isTransparent()||null===t.args||this.drawShape(t.args,t.color)},n.prototype.renderBackgroundImage=function(t,e,i){var n=t.parseBackgroundImages();n.reverse().forEach(function(n,s,o){switch(n.method){case"url":var a=this.images.get(n.args[0]);a?this.renderBackgroundRepeating(t,e,a,o.length-(s+1),i):r("Error loading background-image",n.args[0]);break;case"linear-gradient":case"gradient":var h=this.images.get(n.value);h?this.renderBackgroundGradient(h,e,i):r("Error loading background-image",n.args[0]);break;case"none":break;default:r("Unknown background-image type",n.args[0])}},this)},n.prototype.renderBackgroundRepeating=function(t,e,i,r,n){var s=t.parseBackgroundSize(e,i.image,r),o=t.parseBackgroundPosition(e,i.image,r,s),a=t.parseBackgroundRepeat(r);switch(a){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(i,o,s,e,e.left+n[3],e.top+o.top+n[0],99999,s.height,n);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(i,o,s,e,e.left+o.left+n[3],e.top+n[0],s.width,99999,n);break;case"no-repeat":this.backgroundRepeatShape(i,o,s,e,e.left+o.left+n[3],e.top+o.top+n[0],s.width,s.height,n);break;default:this.renderBackgroundRepeat(i,o,s,{top:e.top,left:e.left},n[3],n[0])}},e.exports=n},{"./log":15}],23:[function(t,e,i){var r=t("../renderer"),n=t("../lineargradientcontainer"),s=t("../log");function o(t,e){r.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=t,this.canvas.height=e),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},s("Initialized CanvasRenderer with size",t,"x",e)}o.prototype=Object.create(r.prototype),o.prototype.setFillStyle=function(t){return this.ctx.fillStyle="object"==typeof t&&t.isColor?t.toString():t,this.ctx},o.prototype.rectangle=function(t,e,i,r,n){this.setFillStyle(n).fillRect(t,e,i,r)},o.prototype.circle=function(t,e,i,r){this.setFillStyle(r),this.ctx.beginPath(),this.ctx.arc(t+i/2,e+i/2,i/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},o.prototype.circleStroke=function(t,e,i,r,n,s){this.circle(t,e,i,r),this.ctx.strokeStyle=s.toString(),this.ctx.stroke()},o.prototype.drawShape=function(t,e){this.shape(t),this.setFillStyle(e).fill()},o.prototype.taints=function(t){if(null===t.tainted){this.taintCtx.drawImage(t.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),t.tainted=!1}catch(e){this.taintCtx=document.createElement("canvas").getContext("2d"),t.tainted=!0}}return t.tainted},o.prototype.drawImage=function(t,e,i,r,n,s,o,a,h){this.taints(t)&&!this.options.allowTaint||this.ctx.drawImage(t.image,e,i,r,n,s,o,a,h)},o.prototype.clip=function(t,e,i){this.ctx.save(),t.filter(a).forEach(function(t){this.shape(t).clip()},this),e.call(i),this.ctx.restore()},o.prototype.shape=function(t){return this.ctx.beginPath(),t.forEach(function(t,e){"rect"===t[0]?this.ctx.rect.apply(this.ctx,t.slice(1)):this.ctx[0===e?"moveTo":t[0]+"To"].apply(this.ctx,t.slice(1))},this),this.ctx.closePath(),this.ctx},o.prototype.font=function(t,e,i,r,n,s){this.setFillStyle(t).font=[e,i,r,n,s].join(" ").split(",")[0]},o.prototype.fontShadow=function(t,e,i,r){this.setVariable("shadowColor",t.toString()).setVariable("shadowOffsetY",e).setVariable("shadowOffsetX",i).setVariable("shadowBlur",r)},o.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},o.prototype.setOpacity=function(t){this.ctx.globalAlpha=t},o.prototype.setTransform=function(t){this.ctx.translate(t.origin[0],t.origin[1]),this.ctx.transform.apply(this.ctx,t.matrix),this.ctx.translate(-t.origin[0],-t.origin[1])},o.prototype.setVariable=function(t,e){return this.variables[t]!==e&&(this.variables[t]=this.ctx[t]=e),this},o.prototype.text=function(t,e,i){this.ctx.fillText(t,e,i)},o.prototype.backgroundRepeatShape=function(t,e,i,r,n,s,o,a,h){var l=[["line",Math.round(n),Math.round(s)],["line",Math.round(n+o),Math.round(s)],["line",Math.round(n+o),Math.round(a+s)],["line",Math.round(n),Math.round(a+s)]];this.clip([l],function(){this.renderBackgroundRepeat(t,e,i,r,h[3],h[0])},this)},o.prototype.renderBackgroundRepeat=function(t,e,i,r,n,s){var o=Math.round(r.left+e.left+n),a=Math.round(r.top+e.top+s);this.setFillStyle(this.ctx.createPattern(this.resizeImage(t,i),"repeat")),this.ctx.translate(o,a),this.ctx.fill(),this.ctx.translate(-o,-a)},o.prototype.renderBackgroundGradient=function(t,e){if(t instanceof n){var i=this.ctx.createLinearGradient(e.left+e.width*t.x0,e.top+e.height*t.y0,e.left+e.width*t.x1,e.top+e.height*t.y1);t.colorStops.forEach(function(t){i.addColorStop(t.stop,t.color.toString())}),this.rectangle(e.left,e.top,e.width,e.height,i)}},o.prototype.resizeImage=function(t,e){var i=t.image;if(i.width===e.width&&i.height===e.height)return i;var r=document.createElement("canvas");return r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(i,0,0,i.width,i.height,0,0,e.width,e.height),r};function a(t){return t.length>0}e.exports=o},{"../lineargradientcontainer":14,"../log":15,"../renderer":22}],24:[function(t,e,i){var r=t("./nodecontainer");function n(t,e,i,n){r.call(this,i,n),this.ownStacking=t,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*e}n.prototype=Object.create(r.prototype),n.prototype.getParentStack=function(t){var e=this.parent?this.parent.stack:null;return e?e.ownStacking?e:e.getParentStack(t):t.stack},e.exports=n},{"./nodecontainer":16}],25:[function(t,e,i){function r(t){this.rangeBounds=this.testRangeBounds(t),this.cors=this.testCORS(),this.svg=this.testSVG()}r.prototype.testRangeBounds=function(t){var e,i,r,n=!1;return t.createRange&&(e=t.createRange()).getBoundingClientRect&&((i=t.createElement("boundtest")).style.height="123px",i.style.display="block",t.body.appendChild(i),e.selectNode(i),r=e.getBoundingClientRect(),123===r.height&&(n=!0),t.body.removeChild(i)),n},r.prototype.testCORS=function(){return void 0!==(new Image).crossOrigin},r.prototype.testSVG=function(){var t=new Image,e=document.createElement("canvas"),i=e.getContext("2d");t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(t,0,0),e.toDataURL()}catch(t){return!1}return!0},e.exports=r},{}],26:[function(t,e,i){var r=t("./promise"),n=t("./xhr"),s=t("./utils").decode64;function o(t){this.src=t,this.image=null;var e=this;this.promise=this.hasFabric().then(function(){return e.isInline(t)?r.resolve(e.inlineFormatting(t)):n(t)}).then(function(t){return new r(function(i){window.html2canvas.svg.fabric.loadSVGFromString(t,e.createCanvas.call(e,i))})})}o.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?r.resolve():r.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},o.prototype.inlineFormatting=function(t){return/^data:image\/svg\+xml;base64,/.test(t)?this.decode64(this.removeContentType(t)):this.removeContentType(t)},o.prototype.removeContentType=function(t){return t.replace(/^data:image\/svg\+xml(;base64)?,/,"")},o.prototype.isInline=function(t){return/^data:image\/svg\+xml/i.test(t)},o.prototype.createCanvas=function(t){var e=this;return function(i,r){var n=new window.html2canvas.svg.fabric.StaticCanvas("c");e.image=n.lowerCanvasEl,n.setWidth(r.width).setHeight(r.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(i,r)).renderAll(),t(n.lowerCanvasEl)}},o.prototype.decode64=function(t){return"function"==typeof window.atob?window.atob(t):s(t)},e.exports=o},{"./promise":18,"./utils":29,"./xhr":31}],27:[function(t,e,i){var r=t("./svgcontainer"),n=t("./promise");function s(t,e){this.src=t,this.image=null;var i=this;this.promise=e?new n(function(e,r){i.image=new Image,i.image.onload=e,i.image.onerror=r,i.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(t),!0===i.image.complete&&e(i.image)}):this.hasFabric().then(function(){return new n(function(e){window.html2canvas.svg.fabric.parseSVGDocument(t,i.createCanvas.call(i,e))})})}s.prototype=Object.create(r.prototype),e.exports=s},{"./promise":18,"./svgcontainer":26}],28:[function(t,e,i){var r=t("./nodecontainer");function n(t,e){r.call(this,t,e)}n.prototype=Object.create(r.prototype),n.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},n.prototype.transform=function(t){var e=this.node.data;switch(t){case"lowercase":return e.toLowerCase();case"capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,s);case"uppercase":return e.toUpperCase();default:return e}};function s(t,e,i){if(t.length>0)return e+i.toUpperCase()}e.exports=n},{"./nodecontainer":16}],29:[function(t,e,i){i.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},i.bind=function(t,e){return function(){return t.apply(e,arguments)}},i.decode64=function(t){var e,i,r,n,s,o,a,h,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=t.length,c="";for(e=0;e<u;e+=4)i=l.indexOf(t[e]),r=l.indexOf(t[e+1]),n=l.indexOf(t[e+2]),s=l.indexOf(t[e+3]),o=i<<2|r>>4,a=(15&r)<<4|n>>2,h=(3&n)<<6|s,c+=64===n?String.fromCharCode(o):64===s||-1===s?String.fromCharCode(o,a):String.fromCharCode(o,a,h);return c},i.getBounds=function(t){if(t.getBoundingClientRect){var e=t.getBoundingClientRect(),i=null==t.offsetWidth?e.width:t.offsetWidth;return{top:e.top,bottom:e.bottom||e.top+e.height,right:e.left+i,left:e.left,width:i,height:null==t.offsetHeight?e.height:t.offsetHeight}}return{}},i.offsetBounds=function(t){var e=t.offsetParent?i.offsetBounds(t.offsetParent):{top:0,left:0};return{top:t.offsetTop+e.top,bottom:t.offsetTop+t.offsetHeight+e.top,right:t.offsetLeft+e.left+t.offsetWidth,left:t.offsetLeft+e.left,width:t.offsetWidth,height:t.offsetHeight}},i.parseBackgrounds=function(t){var e,i,r,n,s,o,a,h=[],l=0,u=0,c=function(){e&&('"'===i.substr(0,1)&&(i=i.substr(1,i.length-2)),i&&a.push(i),"-"===e.substr(0,1)&&(n=e.indexOf("-",1)+1)>0&&(r=e.substr(0,n),e=e.substr(n)),h.push({prefix:r,method:e.toLowerCase(),value:s,args:a,image:null})),a=[],e=r=i=s=""};return a=[],e=r=i=s="",t.split("").forEach(function(t){if(!(0===l&&" \r\n\t".indexOf(t)>-1)){switch(t){case'"':o?o===t&&(o=null):o=t;break;case"(":if(o)break;if(0===l)return l=1,void(s+=t);u++;break;case")":if(o)break;if(1===l){if(0===u)return l=0,s+=t,void c();u--}break;case",":if(o)break;if(0===l)return void c();if(1===l&&0===u&&!e.match(/^url$/i))return a.push(i),i="",void(s+=t)}s+=t,0===l?e+=t:i+=t}}),c(),h}},{}],30:[function(t,e,i){var r=t("./gradientcontainer");function n(t){r.apply(this,arguments),this.type="linear"===t.args[0]?this.TYPES.LINEAR:this.TYPES.RADIAL}n.prototype=Object.create(r.prototype),e.exports=n},{"./gradientcontainer":11}],31:[function(t,e,i){var r=t("./promise");e.exports=function(t){return new r(function(e,i){var r=new XMLHttpRequest;r.open("GET",t),r.onload=function(){200===r.status?e(r.responseText):i(new Error(r.statusText))},r.onerror=function(){i(new Error("Network Error"))},r.send()})}},{"./promise":18}]},{},[6])(6)}(),function(t,e){"use strict";!function(t){var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.select=this.options.select||this.select,this.autoSelect="boolean"!=typeof this.options.autoSelect||this.options.autoSelect,this.highlighter=this.options.highlighter||this.highlighter,this.render=this.options.render||this.render,this.updater=this.options.updater||this.updater,this.displayText=this.options.displayText||this.displayText,this.source=this.options.source,this.delay=this.options.delay,this.$menu=t(this.options.menu),this.$appendTo=this.options.appendTo?t(this.options.appendTo):null,this.shown=!1,this.listen(),this.showHintOnFocus="boolean"==typeof this.options.showHintOnFocus&&this.options.showHintOnFocus,this.afterSelect=this.options.afterSelect,this.addItem=!1};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").data("value");if(this.$element.data("active",t),this.autoSelect||t){var e=this.updater(t);this.$element.val(this.displayText(e)||e).change(),this.afterSelect(e)}return this.hide()},updater:function(t){return t},setSource:function(t){this.source=t},show:function(){var e,i=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return e="function"==typeof this.options.scrollHeight?this.options.scrollHeight.call():this.options.scrollHeight,(this.$appendTo?this.$menu.appendTo(this.$appendTo):this.$menu.insertAfter(this.$element)).css({top:i.top+i.height+e,left:i.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(e){if(this.query=void 0!==e&&null!==e?e:this.$element.val()||"",this.query.length<this.options.minLength)return this.shown?this.hide():this;var i=t.proxy(function(){t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source&&this.process(this.source)},this);clearTimeout(this.lookupWorker),this.lookupWorker=setTimeout(i,this.delay)},process:function(e){var i=this;return e=t.grep(e,function(t){return i.matcher(t)}),(e=this.sorter(e)).length||this.options.addItem?(e.length>0?this.$element.data("active",e[0]):this.$element.data("active",null),this.options.addItem&&e.push(this.options.addItem),"all"==this.options.items?this.render(e).show():this.render(e.slice(0,this.options.items)).show()):this.shown?this.hide():this},matcher:function(t){var e=this.displayText(t);return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],r=[],n=[];e=t.shift();){var s=this.displayText(e);s.toLowerCase().indexOf(this.query.toLowerCase())?~s.indexOf(this.query)?r.push(e):n.push(e):i.push(e)}return i.concat(r,n)},highlighter:function(e){var i,r,n,s,o,a=t("<div></div>"),h=this.query,l=e.toLowerCase().indexOf(h.toLowerCase());if(0===(i=h.length))return a.text(e).html();for(;l>-1;)r=e.substr(0,l),n=e.substr(l,i),s=e.substr(l+i),o=t("<strong></strong>").text(n),a.append(document.createTextNode(r)).append(o),l=(e=s).toLowerCase().indexOf(h.toLowerCase());return a.append(document.createTextNode(e)).html()},render:function(e){var i=this,r=this,n=!1;return e=t(e).map(function(e,s){var o=r.displayText(s);return(e=t(i.options.item).data("value",s)).find("a").html(i.highlighter(o)),o==r.$element.val()&&(e.addClass("active"),r.$element.data("active",s),n=!0),e[0]}),this.autoSelect&&!n&&(e.first().addClass("active"),this.$element.data("active",e.first().data("value"))),this.$menu.html(e),this},displayText:function(t){return t.name||t},next:function(e){var i=this.$menu.find(".active").removeClass("active"),r=i.next();r.length||(r=t(this.$menu.find("li")[0])),r.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active"),i=e.prev();i.length||(i=this.$menu.find("li").last()),i.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},destroy:function(){this.$element.data("typeahead",null),this.$element.data("active",null),this.$element.off("focus").off("blur").off("keypress").off("keyup"),this.eventSupported("keydown")&&this.$element.off("keydown"),this.$menu.remove()},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown)switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:if(t.shiftKey)return;t.preventDefault(),this.prev();break;case 40:if(t.shiftKey)return;t.preventDefault(),this.next()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.shown||40!=e.keyCode?this.move(e):this.lookup()},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.preventDefault()},focus:function(t){this.focused||(this.focused=!0,this.options.showHintOnFocus&&this.lookup(""))},blur:function(t){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var i=t.fn.typeahead;t.fn.typeahead=function(i){var r=arguments;return"string"==typeof i&&"getActive"==i?this.data("active"):this.each(function(){var n=t(this),s=n.data("typeahead"),o="object"==typeof i&&i;s||n.data("typeahead",s=new e(this,o)),"string"==typeof i&&(r.length>1?s[i].apply(s,Array.prototype.slice.call(r,1)):s[i]())})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu" role="listbox"></ul>',item:'<li><a href="#" role="option"></a></li>',minLength:1,scrollHeight:0,autoSelect:!0,afterSelect:t.noop,addItem:!1,delay:0},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=i,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var i=t(this);i.data("typeahead")||i.typeahead(i.data())})}(t.jQuery)}(this);var MathUtils={};MathUtils.angle2pos=function(t,e,i){return{x:t.x+e*Math.cos(Math.PI*(i/180)),y:t.y+e*Math.sin(Math.PI*(i/180))}},MathUtils.pos2angle=function(t,e){return Math.atan2(t.y-e.y,t.x-e.x)*(180/Math.PI)},MathUtils.randomMinMax=function(t,e){return t+Math.random()*(e-t)},MathUtils.deg2rad=function(t){return t/180*Math.PI},MathUtils.rad2deg=function(t){return 180*t/Math.PI},MathUtils.hypotenuse=function(t,e){return Math.sqrt(t*t+e*e)},MathUtils.delay=function(t,e,i){setTimeout(e(i),1e3*t)},MathUtils.randomColor=function(){return(16777215*Math.random()<<0).toString(16)},MathUtils.distance=function(t,e){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},MathUtils.getMove=function(t,e){return{x:(e.x,t.x,e.x-t.x),y:(e.y,t.y,e.y-t.y)}},MathUtils.getMovement=function(t,e){var i,r;return t.x1=t.x2,t.x2=e.x,i=e.x>t.x1?1:-1,t.y1=t.y2,t.y2=e.y,r=e.y>t.y1?1:-1,{x:i*MathUtils.distance({x:t.x1,y:0},{x:t.x2,y:0}),y:r*MathUtils.distance({x:0,y:t.y1},{x:0,y:t.y2})}},MathUtils.getMouse=function(t,e){var i=e,r=0,n=0;if(void 0!==i.offsetParent)do{r+=i.offsetLeft,n+=i.offsetTop}while(i=i.offsetParent);return t.touches?{x:t.touches[0].pageX-r,y:t.touches[0].pageY-n}:{x:t.pageX-r,y:t.pageY-n}},function(){var t=this.PIXI;if(t){var e=function(e,i,r){t.Text.call(this,e,r),this.setTextStyles(i)};(e.prototype=Object.create(t.Text.prototype)).constructor=e,e.prototype.setAlignmentStyle=e.prototype.setStyle=function(t){(t=t||{}).align=t.align||"left",t.wordWrap=t.wordWrap||!0,t.wordWrapWidth=t.wordWrapWidth||1e3,this.style=t,this.dirty=!0},e.prototype.setTextStyles=function(t){for(var e in t)t.hasOwnProperty(e)&&i(t[e]);t.def||(t.def={},i(t.def)),this.textStyles=t,this.dirty=!0},e.prototype._getTextDataPerLine=function(t){for(var e=[],i=Object.keys(this.textStyles).join("|"),n=new RegExp("</?("+i+")>","g"),s=this.textStyles.def,o=0;o<t.length;o++){for(var a,h=[],l=[];null!==(a=n.exec(t[o]))&&l.push(a););if(l.length){for(var u=0,c=0;c<l.length;c++)l[c].index>u&&h.push(r(t[o].substring(u,l[c].index),s)),s="/"==l[c][0][1]?this.textStyles.def:this.textStyles[l[c][1]]||this.textStyles.def,u=l[c].index+l[c][0].length;u<t[o].length&&h.push({text:t[o].substring(u),style:this.textStyles.def})}else h.push(r(t[o],s));e.push(h)}return e},e.prototype.updateText=function(){this.texture.baseTexture.resolution=this.resolution;var t,e,i=this.text,r=this.textStyles;this.style.wordWrap&&(i=this.wordWrap(this.text));var n=i.split(/(?:\r\n|\r|\n)/),s=this._getTextDataPerLine(n),o=[],a=[],h=0;for(t=0;t<n.length;t++){var l=0,u=0;for(e=0;e<s[t].length;e++)this.context.font=s[t][e].style.font,s[t][e].width=this.context.measureText(s[t][e].text).width,l+=s[t][e].width,s[t][e].fontProperties=this.determineFontProperties(s[t][e].style.font),s[t][e].height=s[t][e].fontProperties.fontSize+s[t][e].style.strokeThickness,u=Math.max(u,s[t][e].height+(s[t][e].style.interligne||0));o[t]=l,a[t]=u,h=Math.max(h,l)}var c=Object.keys(r).map(function(t){return r[t]}),p=c.reduce(function(t,e){return Math.max(t,e.strokeThickness)},0),d=c.reduce(function(t,e){var i=e.dropShadow?e.dropShadowDistance:0;return Math.max(t,i)},0),f=h+p+d,g=Math.max.apply(null,a)*n.length+d;this.canvas.width=(f+this.context.lineWidth)*this.resolution,this.canvas.height=g*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.textBaseline="alphabetic",this.context.lineJoin="round";var m,v;for(t=0;t<s.length;t++){var y=s[t];for(m=0,e=0;e<y.length;e++){var x=y[e].style,b=y[e].text,_=y[e].fontProperties;if(this.context.font=x.font,this.context.strokeStyle=x.stroke,this.context.lineWidth=x.strokeThickness,m+=p/2,v=p/2+t*a[t]+_.ascent+(x.bottom||0),"right"===this.style.align?m+=h-o[t]:"center"===this.style.align&&(m+=(h-o[t])/2),"bottom"===x.valign?v+=a[t]-y[e].height-(p-x.strokeThickness)/2:"middle"===x.valign&&(v+=(a[t]-y[e].height)/2-(p-x.strokeThickness)/2),x.dropShadow){this.context.fillStyle=x.dropShadowColor;var w=Math.sin(x.dropShadowAngle)*x.dropShadowDistance,T=Math.cos(x.dropShadowAngle)*x.dropShadowDistance;x.fill&&this.context.fillText(b,m+w,v+T)}this.context.fillStyle=x.fill,x.stroke&&x.strokeThickness&&this.context.strokeText(b,m,v),x.fill&&this.context.fillText(b,m,v),m+=y[e].width,m-=p/2}}this.updateTexture()},t.MultiStyleText=e}function i(t){(t=t||{}).font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.dropShadow=t.dropShadow||!1,t.dropShadowAngle=t.dropShadowAngle||Math.PI/6,t.dropShadowDistance=t.dropShadowDistance||4,t.dropShadowColor=t.dropShadowColor||"black"}function r(t,e){return{text:t,style:e,width:0,height:0,fontProperties:null}}}.call(this);var Stats=function(){var t=Date.now(),e=t,i=0,r=1/0,n=0,s=0,o=1/0,a=0,h=0,l=0,u=document.createElement("div");u.id="stats",u.addEventListener("mousedown",function(t){t.preventDefault(),y(++l%2)},!1),u.style.cssText="width:80px;opacity:0.9;cursor:pointer";var c=document.createElement("div");c.id="fps",c.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",u.appendChild(c);var p=document.createElement("div");p.id="fpsText",p.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",p.innerHTML="FPS",c.appendChild(p);var d=document.createElement("div");for(d.id="fpsGraph",d.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",c.appendChild(d);74>d.children.length;){var f=document.createElement("span");f.style.cssText="width:1px;height:30px;float:left;background-color:#113",d.appendChild(f)}var g=document.createElement("div");g.id="ms",g.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",u.appendChild(g);var m=document.createElement("div");m.id="msText",m.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",m.innerHTML="MS",g.appendChild(m);var v=document.createElement("div");for(v.id="msGraph",v.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",g.appendChild(v);74>v.children.length;)f=document.createElement("span"),f.style.cssText="width:1px;height:30px;float:left;background-color:#131",v.appendChild(f);var y=function(t){switch(l=t){case 0:c.style.display="block",g.style.display="none";break;case 1:c.style.display="none",g.style.display="block"}};return{REVISION:11,domElement:u,setMode:y,begin:function(){t=Date.now()},end:function(){var l=Date.now();i=l-t,r=Math.min(r,i),n=Math.max(n,i),m.textContent=i+" MS ("+r+"-"+n+")";var u=Math.min(30,30-i/200*30);return v.appendChild(v.firstChild).style.height=u+"px",h++,l>e+1e3&&(s=Math.round(1e3*h/(l-e)),o=Math.min(o,s),a=Math.max(a,s),p.textContent=s+" FPS ("+o+"-"+a+")",u=Math.min(30,30-s/100*30),d.appendChild(d.firstChild).style.height=u+"px",e=l,h=0),l},update:function(){t=this.end()}}},Tools={};Tools.hexDecode=function(t){var e,i=t.match(/.{1,4}/g)||[],r="";for(e=0;e<i.length;e++)r+=String.fromCharCode(parseInt(i[e],16));return r},Tools.ieInnerHTML=function(t,e){var i=t.innerHTML?String(t.innerHTML):t,r=i.match(/(<.+[^>])/g);if(r)for(var n=0;n<r.length;n+=1){var s,o=r[n];if(r[n]=r[n].replace(/([<|<\/].+?\w+).+[^>]/,function(t){return t}),s=r[n].match(/\=[a-zA-Z\.\:\[\]_\(\)\&\$\%#\@\!0-9\/]+[?\s+|?>]/g))for(var a=0,h=s.length;a<h;){r[n]=r[n].replace(s[a],s[a].replace(/(\=)([a-zA-Z\.\:\[\]_\(\)\&\$\%#\@\!0-9\/]+)?([\s+|?>])/g,function(){var t=Array.prototype.slice.call(arguments);return'="'+t[2]+'"'+t[3]})),a+=1}i=i.replace(o,r[n])}return i},Tools.print2digits=function(t,e){var i=e-(t+"").length,r="";if(i>0)for(var n=0;n<i;n++)r+="0";return r+t},Tools.getDevice=function(){return navigator.userAgent.match(/(android|iphone|ipad|blackberry|symbian|symbianos|symbos|netfront|model-orange|javaplatform|iemobile|windows phone|samsung|htc|opera mobile|opera mobi|opera mini|presto|huawei|blazer|bolt|doris|fennec|gobrowser|iris|maemo browser|mib|cldc|minimo|semc-browser|skyfire|teashark|teleca|uzard|uzardweb|meego|nokia|bb10|playbook)/gi)?window.innerWidth>480&&window.innerHeight>800||window.innerWidth>800&&window.innerHeight>480||navigator.userAgent.match(/ipad/gi)?"tablet":"mobile":"desktop"},Tools.iOSversion=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||0,10)]}return[]},Tools.getCssText=function(t,e,i,r){var n=new PIXI.Sprite(new PIXI.Texture(new PIXI.BaseTexture));n.scale.x=n.scale.y=1/i;var s=document.createElement("div"),o=document.createElement("div");o.style.position="absolute",o.style.left="0px",o.style.top="0px",o.style.width="10px",o.style.overflow="hidden",document.body.appendChild(o);for(var a in e)"number"==typeof e[a]?s.style[a]=e[a]*i+"px":s.style[a]=e[a];return s.style.position="absolute",s.innerHTML=t,o.appendChild(s),n.width=s.offsetWidth/i,n.height=s.offsetHeight/i,html2canvas(s,{letterRendering:!0,onrendered:function(t){document.body.removeChild(o),n.width=.5,n.height=.5,n.setTexture(PIXI.Texture.fromCanvas(t)),r&&r(t)}}),n},Tools.getCanvasElement=function(t,e,i,r,n){var s=r||1,o=new PIXI.Sprite(new PIXI.Texture(new PIXI.BaseTexture));return o.scale.x=o.scale.y=1/s,o.width=e||t.offsetWidth/s,o.height=i||t.offsetHeight/s,html2canvas(t,{width:e,height:i,letterRendering:!0,onrendered:function(t){o.width=.5,o.height=.5,o.setTexture(PIXI.Texture.fromCanvas(t)),n&&n(t)}}),o},Tools.loadFont=function(t,e){var i,r=new PIXI.Text("A",{font:"100px nofont"}),n=!0;requestAnimFrame(function s(){if(n){n=!1;for(var o=0,a=0;a<=t.length;)i=new PIXI.Text("A",{font:"100px "+t[a]}),r.width==i.width?o++:t.splice(a,1),a++;o>0?requestAnimFrame(s):e&&TweenLite.delayedCall(1,e),n=!0}})},Tools.getTextElement=function(t){return document.getElementById(t).innerHTML},Tools.getPropertyElement=function(t,e){return document.getElementById(t).getAttribute(e)},Tools.clone=function(t,e,i){var r=new PIXI.RenderTexture(e,i);return r.render(t),r},Tools.bowser=function(){var t=!0;function e(e){function i(t){var i=e.match(t);return i&&i.length>1&&i[1]||""}var r,n=i(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(e)&&/android/i.test(e),o=i(/version\/(\d+(\.\d+)?)/i),a=/tablet/i.test(e),h=!a&&/[^-]mobi/i.test(e);/opera|opr/i.test(e)?r={name:"Opera",opera:t,version:o||i(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(e)?r={name:"Windows Phone",windowsphone:t,msie:t,version:i(/iemobile\/(\d+(\.\d+)?)/i)}:/msie|trident/i.test(e)?r={name:"Internet Explorer",msie:t,version:i(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/chrome|crios|crmo/i.test(e)?r={name:"Chrome",chrome:t,version:i(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:n?(r={name:"iphone"==n?"iPhone":"ipad"==n?"iPad":"iPod"},o&&(r.version=o)):/sailfish/i.test(e)?r={name:"Sailfish",sailfish:t,version:i(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?r={name:"SeaMonkey",seamonkey:t,version:i(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(e)?(r={name:"Firefox",firefox:t,version:i(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(r.firefoxos=t)):/silk/i.test(e)?r={name:"Amazon Silk",silk:t,version:i(/silk\/(\d+(\.\d+)?)/i)}:s?r={name:"Android",version:o}:/phantom/i.test(e)?r={name:"PhantomJS",phantom:t,version:i(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?r={name:"BlackBerry",blackberry:t,version:o||i(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(e)?(r={name:"WebOS",webos:t,version:o||i(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(r.touchpad=t)):r=/bada/i.test(e)?{name:"Bada",bada:t,version:i(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(e)?{name:"Tizen",tizen:t,version:i(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||o}:/safari/i.test(e)?{name:"Safari",safari:t,version:o}:{},/(apple)?webkit/i.test(e)?(r.name=r.name||"Webkit",r.webkit=t,!r.version&&o&&(r.version=o)):!r.opera&&/gecko\//i.test(e)&&(r.name=r.name||"Gecko",r.gecko=t,r.version=r.version||i(/gecko\/(\d+(\.\d+)?)/i)),s||r.silk?r.android=t:n&&(r[n]=t,r.ios=t);var l="";n?l=(l=i(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):s?l=i(/android[ \/-](\d+(\.\d+)*)/i):r.windowsphone?l=i(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.webos?l=i(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?l=i(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?l=i(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(l=i(/tizen[\/\s](\d+(\.\d+)*)/i)),l&&(r.osversion=l);var u=l.split(".")[0];return a||"ipad"==n||s&&(3==u||4==u&&!h)||r.silk?r.tablet=t:(h||"iphone"==n||"ipod"==n||s||r.blackberry||r.webos||r.bada)&&(r.mobile=t),r.msie&&r.version>=10||r.chrome&&r.version>=20||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6?r.a=t:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6?r.c=t:r.x=t,r}var i=e("undefined"!=typeof navigator?navigator.userAgent:"");return i._detect=e,i},Tools.PIXITextOverwided=function(){PIXI.Text.prototype.setStyle=function(t){(t=t||{}).font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.interligne=t.interligne||0,t.dropShadow=t.dropShadow||!1,t.dropShadowAngle=t.dropShadowAngle||Math.PI/6,t.dropShadowDistance=t.dropShadowDistance||4,t.dropShadowColor=t.dropShadowColor||"black",this.style=t,this.dirty=!0},PIXI.Text.prototype.setText=function(t){this.text=t.toString()||" ",this.dirty=!0},PIXI.Text.prototype.updateText=function(){this.texture.baseTexture.resolution=this.resolution,this.context.font=this.style.font;var t=this.text;this.style.wordWrap&&(t=this.wordWrap(this.text));for(var e=t.split(/(?:\r\n|\r|\n)/),i=[],r=0,n=this.determineFontProperties(this.style.font),s=0;s<e.length;s++){var o=this.context.measureText(e[s]).width;i[s]=o,r=Math.max(r,o)}var a=r+this.style.strokeThickness;this.style.dropShadow&&(a+=this.style.dropShadowDistance),this.canvas.width=(a+this.context.lineWidth)*this.resolution;var h=n.fontSize+this.style.strokeThickness+this.style.interligne,l=h*e.length;this.style.dropShadow&&(l+=this.style.dropShadowDistance),this.canvas.height=l*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this.style.font,this.context.strokeStyle=this.style.stroke,this.context.lineWidth=this.style.strokeThickness,this.context.textBaseline="alphabetic";var u,c;if(this.style.dropShadow){this.context.fillStyle=this.style.dropShadowColor;var p=Math.sin(this.style.dropShadowAngle)*this.style.dropShadowDistance,d=Math.cos(this.style.dropShadowAngle)*this.style.dropShadowDistance;for(s=0;s<e.length;s++)u=this.style.strokeThickness/2,c=this.style.strokeThickness/2+s*h+n.ascent,"right"===this.style.align?u+=r-i[s]:"center"===this.style.align&&(u+=(r-i[s])/2),this.style.fill&&this.context.fillText(e[s],u+p,c+d)}for(this.context.fillStyle=this.style.fill,s=0;s<e.length;s++)u=this.style.strokeThickness/2,c=this.style.strokeThickness/2+s*h+n.ascent,"right"===this.style.align?u+=r-i[s]:"center"===this.style.align&&(u+=(r-i[s])/2),this.style.stroke&&this.style.strokeThickness&&this.context.strokeText(e[s],u,c),this.style.fill&&this.context.fillText(e[s],u,c);this.updateTexture()}};var VideoPlayer=VideoPlayer||{};(function(){VideoPlayer.player=function(t,e,i,r){console.log("*** VideoPlayer ***"),this.loop=e,this.video=document.createElement("video"),this.video.style.position="absolute",this.video.style.top="0px",this.video.src=t,this.video.loop=e,this.video.width=1024,this.video.height=576,r&&this.video.addEventListener("ended",r,!1),i&&this.video.addEventListener("play",i,!1),document.body.appendChild(this.video)},VideoPlayer.player.prototype.play=function(){this.video.play()},VideoPlayer.player.prototype.pause=function(){this.video.pause()},VideoPlayer.player.prototype.load=function(){this.video.load()},VideoPlayer.player.prototype.element=function(){return this.video}}).call(this);
//# sourceMappingURL=vendor.js.map